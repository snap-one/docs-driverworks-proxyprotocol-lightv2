
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Driverworks Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-4e483f2e.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

  </head>

  <body class="index" data-languages="[&quot;lua&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-3056e635.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="lua">lua</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#license-copyright-and-trademark" class="toc-h1 toc-link" data-title="License, Copyright, and Trademark">License, Copyright, and Trademark</a>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction-proxies-commands" class="toc-h2 toc-link" data-title="Proxies (Commands)">Proxies (Commands)</a>
                  </li>
                  <li>
                    <a href="#introduction-protocol-notifications" class="toc-h2 toc-link" data-title="Protocol (Notifications)">Protocol (Notifications)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#what-s-new" class="toc-h1 toc-link" data-title="What’s New">What’s New</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-1" class="toc-h2 toc-link" data-title="What’s New in 3.4.1">What’s New in 3.4.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-4-0" class="toc-h2 toc-link" data-title="What’s New in 3.4.0">What’s New in 3.4.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-2" class="toc-h2 toc-link" data-title="What’s New in 3.3.2">What’s New in 3.3.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-1" class="toc-h2 toc-link" data-title="What’s New in 3.3.1">What’s New in 3.3.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-3-0" class="toc-h2 toc-link" data-title="What’s New in 3.3.0">What’s New in 3.3.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-3" class="toc-h2 toc-link" data-title="What’s New in 3.2.3">What’s New in 3.2.3</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-2" class="toc-h2 toc-link" data-title="What’s New in 3.2.2">What’s New in 3.2.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-1" class="toc-h2 toc-link" data-title="What’s New in 3.2.1">What’s New in 3.2.1</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-s-new-in-3-2-0" class="toc-h2 toc-link" data-title="What’s New in 3.2.0">What’s New in 3.2.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-3-1-2" class="toc-h2 toc-link" data-title="What was New in 3.1.2">What was New in 3.1.2</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-3-1-0" class="toc-h2 toc-link" data-title="What was New in 3.1.0">What was New in 3.1.0</a>
                  </li>
                  <li>
                    <a href="#what-s-new-what-was-new-in-o-s-3" class="toc-h2 toc-link" data-title="What was New in O.S.3">What was New in O.S.3</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#light-v2-capabilities" class="toc-h1 toc-link" data-title="Light V2 Capabilities">Light V2 Capabilities</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#light-v2-capabilities-brightness_rate_max" class="toc-h2 toc-link" data-title="brightness_rate_max">brightness_rate_max</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-brightness_rate_min" class="toc-h2 toc-link" data-title="brightness_rate_min">brightness_rate_min</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-set_level" class="toc-h2 toc-link" data-title="set_level">set_level</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-supports_target" class="toc-h2 toc-link" data-title="supports_target">supports_target</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-dimmer" class="toc-h2 toc-link" data-title="dimmer">dimmer</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-brightness_on-mode_preset" class="toc-h2 toc-link" data-title="brightness_on mode_preset">brightness_on mode_preset</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-brightness_on_mode_previous" class="toc-h2 toc-link" data-title="brightness_on_mode_previous">brightness_on_mode_previous</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_on_mode_fade" class="toc-h2 toc-link" data-title="color_on_mode_fade">color_on_mode_fade</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_on_mode_preset" class="toc-h2 toc-link" data-title="color_on_mode_preset">color_on_mode_preset</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_on_mode_previous" class="toc-h2 toc-link" data-title="color_on_mode_previous">color_on_mode_previous</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-cold_start" class="toc-h2 toc-link" data-title="cold_start">cold_start</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_correlated_temperature_max" class="toc-h2 toc-link" data-title="color_correlated_temperature_max">color_correlated_temperature_max</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_correlated_temperature_min" class="toc-h2 toc-link" data-title="color_correlated_temperature_min">color_correlated_temperature_min</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_rate_behavior" class="toc-h2 toc-link" data-title="color_rate_behavior">color_rate_behavior</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_rate_max" class="toc-h2 toc-link" data-title="color_rate_max">color_rate_max</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_rate_min" class="toc-h2 toc-link" data-title="color_rate_min">color_rate_min</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-disable_flash" class="toc-h2 toc-link" data-title="disable_flash">disable_flash</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-has_fixed_ramp_rate" class="toc-h2 toc-link" data-title="has_fixed_ramp_rate">has_fixed_ramp_rate</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-fixed_ramp_rate" class="toc-h2 toc-link" data-title="fixed_ramp_rate">fixed_ramp_rate</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-click_rates" class="toc-h2 toc-link" data-title="click_rates">click_rates</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-click_rate_min" class="toc-h2 toc-link" data-title="click_rate_min">click_rate_min</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-click_rate_max" class="toc-h2 toc-link" data-title="click_rate_max">click_rate_max</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-color_trace_tolerance" class="toc-h2 toc-link" data-title="color_trace_tolerance">color_trace_tolerance</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-has_extras" class="toc-h2 toc-link" data-title="has_extras">has_extras</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-hold_rates" class="toc-h2 toc-link" data-title="hold_rates">hold_rates</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-hold_rate_min" class="toc-h2 toc-link" data-title="hold_rate_min">hold_rate_min</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-hold_rate_max" class="toc-h2 toc-link" data-title="hold_rate_max">hold_rate_max</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-load_group_support" class="toc-h2 toc-link" data-title="load_group_support">load_group_support</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-hide_proxy_events" class="toc-h2 toc-link" data-title="hide_proxy_events">hide_proxy_events</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-has_button_events" class="toc-h2 toc-link" data-title="has_button_events ">has_button_events </a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-has_leds" class="toc-h2 toc-link" data-title="has_leds">has_leds</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-multi_click" class="toc-h2 toc-link" data-title="multi_click">multi_click</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-supports_brightness_stop" class="toc-h2 toc-link" data-title="supports_brightness_stop">supports_brightness_stop</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-supports_color" class="toc-h2 toc-link" data-title="supports_color">supports_color</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-supports_color_correlated_temperature" class="toc-h2 toc-link" data-title="supports_color_correlated_temperature">supports_color_correlated_temperature</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-supports_default_on" class="toc-h2 toc-link" data-title="supports_default_on">supports_default_on</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-advanced_scene_support" class="toc-h2 toc-link" data-title="advanced_scene_support">advanced_scene_support</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-reduced_als_support" class="toc-h2 toc-link" data-title="reduced_als_support">reduced_als_support</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-supports_broadcast_scenes" class="toc-h2 toc-link" data-title="supports_broadcast_scenes">supports_broadcast_scenes</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-supports_multichannel_scenes" class="toc-h2 toc-link" data-title="supports_multichannel_scenes">supports_multichannel_scenes</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-hide_proxy_properties" class="toc-h2 toc-link" data-title="hide_proxy_properties">hide_proxy_properties</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-nesting_driver_is_parent" class="toc-h2 toc-link" data-title="nesting_driver_is_parent">nesting_driver_is_parent</a>
                  </li>
                  <li>
                    <a href="#light-v2-capabilities-nested_driver_is_child" class="toc-h2 toc-link" data-title="nested_driver_is_child">nested_driver_is_child</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#light-v2-conversion-commands" class="toc-h1 toc-link" data-title="Light V2 Conversion Commands">Light V2 Conversion Commands</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#light-v2-conversion-commands-understanding-chromaticity" class="toc-h2 toc-link" data-title="Understanding Chromaticity">Understanding Chromaticity</a>
                  </li>
                  <li>
                    <a href="#light-v2-conversion-commands-colorccttoxy" class="toc-h2 toc-link" data-title="ColorCCTtoXY">ColorCCTtoXY</a>
                  </li>
                  <li>
                    <a href="#light-v2-conversion-commands-colorhsvtorgb" class="toc-h2 toc-link" data-title="ColorHSVtoRGB">ColorHSVtoRGB</a>
                  </li>
                  <li>
                    <a href="#light-v2-conversion-commands-colorhsvtoxy" class="toc-h2 toc-link" data-title="ColorHSVtoXY">ColorHSVtoXY</a>
                  </li>
                  <li>
                    <a href="#light-v2-conversion-commands-colorrgbtohsv" class="toc-h2 toc-link" data-title="ColorRGBtoHSV">ColorRGBtoHSV</a>
                  </li>
                  <li>
                    <a href="#light-v2-conversion-commands-colorrgbtoxy" class="toc-h2 toc-link" data-title="ColorRGBtoXY">ColorRGBtoXY</a>
                  </li>
                  <li>
                    <a href="#light-v2-conversion-commands-colorxytocct" class="toc-h2 toc-link" data-title="ColorXYtoCCT">ColorXYtoCCT</a>
                  </li>
                  <li>
                    <a href="#light-v2-conversion-commands-colorxytohsv" class="toc-h2 toc-link" data-title="ColorXYtoHSV">ColorXYtoHSV</a>
                  </li>
                  <li>
                    <a href="#light-v2-conversion-commands-colorxytorgb" class="toc-h2 toc-link" data-title="ColorXYtoRGB">ColorXYtoRGB</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#light-v2-conditionals" class="toc-h1 toc-link" data-title="Light V2 Conditionals">Light V2 Conditionals</a>
          </li>
          <li>
            <a href="#light-v2-commands" class="toc-h1 toc-link" data-title="Light V2 Commands">Light V2 Commands</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#light-v2-commands-button_action" class="toc-h2 toc-link" data-title="BUTTON_ACTION">BUTTON_ACTION</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-dynamic_off" class="toc-h2 toc-link" data-title="DYNAMIC_OFF">DYNAMIC_OFF</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-dynamic_on" class="toc-h2 toc-link" data-title="DYNAMIC_ON">DYNAMIC_ON</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-delete_driver_-color_-preset" class="toc-h2 toc-link" data-title="DELETE_DRIVER_ COLOR_ PRESET">DELETE_DRIVER_ COLOR_ PRESET</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_brightness_target" class="toc-h2 toc-link" data-title="SET_BRIGHTNESS_TARGET">SET_BRIGHTNESS_TARGET</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_cold_start_level" class="toc-h2 toc-link" data-title="SET_COLD_START_LEVEL">SET_COLD_START_LEVEL</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_cold_start_time" class="toc-h2 toc-link" data-title="SET_COLD_START_TIME">SET_COLD_START_TIME</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_max_on_level" class="toc-h2 toc-link" data-title="SET_MAX_ON_LEVEL">SET_MAX_ON_LEVEL</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_min_on_level" class="toc-h2 toc-link" data-title="SET_MIN_ON_LEVEL">SET_MIN_ON_LEVEL</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_preset_level" class="toc-h2 toc-link" data-title="SET_PRESET_LEVEL">SET_PRESET_LEVEL</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-toggle" class="toc-h2 toc-link" data-title="TOGGLE">TOGGLE</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_click_rate_down" class="toc-h2 toc-link" data-title="SET_CLICK_RATE_DOWN">SET_CLICK_RATE_DOWN</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_click_rate_up" class="toc-h2 toc-link" data-title="SET_CLICK_RATE_UP">SET_CLICK_RATE_UP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_color_on_mode" class="toc-h2 toc-link" data-title="SET_COLOR_ON_MODE">SET_COLOR_ON_MODE</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_color_stop" class="toc-h2 toc-link" data-title="SET_COLOR_STOP">SET_COLOR_STOP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_color_rate_default" class="toc-h2 toc-link" data-title="SET_COLOR_RATE_DEFAULT">SET_COLOR_RATE_DEFAULT</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_color_stop" class="toc-h2 toc-link" data-title="SET_COLOR_STOP">SET_COLOR_STOP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_color_target" class="toc-h2 toc-link" data-title="SET_COLOR_TARGET">SET_COLOR_TARGET</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_hold_rate_up" class="toc-h2 toc-link" data-title="SET_HOLD_RATE_UP">SET_HOLD_RATE_UP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_hold_rate_down" class="toc-h2 toc-link" data-title="SET_HOLD_RATE_DOWN">SET_HOLD_RATE_DOWN</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_button_color" class="toc-h2 toc-link" data-title="SET_BUTTON_COLOR">SET_BUTTON_COLOR</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_all_led" class="toc-h2 toc-link" data-title="SET_ALL_LED">SET_ALL_LED</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-join_group" class="toc-h2 toc-link" data-title="JOIN_GROUP">JOIN_GROUP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-leave_group" class="toc-h2 toc-link" data-title="LEAVE_GROUP">LEAVE_GROUP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-modify_driver_color_preset" class="toc-h2 toc-link" data-title="MODIFY_DRIVER_COLOR_PRESET">MODIFY_DRIVER_COLOR_PRESET</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_group_sync" class="toc-h2 toc-link" data-title="SET_GROUP_SYNC">SET_GROUP_SYNC</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-get_setup" class="toc-h2 toc-link" data-title="GET_SETUP">GET_SETUP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-group_ramp_to_level" class="toc-h2 toc-link" data-title="GROUP_RAMP_TO_LEVEL">GROUP_RAMP_TO_LEVEL</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_group_level" class="toc-h2 toc-link" data-title="SET_GROUP_LEVEL">SET_GROUP_LEVEL</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-group_start_ramp" class="toc-h2 toc-link" data-title="GROUP_START_RAMP">GROUP_START_RAMP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-group_stop_ramp" class="toc-h2 toc-link" data-title="GROUP_STOP_RAMP">GROUP_STOP_RAMP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-update_brightness_on_mode" class="toc-h2 toc-link" data-title="UPDATE_BRIGHTNESS_ON_MODE">UPDATE_BRIGHTNESS_ON_MODE</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-update_brightness_rate_default" class="toc-h2 toc-link" data-title="UPDATE_BRIGHTNESS_RATE_DEFAULT">UPDATE_BRIGHTNESS_RATE_DEFAULT</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-update_brightness_preset" class="toc-h2 toc-link" data-title="UPDATE_BRIGHTNESS_PRESET">UPDATE_BRIGHTNESS_PRESET</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-update_color_on_mode" class="toc-h2 toc-link" data-title="UPDATE_COLOR_ON_MODE">UPDATE_COLOR_ON_MODE</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-update_color_rate_default" class="toc-h2 toc-link" data-title="UPDATE_COLOR_RATE_DEFAULT">UPDATE_COLOR_RATE_DEFAULT</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-update_brightness_preset" class="toc-h2 toc-link" data-title="UPDATE_BRIGHTNESS_PRESET">UPDATE_BRIGHTNESS_PRESET</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-update_color_preset" class="toc-h2 toc-link" data-title="UPDATE_COLOR_PRESET">UPDATE_COLOR_PRESET</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_brightness_on_mode" class="toc-h2 toc-link" data-title="SET_BRIGHTNESS_ON_MODE">SET_BRIGHTNESS_ON_MODE</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_brightness_rate_default" class="toc-h2 toc-link" data-title="SET_BRIGHTNESS_RATE_DEFAULT">SET_BRIGHTNESS_RATE_DEFAULT</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_brightness_stop" class="toc-h2 toc-link" data-title="SET_BRIGHTNESS_STOP">SET_BRIGHTNESS_STOP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_click_rate_up" class="toc-h2 toc-link" data-title="SET_CLICK_RATE_UP">SET_CLICK_RATE_UP</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-set_click_rate_down" class="toc-h2 toc-link" data-title="SET_CLICK_RATE_DOWN">SET_CLICK_RATE_DOWN</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-add_driver_color_preset" class="toc-h2 toc-link" data-title="ADD_DRIVER_COLOR_PRESET">ADD_DRIVER_COLOR_PRESET</a>
                  </li>
                  <li>
                    <a href="#light-v2-commands-c4-type-manager" class="toc-h2 toc-link" data-title="C4 TYPE MANAGER">C4 TYPE MANAGER</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#light-v2-events" class="toc-h1 toc-link" data-title="Light V2 Events">Light V2 Events</a>
          </li>
          <li>
            <a href="#light-v2-protocol-notifications" class="toc-h1 toc-link" data-title="Light V2 Protocol Notifications">Light V2 Protocol Notifications</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#light-v2-protocol-notifications-button_action" class="toc-h2 toc-link" data-title="BUTTON_ACTION">BUTTON_ACTION</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-button_info" class="toc-h2 toc-link" data-title="BUTTON_INFO">BUTTON_INFO</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-click_count" class="toc-h2 toc-link" data-title="CLICK_COUNT">CLICK_COUNT</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-click_rate_down" class="toc-h2 toc-link" data-title="CLICK_RATE_DOWN">CLICK_RATE_DOWN</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-click_rate_up" class="toc-h2 toc-link" data-title="CLICK_RATE_UP">CLICK_RATE_UP</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-cold_start_level" class="toc-h2 toc-link" data-title="COLD_START_LEVEL">COLD_START_LEVEL</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-cold_start_time" class="toc-h2 toc-link" data-title="COLD_START_TIME">COLD_START_TIME</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-dynamic_capabilities_changed" class="toc-h2 toc-link" data-title="DYNAMIC_CAPABILITIES_CHANGED">DYNAMIC_CAPABILITIES_CHANGED</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-hold_rate_down" class="toc-h2 toc-link" data-title="HOLD_RATE_DOWN">HOLD_RATE_DOWN</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-hold_rate_up" class="toc-h2 toc-link" data-title="HOLD_RATE_UP">HOLD_RATE_UP</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-light_brightness_changed" class="toc-h2 toc-link" data-title="LIGHT_BRIGHTNESS_CHANGED">LIGHT_BRIGHTNESS_CHANGED</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-light_brightness_changing" class="toc-h2 toc-link" data-title="LIGHT_BRIGHTNESS_CHANGING">LIGHT_BRIGHTNESS_CHANGING</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-light_color_changed" class="toc-h2 toc-link" data-title="LIGHT_COLOR_CHANGED">LIGHT_COLOR_CHANGED</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-light_color_changing" class="toc-h2 toc-link" data-title="LIGHT_COLOR_CHANGING">LIGHT_COLOR_CHANGING</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-light_level" class="toc-h2 toc-link" data-title="LIGHT_LEVEL">LIGHT_LEVEL</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-max_on" class="toc-h2 toc-link" data-title="MAX_ON">MAX_ON</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-min_on" class="toc-h2 toc-link" data-title="MIN_ON">MIN_ON</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-online_changed" class="toc-h2 toc-link" data-title="ONLINE_CHANGED">ONLINE_CHANGED</a>
                  </li>
                  <li>
                    <a href="#light-v2-protocol-notifications-preset_level" class="toc-h2 toc-link" data-title="PRESET_LEVEL">PRESET_LEVEL</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#light-v2-extras-interface-library" class="toc-h1 toc-link" data-title="Light V2 Extras Interface Library">Light V2 Extras Interface Library</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-capabilities" class="toc-h2 toc-link" data-title="Capabilities">Capabilities</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-protocol-notify-and-proxy-messages" class="toc-h2 toc-link" data-title="Protocol Notify and Proxy Messages">Protocol Notify and Proxy Messages</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-extras-setup-changed" class="toc-h2 toc-link" data-title="EXTRAS SETUP CHANGED">EXTRAS SETUP CHANGED</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-signature" class="toc-h2 toc-link" data-title="Signature">Signature</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-returns" class="toc-h2 toc-link" data-title="Returns">Returns</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-extras-state-changed" class="toc-h2 toc-link" data-title="EXTRAS STATE CHANGED">EXTRAS STATE CHANGED</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-signature" class="toc-h2 toc-link" data-title="Signature">Signature</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-returns" class="toc-h2 toc-link" data-title="Returns">Returns</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-how-ui-39-s-handle-extras-objects" class="toc-h2 toc-link" data-title="How UI's handle Extras objects">How UI's handle Extras objects</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-extras-setup-changed" class="toc-h2 toc-link" data-title="EXTRAS SETUP CHANGED">EXTRAS SETUP CHANGED</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-signature" class="toc-h2 toc-link" data-title="Signature">Signature</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-returns" class="toc-h2 toc-link" data-title="Returns">Returns</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-extras-state-changed" class="toc-h2 toc-link" data-title="EXTRAS STATE CHANGED">EXTRAS STATE CHANGED</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-signature" class="toc-h2 toc-link" data-title="Signature">Signature</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-preset_level-returns" class="toc-h2 toc-link" data-title="Returns">Returns</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extras-class" class="toc-h2 toc-link" data-title="Extras Class">Extras Class</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasbutton" class="toc-h2 toc-link" data-title="ExtrasButton">ExtrasButton</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrascheckbox" class="toc-h2 toc-link" data-title="ExtrasCheckbox">ExtrasCheckbox</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasicon" class="toc-h2 toc-link" data-title="ExtrasIcon">ExtrasIcon</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extraslist" class="toc-h2 toc-link" data-title="ExtrasList">ExtrasList</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasnumber" class="toc-h2 toc-link" data-title="ExtrasNumber">ExtrasNumber</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasobject" class="toc-h2 toc-link" data-title="ExtrasObject">ExtrasObject</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasslider-extrasobject" class="toc-h2 toc-link" data-title="ExtrasSlider : ExtrasObject">ExtrasSlider : ExtrasObject</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasslider-construct" class="toc-h2 toc-link" data-title="ExtrasSlider:construct">ExtrasSlider:construct</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasslider-makesetupxml" class="toc-h2 toc-link" data-title="ExtrasSlider:makeSetupXml">ExtrasSlider:makeSetupXml</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasobject" class="toc-h2 toc-link" data-title="ExtrasObject">ExtrasObject</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasobject-construct" class="toc-h2 toc-link" data-title="ExtrasObject:construct">ExtrasObject:construct</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasobject-addextraparam" class="toc-h2 toc-link" data-title="ExtrasObject:addExtraparam">ExtrasObject:addExtraparam</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasobject-removeextraparam" class="toc-h2 toc-link" data-title="ExtrasObject:removeExtraparam">ExtrasObject:removeExtraparam</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasobject-getstatexml" class="toc-h2 toc-link" data-title="ExtrasObject:getStateXml">ExtrasObject:getStateXml</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasobject-getextraparamsxml" class="toc-h2 toc-link" data-title="ExtrasObject:getExtraparamsXml">ExtrasObject:getExtraparamsXml</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasobject-update" class="toc-h2 toc-link" data-title="ExtrasObject:update">ExtrasObject:update</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-function-parameters" class="toc-h2 toc-link" data-title="Function Parameters:">Function Parameters:</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasslider" class="toc-h2 toc-link" data-title="ExtrasSlider">ExtrasSlider</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrasswitch" class="toc-h2 toc-link" data-title="ExtrasSwitch">ExtrasSwitch</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrastext" class="toc-h2 toc-link" data-title="ExtrasText">ExtrasText</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extrastextfield" class="toc-h2 toc-link" data-title="ExtrasTextField">ExtrasTextField</a>
                  </li>
                  <li>
                    <a href="#light-v2-extras-interface-library-extras-library-use-case-examples" class="toc-h2 toc-link" data-title="Extras Library Use Case Examples">Extras Library Use Case Examples</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#light-v2-variables" class="toc-h1 toc-link" data-title="Light V2 Variables">Light V2 Variables</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://snap-one.github.io/docs-driverworks-introduction/'>An Introduction to DriverWorks</a></li>
            <li><a href='https://snap-one.github.io/docs-driverworks-fundamentals/'>DriverWorks Fundamentals Guide</a></li>
            <li><a href='https://snap-one.github.io/docs-driverworks-api/'>DriverWorks API Reference Guide</a></li>
            <li><a href='https://github.com/snap-one/docs-driverworks'>DriverWorks GitHub Home</a></li>
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='license-copyright-and-trademark'>License, Copyright, and Trademark</h1>

<p>The content contained in this repository is the intellectual property of Snap One, LLC, (formerly known as Wirepath Home Systems, LLC), and use without a valid license from Snap One is strictly prohibited. The user of this repository shall keep all content contained herein confidential and shall protect this content in whole or in part from disclosure to any and all third parties except as specifically authorized in writing by Snap One.</p>

<p><strong>License and Intellectual Property Disclaimer</strong></p>

<p>The content in this repository is provided in connection with Snap One products. No license, express or implied, by estoppal or otherwise, to any intellectual property rights is granted by this document or in this repository. Except as provided in Snap Oneʼs terms and conditions for the license of such products, Snap One and its affiliates assume no liability whatsoever and disclaim any express or implied warranty, relating to the sale and/or use of Snap One products including liability or warranties relating to fitness for a particular purpose, merchantability, or infringement of any patent, copyright or other intellectual property right. Snap One products are not intended for use in medical, lifesaving, or life sustaining applications.</p>

<p>Information regarding third-party products is provided solely for educational purposes. Snap One is not responsible for the performance or support of third-party products and does not make any representations or warranties whatsoever regarding the quality, reliability, functionality or compatibility of these products. The reader is advised that third parties can have intellectual property rights that can be relevant to this repository and the technologies discussed herein, and is advised to seek the advice of competent legal counsel regarding the intellectual property rights of third parties, without obligation of Snap One.</p>

<p>Snap One retains the right make changes to this repository or related product specifications and descriptions in this repository, at any time, without notice. Snap One makes no warranty for the use of this repository and assumes no responsibility for any errors that can appear in the repository nor does it make a commitment to update the content contained herein.</p>

<p><strong>Copyright</strong></p>

<p>Copyright 2023 Snap One, LLC. All rights reserved.</p>

<p>The above copyright notice applies to all content in this repository unless otherwise stated explicitly herein that a third-party’s copyright applies.</p>

<p>No part of this publication may be reproduced, photocopied, stored on a retrieval system, or transmitted without the express written consent of the publisher.</p>

<p><strong>Trademarks</strong></p>

<p>Snap One and Snap One Logo, Control4 and the Control4 logo, and DriverWorks are trademarks or registered trademarks of  Snap One, LLC. Other product and company names mentioned in this repository may be the trademarks or registered trademarks of their respective owners.</p>

<p><strong> Derivative Works</strong></p>

<p>To the extent that you create any “Derivative Work” (meaning any work that is based upon one or more preexisting versions of the work provided to you in this repository, such as an enhancement or modification, revision, translation, abridgement, condensation, expansion, collection, compilation or any other form in which such preexisting works may be recast, modified, transformed or adapted, explicitly including without limitation, any updates or changes to Snap One, LLC’s software code or intellectual property) such Derivative Work shall be owned by Snap One, LLC and all right, title and interest in and to each such Derivative Work shall automatically vest in Snap One, LLC. To the extent any Derivative Work does not automatically vest in Snap One, LLC by operation of law, you hereby assign such Derivative Work to Snap One, LLC with full title guarantee. Snap One, LLC shall have no obligation to grant you any right in any such Derivative Work.</p>

<p><strong>Contact Us</strong></p>

<p>Snap One, LLC
11734 S. Election Road
Salt Lake City, UT 84020 USA</p>

<p><a href="www.control4.com">http://www.control4.com</a></p>
<h1 id='introduction'>Introduction</h1>

<p>This documentation includes content that details the functions that make up the Light Control Proxy which is supported in the DriverWorks Software Development Kit.</p>

<h2 id='introduction-proxies-commands'>Proxies (Commands)</h2>

<p>A proxy driver is an interface to the Control4 system for a set of devices that share common functionality. For instance, most DVD disc changers have common controls such as PLAY, STOP, PAUSE and FAST FORWARD.  The disc changer proxy allows for a common user interface to control all disc changers.  The Control4 system (Director) sends information to and receives information from the proxy drivers.  The proxy drivers send information to and receives information from the protocol drivers.
Remember, your DriverWorks driver interacts with the proxy driver which then interacts with the system.  As a driver developer you will be relying on this proxy to provide status (notification) to the Control4 system for the device you are controlling.  You will also receive commands from the system that you will act on to control the device.  These commands and notifications are at the heart of what you will be implementing in your driver.  Essentially your driver is becoming the go-between from the Control4 system and your device with the proxy driver giving structure to the commands and notifications which you will be implementing.
Your driver can facilitate communications with multiple types of proxies for a single device. As an example, a Security System driver will utilize both the Security proxy and the Contacts proxy. These additional proxies are configured in the &lt;connections&gt; section of the .c4z.</p>

<h2 id='introduction-protocol-notifications'>Protocol (Notifications)</h2>

<p>Two similar devices may have the same functionality but utilize a very different command set.  A protocol driver provides the device-specific information needed to communicate with the Control4 system.  In the case of DriverWorks, the DriverWorks driver is the protocol driver.  When combined with the device-specific.c4Z file it provides the custom code necessary to implement the 2-way device driver.  In the case of DriverWorks, the DriverWorks driver is the protocol driver. When combined with the device-specific.c4Z file it provides the custom code necessary to implement the 2-way device driver.</p>
<h1 id='what-s-new'>What’s New</h1>

<h2 id='what-s-new-what-s-new-in-3-4-1'>What’s New in 3.4.1</h2>

<p>There were no modifications to the Proxy and Protocol Guide in conjunction with O.S. Release 3.4.1.</p>

<h2 id='what-s-new-what-s-new-in-3-4-0'>What’s New in 3.4.0</h2><h3 id='what-s-new-what-s-new-in-3-4-0-blind-proxy'>Blind Proxy</h3>
<p>A new capability has been added to the proxy called <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#blind-capabilities-always_send_level">always_send_level</a>. If value is true, then the SetTargetLevel commands are always sent regardless of current level values. This is useful if the blind device does not support two-way communication and is controlled outside of the Control4 operating system. </p>
<h3 id='what-s-new-what-s-new-in-3-4-0-camera-proxy'>Camera Proxy</h3>
<p>Beginning with O.S. 3.4.0, camera drivers have the ability to distribute audio to devices running Navigator. If a camera supports the proper <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-audio-distribution">CODEC</a> and the camera microphone has been enabled in the appropriate interface a new audio button will appear at the bottom of the single-camera view. This will allow the user to hear live audio with the live video.</p>
<h3 id='what-s-new-what-s-new-in-3-4-0-generic-media-player-proxy'>Generic Media Player Proxy</h3>
<p>A new capability has been added to the proxy called <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#generic-media-player-capabilities-allow_audio_pathing">allow_audio_pathing</a>. This capability is applicable in the scenario where the AV Switch proxy is included as a secondary proxy to the Generic Media Player Proxy. It is useful  when modeling streaming media devices that require minidrivers.</p>
<h3 id='what-s-new-what-s-new-in-3-4-0-light-v2-proxy'>Light (v2) Proxy</h3>
<p>The following color conversion functions have been modified in 3.4.0. The gamut parameter now receives a new valid string of: &quot;custom”. See the links below for more information.</p>

<p>RGB functions:
- <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands-colorrgbtoxy">ColorRGBtoXY</a>
- <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands-colorxytorgb">ColorXYtoRGB</a></p>

<p>HSV functions:
- <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands-colorhsvtoxy">ColorHSVtoXY</a>
- <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands-colorxytohsv">ColorXYtoHSV</a></p>

<h2 id='what-s-new-what-s-new-in-3-3-2'>What’s New in 3.3.2</h2><h3 id='what-s-new-what-s-new-in-3-3-2-camera-proxy'>Camera Proxy</h3>
<p><strong>Support for Dynamic Camera Streams</strong></p>

<p>Camera drivers can now implement a new <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#dynamic-camera-streams">dynamic streams API</a> to provide a list of streams that the Navigators can pick from. </p>
<h3 id='what-s-new-what-s-new-in-3-3-2-light-v2-proxy'>Light V2 Proxy</h3>
<p><strong>Capabilities that have been Added</strong></p>

<p>A new feature has been delivered in O.S. 3.3.2 which allows dealers and customers to specify how a light&#39;s brightness behaves when the light is turned on. The functionality includes:</p>

<ul>
<li>Preset - Light turns on to a preset level.</li>
<li>Previous - Light turns on to the previous light level.</li>
<li>Default On - Provided for backwards compatibility and is the same as setting Preset to On.</li>
</ul>

<p>Driver developers must opt-in to this new feature and which parts it wants to support via the following new capabilities:</p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-brightness_on-mode_preset">brightness_on_mode_preset</a> has been included to enable the brightness presets for &quot;On Mode&quot; behavior for a light.</p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-brightness_on_mode_previous">brightness_on_mode_previous</a> has been included to enable the Previous On &quot;On Mode&quot; brightness  behavior for a light.</p>

<p>A new feature was created to allow dealers and customers to specify how a light&#39;s color behaves when a light is turned on. The functionality includes:</p>

<ul>
<li>Color Fade - Color behavior such as Dim to Warm</li>
<li>Preset - Color changes to a preset.</li>
<li>Previous - Color changes to the previous color value.</li>
<li>Default On - Provided for backwards compatibility and is the same as setting Preset to On.</li>
</ul>

<p>Driver developers must opt-in to this new feature and which parts it wants to support via the following new capabilities:</p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_on_mode_fade">color_on_mode_fade</a> has been included to enable the Fade On &quot;On Mode&quot; behavior, such as Dim to Warm, for a light.</p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_on_mode_preset">color_on_mode_preset</a> has been included to enable presets for use with &quot;On Mode&quot; behavior for a light.</p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_on_mode_previous">color_on_mode_previous</a> has been included to enable the Previous On &quot;On Mode&quot; behavior for a light.</p>

<p>Additionally,  the following new capabilities have been included in 3.3.2:</p>

<p>A new capability: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-brightness_rate_max">brightness_rate_max</a> has been included in support of drivers without buttons. This capability allows these driver to no longer need to define click and hold maximum rates.</p>

<p>A new capability: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-brightness_rate_min">brightness_rate_min</a> has been included in support of drivers without buttons. This capability allows these driver to no longer need to define click and hold minimum rates.</p>

<p>A new capability: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-supports_brightness_stop">supports_brightness_stop</a> has been included if a light brightness transition can be stopped during a ramp. </p>

<p><strong>Capabilities that have been Deprecated</strong></p>

<p>fixed_ramp_rate - Use <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-click_rate_min">click_rate_min</a> and <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-click_rate_max">click_rate_max</a> instead.</p>

<p>has_fixed_ramp_rate - Use <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-click_rate_min">click_rate_min</a> and <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-click_rate_max">click_rate_max</a> instead.</p>

<p>num_buttons</p>

<p>ramp_level</p>

<p>min_max</p>

<p>on_off</p>

<p>buttons_are_virtual</p>

<p><strong>Commands that have been Added</strong></p>

<p>Note: Enforcement of valid minimum and maximum values for many Light v2 commands are being enforced in conjunction with 3.3.2. </p>

<p>A new command: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-add_driver_color_preset">ADD_DRIVER_COLOR_PRESET</a> has been included to add a new driver specific color preset.</p>

<p>A new command: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-delete_driver_-color_-preset">DELETE_DRIVER_COLOR_PRESET</a> has been added to remove a driver configured color preset. </p>

<p>A new command: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-dynamic_off">DYNAMIC_OFF</a> has been added to support UIs with an off command to pair with the DYNAMIC_ON command.</p>

<p>A new command: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-dynamic_on">DYNAMIC_ON</a> has been added to allows UI&#39;s and programming to &quot;turn on&quot; a light involving both brightness and color in a single command</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-modify_driver_color_preset">MODIFY_DRIVER_COLOR_PRESET</a> has been included to change an existing driver color preset.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_brightness_stop">SET_BRIGHTNESS_STOP</a> has been added to stop a ramp if in progress.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_color_stop">SET_COLOR_STOP</a> has been added to stops a ramp of color if in progress.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_brightness_on_mode">SET_BRIGHTNESS_ON_MODE</a> has been added to maintain the On preset value.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_brightness_rate_default">SET_BRIGHTNESS_RATE_DEFAULT</a> has been added. This command is used in conjunction with generic On/Off commands to retrieve the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-update_brightness_rate_default">UPDATE_BRIGHTNESS_RATE_DEFAULT</a> value.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_color_on_mode">SET_COLOR_ON_MODE</a>  has beed added define color on mode.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_color_rate_default">SET_COLOR_RATE_DEFAULT</a> has been added. This command is used in conjunction with generic On/Off commands to retrieve the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-update_color_rate_default">UPDATE_COLOR_RATE_DEFAULT</a> value.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-update_brightness_on_mode">UPDATE_BRIGHTNESS_ON_MODE</a> has been added to obtain how a light should turn on with regards to brightness.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_brightness_rate_default">UPDATE_BRIGHTNESS_RATE_DEFAULT</a> has been added to provide a default value when a rate change is not provided.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-update_brightness_preset">UPDATE_BRIGHTNESS_PRESET</a> has beeb added to send a command when a press is changed.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-update_color_on_mode">UPDATE_COLOR_ON_MODE</a> has been added to obtain how a light should turn on with regards to color.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-update_color_preset">UPDATE_COLOR_PRESET</a> has been added to manage On and Dim values across various brands and models of lights.</p>

<p>A new command <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-update_color_rate_default">UPDATE_COLOR_RATE_DEFAULT</a> has been added. This command is used in conjunction with generic On/Off commands to update the color rate default value.</p>

<p><strong>Commands that have been Modified</strong></p>

<p>The <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_color_target">SET_COLOR_TARGET</a> command has been enhanced with new parameters to support hue, saturation and presets. Additionally, this command previously included a parameter of RATE. This parameter name has changed to LIGHT_COLOR_TARGET_RATE.</p>

<p><strong>Commands that have been Deprecated</strong></p>

<p>GET_LIGHT_LEVEL </p>

<p>GET_CONNECTED_STATE </p>

<p>GET_PROPERTIES </p>

<p><strong>Conditionals that have been Added</strong></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conditionals">IS_BRIGHTNESS</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conditionals">IS_BRIGHTNESS_TARGET</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conditionals">IS_COLOR_TARGET</a> </p>

<p><strong>Notifications that have been Modified</strong></p>

<p>The <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-protocol-notifications-light_brightness_changing">LIGHT_BRIGHTNESS_CHANGING</a> notify has been modified to include two new optional parameters: LIGHT_BRIGHTNESS_CURRENT_PRESET_ID and LIGHT_BRIGHTNESS_TARGET_PRESET_ID.</p>

<p>The <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-protocol-notifications-light_color_changing">LIGHT_COLOR_CHANGING</a> notify has been modified to include parameters for Preset IDs. Additionally, this notify previously included a parameter of RATE. This parameter name has changed to LIGHT_COLOR_TARGET_RATE.</p>

<p>The <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-protocol-notifications-light_color_changed">LIGHT_COLOR_CHANGED</a> notify has been modified to include a parameter for a Preset ID.</p>

<p><strong>Variables that have been Added</strong></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-variables">Brightness Target Ramp Rate in Milliseconds</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-variables">Brightness Target Rate Remaining in Milliseconds</a></p>

<p><strong>Variables that have been Deprecated</strong></p>

<p>PRESET_LEVEL has been deprecated as the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-update_brightness_on_mode">brightness_on_mode_preset</a> capability contains this value. </p>

<p><strong>Known Issue(s)</strong></p>

<p><em>Color Lighting Control may not Work on Some Drivers</em></p>

<p>Currently, there is a known problem with color control not working on drivers that are looking for a RATE parameter in the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_color_target">SET_COLOR_TARGET </a>command. The RATE parameter was not correctly implemented due to the limits of support for color rate ramping in previous versions. We are finalizing the changes to make this fully work in 3.3.2. As a result, the “RATE” parameter name has been changed to “LIGHT_COLOR_TARGET_RATE”.</p>

<p><em>Button Link Binding for Brightness Stop Functionality not Working</em></p>

<p>A defect in 3.3.2 prevents keypad buttons bound to the Proxy’s BUTTON_LINK binding for Brightness Stop from working. This will be resolved in 3.3.3.</p>

<h2 id='what-s-new-what-s-new-in-3-3-1'>What’s New in 3.3.1</h2>

<p><strong>Light V2 Proxy</strong></p>

<p>The capability: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_trace_tolerance">color_trace_tolerance</a> has been modified to accept a Delta value of &gt; .01. When provided, the CIELa*b* tolerance formula is used to determining if a color is the as another color in the system.</p>

<p>The following Conversion Commands have been enhanced to include an optional parameter: gamut. This parameter allows for the specification of a gamut type for use in the conversions.</p>

<ul>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands-colorhsvtoxy">ColorHSVtoXY</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands-colorxytohsv">ColorXYtoHSV</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands-colorrgbtoxy">ColorRGBtoXY</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands-colorxytorgb">ColorXYtoRGB</a></li>
</ul>

<p><strong>Camera Proxy</strong></p>

<p>The Camera Proxy documentation has been has enhanced to include new information regarding:</p>

<ul>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#dynamic-camera-streams">Camera Streams</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#dynamic-camera-streams">Driver Support for Multiple Streams</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#dynamic-camera-streams">Support for Caching URLS</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-proxy-extras-interface-library">Support for The Extras Interface Library</a> </li>
</ul>

<p>A new command: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-proxy-commands-get_stream_urls">GET_STREAM_URLS</a> has been added. It is used to obtain URLs for a camera that does not have a constant URL like a Cloud based camera or for cameras that have a wider range of features and configurable options that can produce better customer experiences using various client</p>

<p>A new notification: <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-protocol-notifications-stream_urls_ready">STREAM_URLS_READY</a> has been added. This notify is used as a follow up to a GET_STREAM_URLS Synchronous call. This Notify will let a UI know that the URL information they requested is ready. </p>

<p>New capabilities added to the Camera proxy include:  </p>

<ul>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-capabilities-dynamic_urls_use_type">dynamic_urls_use_type</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-capabilities-requires_dynamic_stream_urls">requires_dynamic_stream_urls</a></li>
</ul>

<p>Dynamic Presets are now supported within the Camera Proxy.  The following preset functionality has been include: </p>

<ul>
<li>Save new presets.</li>
<li>Change preset name.</li>
<li>Recapture/update existing preset.</li>
<li>Reorder presets.</li>
<li>Delete a preset.</li>
</ul>

<p>Dynamic Presets require the following new Capability:</p>

<ul>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-capabilities-has_dynamic_presets">has_dynamic_presets</a></li>
</ul>

<p>Dynamic Presets require the following new Notifications:</p>

<ul>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-protocol-notifications-dynamic_urls_changed">DYNAMIC_URLS_CHANGED</a></li>
</ul>

<p>Dynamic Presets require the following new Commands:</p>

<ul>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-proxy-commands-select_preset">SELECT_PRESET</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-proxy-commands-change_preset_name">CHANGE_PRESET_NAME</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-proxy-commands-modify_preset">MODIFY_PRESET</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-proxy-commands-delete_preset">DELETE_PRESET</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-proxy-commands-change_preset_order">CHANGE_PRESET_ORDER</a></li>
</ul>

<p>The following existing Camera Proxy capabilities are now Dynamic Capabilities:</p>

<ul>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-capabilities-has_-pan">has_pan</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-capabilities-has_tilt">has_tilt</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-capabilities-has_zoom">has_zoom</a></li>
<li><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#camera-capabilities-has_home">has_home</a></li>
</ul>

<h2 id='what-s-new-what-s-new-in-3-3-0'>What’s New in 3.3.0</h2><h3 id='what-s-new-what-s-new-in-3-3-0-light-proxy-color-enhancements'>Light Proxy Color Enhancements</h3>
<p>This release of the 3.3.0 beta Proxy and Protocol Guide has been delivered to support the Light Proxy’s new color management functionality. This includes:</p>
<h3 id='what-s-new-what-s-new-in-3-3-0-light-v2-proxy-capabilities'>Light V2 Proxy Capabilities</h3>
<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_correlated_temperature_max">color_correlated_temperature_max</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_correlated_temperature_min">color_correlated_temperature_min</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_rate_behavior">color_rate_behavior</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_rate_max">color_rate_max</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_rate_min">color_rate_min</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-color_trace_tolerance">color_trace_tolerance</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-supports_color">supports_color</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-supports_color_correlated_temperature">supports_color_correlated_temperature</a></p>
<h3 id='what-s-new-what-s-new-in-3-3-0-light-v2-proxy-commands'>Light V2 Proxy Commands</h3>
<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-commands-set_color_target">SET_COLOR_TARGET</a></p>
<h3 id='what-s-new-what-s-new-in-3-3-0-light-v2-proxy-conversion-commands'>Light V2 Proxy Conversion Commands</h3>
<p>This section lists the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conversion-commands">Commands</a> used for converting to/from hue, saturation and lightness (HSV) and red, blue and green (RGB).</p>
<h3 id='what-s-new-what-s-new-in-3-3-0-light-v2-proxy-conditionals'>Light V2 Proxy Conditionals</h3>
<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-conditionals">IS_COLOR</a></p>
<h3 id='what-s-new-what-s-new-in-3-3-0-light-v2-protocol-notifications'>Light v2 Protocol Notifications</h3>
<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-protocol-notifications-light_color_changed">LIGHT_COLOR_CHANGED</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-protocol-notifications-light_color_changing">LIGHT_COLOR_CHANGING</a></p>
<h3 id='what-s-new-what-s-new-in-3-3-0-light-v2-proxy-events'>Light V2 Proxy Events</h3>
<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-events">light_color_changed</a></p>

<p><a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-events">light_color_changing</a></p>
<h3 id='what-s-new-what-s-new-in-3-3-0-light-v2-proxy-extras'>Light V2 Proxy Extras</h3>
<p>New supporting <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-extras-interface-library">documentation</a>.</p>
<h3 id='what-s-new-what-s-new-in-3-3-0-advanced-lighting-scene-agent'>Advanced Lighting Scene Agent </h3>
<p>New supporting <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#advanced-lighting-scene-agent">documentation</a>.</p>
<h3 id='what-s-new-what-s-new-in-3-3-0-light-driver-development-best-practices'>Light Driver Development Best Practices</h3>
<p>A new section has been added to the Light V2 proxy content including <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-driver-development-best-practices">best practice recommendations</a> for light driver developers.</p>
<h3 id='what-s-new-what-s-new-in-3-3-0-audio-video-switch-display-adjustable-bindings'>Audio Video Switch Display Adjustable Bindings</h3>
<p>O.S. releases 3.3.0 provides the ability to hide <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#display-adjustable-av-switch-bindings">AV Switch Bindings</a> that are not being used. This feature has been provided to better manage the UI display within ComposerPro.</p>

<h2 id='what-s-new-what-s-new-in-3-2-3'>What’s New in 3.2.3</h2>

<p><strong>Audio Equalization available on Navigators</strong></p>

<p>The <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#amplifier-navigator-eq">Amplifier</a> and <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#audio-video-switch-navigator-eq">AV Switch</a> Proxies have been enhanced to support the ability to display audio EQ functions on devices running Navigator. The enhancement includes a set of new Proxy Commands, Notifications and Capabilities to support this functionality.</p>

<p><strong>Dynamic Transport Controls on Navigators</strong></p>

<p>Audio Video drivers now have the ability to define which <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#dynamic-transport-controls-in-navigator">transport controls</a> are displayed on Navigators. This includes which buttons appear on the Button Bar as well as the Media Dashboard. This enhancement allows for the appropriate transport controls being displayed for each AV device.</p>

<h2 id='what-s-new-what-s-new-in-3-2-2'>What’s New in 3.2.2</h2>

<p><em>There were no changes to this content for Operating System 3.2.2.</em></p>

<h2 id='what-s-new-what-s-new-in-3-2-1'>What’s New in 3.2.1</h2>

<p><em>There were no changes to this content for Operating System 3.2.1.</em></p>

<p><h2 id='what-s-new-what-s-new-in-3-2-0'>What’s New in 3.2.0</h2><h3 id='what-s-new-what-s-new-in-3-2-0-proxies-that-were-modified'>Proxies that were Modified** </h3>
<p><strong>Security Proxy</strong>
The <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#security-partition-notifications-request_default_user_code_">REQUEST_DEFAULT_USER_CODE</a> partition notification was added as a mechanism for the protocol driver
to initiate the communication to get that default user code upon driver update.</p></p>

<p>The following Security Protocol Notifications were deprecated from the SDK: ALARM, ALARM_CLEAR, AWAY, DISARM, HOME, TROUBLE. Please see the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#security-panel-notifications">Security Panel Notification</a> and <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#security-partition-notifications">Security Partition Notification</a> areas for the latest list of Notifies.</p>

<p><h2 id='what-s-new-what-was-new-in-3-1-2'>What was New in 3.1.2</h2><h3 id='what-s-new-what-was-new-in-3-1-2-proxies-that-were-deprecated'>Proxies that were Deprecated** </h3>
<p>The following Proxies were deprecated from the Proxy and Protocol Guide:</p></p>

<ul>
<li>iPod</li>
<li>Load Controller</li>
</ul>

<p><h2 id='what-s-new-what-was-new-in-3-1-0'>What was New in 3.1.0</h2><h3 id='what-s-new-what-was-new-in-3-1-0-proxies-that-were-modified'>Proxies that were Modified** </h3>
<p><strong>Light V2 Proxy</strong>
light sample.c4i - A sample driver has been included to assist with better understanding the basic flow of commands from the Light Proxy as well as receiving protocol notifications. The driver can be found in the Samples directory under the root level of the DriverWorks SDK.zip file</p></p>

<p><strong>Media Service Proxy</strong>
Detail Screen Type - Information regarding the implementation of the Detail Type Screen has been added to the documentation.</p>

<p><h2 id='what-s-new-what-was-new-in-o-s-3'>What was New in O.S.3</h2><h3 id='what-s-new-what-was-new-in-o-s-3-proxies-that-were-modified'>Proxies that were Modified** </h3>
<p><strong>KeyPad Proxy</strong></p></p>

<p>New Button Linking functionality has been added to the Proxy. Button Linking supports the ability of a driver interacting with a second driver using Button State and Button LED State. </p>

<p><strong>Light (V2) Proxy</strong>
LightV2 Proxy has been significantly enhanced in this release. It is recommended that Light Driver writers thoroughly review the Proxy content in this release. The changes included not only impact drivers written against OS 3. Previously delivered Light Proxy elements have been modified or in some cases deprecated. </p>

<p>In OS 3, the proxy has been conceptually split into two components. The first being a Wall Control/Keypad portion and the second is a redesigned Light portion.The Light portion has been developed as a Bulb Library. The ultimate goal of the Bulb Library is to support ,more versatility for drivers to interrogate, group, control and manage individual drivers and bulbs. Bulb color, target level, minimum and maximum levels, cold start timing and other features are implemented in the Bulb Library. Dynamic Capabilities have also been added to the Light Portion. Note that all changes maintain backwards compatibility for driver side interaction. However, Navigators will have functionality deprecated due to performance reasons or improved ways of communicating with the driver.</p>

<p><strong>Media Service Proxy</strong>
Favoriting: In conjunction with the ability to &quot;Favorite&quot; Navigator UI screens in OS 3, drivers written using the Media Service Proxy can now provide the ability for end users to designate favorite media delivered through an Media Service Proxy driver such as Playlists, Albums, Tracks, Stations, Movies, TV Shows, etc. </p>

<p>DashboardChanged Event: The DashboardChanged event now includes content on the use of custom icons and actions.</p>

<p>Driver Notification Context Example: New code examples on have been added to the Media Service Proxy Driver Notification Prototype section in the Appendix.</p>

<p><strong> Best Practices</strong>
A new section called Best Practices has been added to the Proxy and Protocol Guide. This section contains information regarding the use cases that fall outside of the typical Proxy/Protocol driver implementation. This release contains Best Practice content on the following:</p>

<p>Using the new Proxy-less command UPDATE PROPERTY. This is a non proxy-specific function that can be called from any device to change a property of any other device.</p>

<p>OS 3 Navigator UI and Volume Control - Managing Volume Commands in conjunction with the use of OS 3&#39;s new volume control slider on the Control4 UI.</p>
<h1 id='light-v2-capabilities'>Light V2 Capabilities</h1>

<h2 id='light-v2-capabilities-brightness_rate_max'>brightness_rate_max</h2>

<p>Minimum color rate, in milliseconds, supported for transitioning from one brightness to another.  Should always be set for any color light driver, even if the transition rate is unchangeable. Allows dealers to configure the maximum rate that can be configured by dealers. The brightness_rate value is used by voice control, navigators, customer created advanced lighting scenes, and various other areas of the system that previously didn&#39;t allow customization of the transition rate.</p>

<p>Dealers can set the values for this in ComposerPro Properties.</p>

<h3 id='light-v2-capabilities-brightness_rate_max-signature'>Signature</h3>

<p><code>&lt;brightness_rate_max&gt;&lt;/brightness_rate_max&gt;</code></p>

<h3 id='light-v2-capabilities-brightness_rate_max-type'>Type</h3>

<p>Integer. Defaults to UNIT16_MAX. Valid values fall between 0 and 4294967295.</p>

<h3 id='light-v2-capabilities-brightness_rate_max-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-brightness_rate_max-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;brightness_rate_max&gt;</span>4294967295<span class="nt">&lt;/brightness_rate_max&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-brightness_rate_min'>brightness_rate_min</h2>
<p>Minimum color rate, in milliseconds, supported for transitioning from one brightness to another.  Should always be set for any color light driver, even if the transition rate is unchangeable.  Allows dealers to configure the minimum rate that can be configured by dealers. The brightness_rate value is used by voice control, navigators, customer created advanced lighting scenes, and various other areas of the system that previously didn&#39;t allow customization of the transition rate.</p>

<p>Dealers can set the values for this in ComposerPro Properties.</p>
<h3 id='light-v2-capabilities-brightness_rate_min-signature'>Signature</h3>

<p><code>&lt;brightness_rate_min&gt;&lt;/brightness_rate_min&gt;</code></p>

<h3 id='light-v2-capabilities-brightness_rate_min-type'>Type</h3>

<p>Integer. Defaults to 0.</p>

<h3 id='light-v2-capabilities-brightness_rate_min-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-brightness_rate_min-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;brightness_rate_min&gt;</span>0<span class="nt">&lt;/brightness_rate_min&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-set_level'>set_level</h2>
<p>Configuration API indicating if the device brightness can be set discretely to a number between a min and a max. Defaults to false.</p>
<h3 id='light-v2-capabilities-set_level-signature'>Signature</h3>

<p><code>&lt;set_level&gt;&lt;/set_level&gt;</code></p>

<h3 id='light-v2-capabilities-set_level-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-set_level-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-set_level-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;set_level&gt;</span>false<span class="nt">&lt;/set_level&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-supports_target'>supports_target</h2>
<p>Configuration API indicating if the device and/or driver supports the new API for changes of what the light is actively ramping from, ramping to and the ramp rate. Defaults to false.</p>
<h3 id='light-v2-capabilities-supports_target-signature'>Signature</h3>

<p><code>&lt;supports_target&gt;&lt;/supports_target&gt;</code></p>

<h3 id='light-v2-capabilities-supports_target-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-supports_target-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-supports_target-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;supports_target&gt;</span>false<span class="nt">&lt;/supports_target&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-dimmer'>dimmer</h2>
<p>Configuration API indicating if the device can dim. Defaults to false.</p>
<h3 id='light-v2-capabilities-dimmer-signature'>Signature</h3>

<p><code>&lt;dimmer&gt;&lt;/dimmer&gt;</code></p>

<h3 id='light-v2-capabilities-dimmer-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-dimmer-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-dimmer-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;dimmer&gt;</span>false<span class="nt">&lt;/dimmer&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-brightness_on-mode_preset'>brightness_on mode_preset</h2>
<p>Used to enable generic brightness presets to be used with the &quot;On Mode&quot; behavior.  If a driver supports this capability, it is up to the driver to support additional parameter handling and reporting.</p>

<p>See SET_BRIGHTNESS_TARGET, BRIGHTNESS_CHANGING and BRIGHTNESS_CHANGED commands and notifies and look for optional parameters such as LIGHT_BRIGHTNESS_TARGET_PRESET_ID and LIGHT_COLOR_CURRENT_PRESET_ID.</p>

<p>Additionally, drivers need to implement UPDATE_BRIGHTNESS_ON_MODE and UPDATE_BRIGHTNESS_PRESET commands so they can track values for situations where the proxy is not the initiator of light behavior, such as On Mode Fade, scenes, composer programming, etc.</p>
<h3 id='light-v2-capabilities-brightness_on-mode_preset-signature'>Signature</h3>

<p><code>&lt;brightness_on_mode_preset&gt;&lt;/brightness_on_mode_preset&gt;</code></p>

<h3 id='light-v2-capabilities-brightness_on-mode_preset-type'>Type</h3>

<p>Boolean. Defaults to false.</p>

<h3 id='light-v2-capabilities-brightness_on-mode_preset-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-brightness_on-mode_preset-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;brightness_on_mode_preset&gt;</span>true<span class="nt">&lt;/brightness_on_mode_preset&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-brightness_on_mode_previous'>brightness_on_mode_previous</h2>
<p>Used to enable the Previous On &quot;On Mode&quot; behavior for a light. The 3.3.2 and newer proxies track the last brightness non-zero level reported by a driver before a BRIGHTNESS_CHANGED notification occurs with a level of 0. When the proxy gets a generic On (aka Dynamic On) then the proxy will send a SET_BRIGHTNESS_TARGET command with that last reported non-zero brightness level. The proxy will also update the PREVIOUS brightness preset value with the last non 0 brightness level anytime the proxy gets a BRIGHTNESS_CHANGED notify of a value of 0.</p>

<p>Additionally if drivers get a command to turn on that did not come from the proxy, the driver can check the brightness PREVIOUS preset value to know what level it should turn on to.</p>
<h3 id='light-v2-capabilities-brightness_on_mode_previous-signature'>Signature</h3>

<p><code>&lt;brightness_on_mode_previous&gt;&lt;/brightness_on_mode_ previous&gt;</code></p>

<h3 id='light-v2-capabilities-brightness_on_mode_previous-type'>Type</h3>

<p>Boolean. Defaults to false</p>

<h3 id='light-v2-capabilities-brightness_on_mode_previous-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-brightness_on_mode_previous-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;brightness_on_mode_previous&gt;</span>true<span class="nt">&lt;/brightness_on_mode_previous&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-color_on_mode_fade'>color_on_mode_fade</h2>
<p>Used to enable the Fade On &quot;On Mode&quot; behavior, such as Dim to Warm, so that the lights color is based on the current brightness of a light.</p>

<p>Dealers are allowed to pick two colors when in this mode. The Dim color a dealer picks is the color of the light at a 1% brightness and a second On color a dealer picks is the color of the light at 100% brightness. If a customer picks 50% brightness, the color the light shows should be an equal mix of the Dim color and On color. This &quot;color mix&quot; can easily be calculated by the following equation:</p>

<p>colorFinal.x = colorDim.x + (colorOn.x - colorDim.x) <em> brightness</em>.01</p>

<p>colorFinal.y = colorDim.y + (colorOn.y - colorDim.y) <em> brightness</em>.01</p>

<p>As a driver receives a new SET_BRIGHTNESS_TARGET command then the driver should use this formula and always set a new color on their light even if it does not receive a SET_COLOR_TARGET command.</p>

<p>Driver developers will notice that when a light is normally turned on from UI&#39;s, they will not get a SET_COLOR_TARGET when in this mode. If a driver does get a SET_COLOR_TARGET command, such as from a scene, composer programming, or other scenario then the driver should go to that color even while in Fade mode. If the driver gets any future SET_BRIGHTNESS_TARGET then the driver should again apply the color formula.</p>
<h3 id='light-v2-capabilities-color_on_mode_fade-signature'>Signature</h3>

<p><code>&lt;color_on_mode_fade&gt;&lt;/color_on_mode_fade&gt;</code></p>

<h3 id='light-v2-capabilities-color_on_mode_fade-type'>Type</h3>

<p>Boolean. Defaults to false.</p>

<h3 id='light-v2-capabilities-color_on_mode_fade-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-color_on_mode_fade-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_on_mode_fade&gt;</span>true<span class="nt">&lt;/color_on_mode_fade&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-color_on_mode_preset'>color_on_mode_preset</h2>
<p>Used to enable generic color presets to be used with the &quot;On Mode&quot; behavior.  If a driver supports this capability, it is up to the driver to support additional parameter handling and reporting.</p>

<p>See SET_COLOR_TARGET, COLOR_CHANGING and COLOR_CHANGED commands and notifies and look for optional parameters such as: </p>

<ul>
<li>LIGHT_COLOR_TARGET_PRESET_ID</li>
<li>LIGHT_COLOR_TARGET_PRESET_ORIGIN</li>
<li>LIGHT_COLOR_CURRENT_PRESET_ID</li>
<li>LIGHT_COLOR_CURRENT_PRESET_ORIGIN</li>
</ul>

<p>Additionally, drivers need to implement UPDATE_COLOR_ON_MODE and UPDATE_COLOR_PRESET commands so they can track values for situations where the proxy is not the initiator of light behavior, such as On Mode Fade, scenes, composer programming, etc.</p>
<h3 id='light-v2-capabilities-color_on_mode_preset-signature'>Signature</h3>

<p><code>&lt;color_on_mode_preset&gt;&lt;/color_on_mode_preset&gt;</code></p>

<h3 id='light-v2-capabilities-color_on_mode_preset-type'>Type</h3>

<p>Boolean. Defaults to false.</p>

<h3 id='light-v2-capabilities-color_on_mode_preset-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-color_on_mode_preset-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_on_mode_preset&gt;</span>true<span class="nt">&lt;/color_on_mode_preset&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-color_on_mode_previous'>color_on_mode_previous</h2>
<p>Used to enable the Previous Color On &quot;On Mode&quot; behavior for a light. The 3.3.2 and newer proxies track the last color reported by a driver before a BRIGHTNESS_CHANGED notification occurs with a level of 0. When the proxy gets a generic On (aka Dynamic On) then the proxy will send a SET_COLOR_TARGET command with that last reported color before the brightness went to 0. The proxy will also update the PREVIOUS color preset value with the last color prior to the proxy receiving a BRIGHTNESS_CHANGED notify of a value of 0.</p>

<p>Additionally if drivers get a command to turn on that did not come from the proxy, the driver can check the PREVIOUS color preset value to know what color it should turn on to.</p>
<h3 id='light-v2-capabilities-color_on_mode_previous-signature'>Signature</h3>

<p><code>&lt;color_on_mode_previous&gt;&lt;/color_on_mode_previous&gt;</code></p>

<h3 id='light-v2-capabilities-color_on_mode_previous-type'>Type</h3>

<p>Boolean. Defaults to false.</p>

<h3 id='light-v2-capabilities-color_on_mode_previous-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-color_on_mode_previous-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_on_mode_previous&gt;</span>true<span class="nt">&lt;/color_on_mode_previous&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-cold_start'>cold_start</h2>
<p>Ramping API indicating if the lighting hardware supports cold start. Defaults to false. In conjunction with O.S. release 3.4.2, this capability was modified to be a Dynamic Capability. This change has no impact on existing drivers using the cold_start capability. Going forward a driver can now change this capability if needed.</p>
<h6 id='light-v2-capabilities-cold_start-example-available-from-3-4-2'>Available from 3.4.2.</h6><h3 id='light-v2-capabilities-cold_start-signature'>Signature</h3>

<p><code>&lt;cold_start&gt;&lt;/&lt;cold_start&gt;</code></p>

<h3 id='light-v2-capabilities-cold_start-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-cold_start-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-cold_start-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;cold_start&gt;</span>true<span class="nt">&lt;/cold_start&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>-- The following command can be sued to dynamically change the cold_start capability: 

C4:SendToProxy(PROXY_ID, 'DYNAMIC_CAPABILITIES_CHANGED', { cold_start = gColdStartEnabled }, "NOTIFY", true)
</code></pre></div>
<h2 id='light-v2-capabilities-color_correlated_temperature_max'>color_correlated_temperature_max</h2>
<p>Maximum CCT (aka Kelvin) degrees supported by the driver.</p>
<h3 id='light-v2-capabilities-color_correlated_temperature_max-signature'>Signature</h3>

<p><code>&lt;color_correlated_temperature_max&gt;&lt;/color_correlated_temperature_max&gt;</code></p>

<h3 id='light-v2-capabilities-color_correlated_temperature_max-type'>Type</h3>

<p>Integer: Defaults to 20000.</p>

<h3 id='light-v2-capabilities-color_correlated_temperature_max-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-color_correlated_temperature_max-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_correlated_temperature_max&gt;</span>20000<span class="nt">&lt;/color_correlated_temperature_max&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-color_correlated_temperature_min'>color_correlated_temperature_min</h2>
<p>Minimum CCT (aka Kelvin) degrees supported by the driver.</p>
<h3 id='light-v2-capabilities-color_correlated_temperature_min-signature'>Signature</h3>

<p><code>&lt;color_correlated_temperature_min&gt;&lt;/color_correlated_temperature_min&gt;</code></p>

<h3 id='light-v2-capabilities-color_correlated_temperature_min-type'>Type</h3>

<p>Integer: Defaults to 1000.</p>

<h3 id='light-v2-capabilities-color_correlated_temperature_min-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-color_correlated_temperature_min-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_correlated_temperature_min&gt;</span>1000<span class="nt">&lt;/color_correlated_temperature_min&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-color_rate_behavior'>color_rate_behavior</h2>
<p>Supported color rate behaviors include: </p>

<p>0 - Unchangeable Rate.
1 - Device only supports one rate for brightness and color.
2 - Device supports ramping brightness and color at two different rates.</p>
<h3 id='light-v2-capabilities-color_rate_behavior-signature'>Signature</h3>

<p><code>&lt;color_rate_behavior&gt;&lt;/color_rate_behavior&gt;</code></p>

<h3 id='light-v2-capabilities-color_rate_behavior-type'>Type</h3>

<p>Integer: Defaults to 0.</p>

<h3 id='light-v2-capabilities-color_rate_behavior-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-color_rate_behavior-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_rate_behavior&gt;</span>2<span class="nt">&lt;/color_rate_behavior&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-color_rate_max'>color_rate_max</h2>
<p>Maximum color rate, in milliseconds, supported for transitioning from one color to another.  Should always be set for any color light driver, even if the transition rate is unchangeable. Allows dealers to configure the maximum rate that can be configured. The color_rate value is used by voice control, navigators, customer created advanced lighting scenes, and various other areas of the system that previously didn&#39;t allow customization of the transition rate.</p>
<h3 id='light-v2-capabilities-color_rate_max-signature'>Signature</h3>

<p><code>&lt;color_rate_max&gt;&lt;/color_rate_max&gt;</code></p>

<h3 id='light-v2-capabilities-color_rate_max-type'>Type</h3>

<p>Integer: Defaults to 0.</p>

<h3 id='light-v2-capabilities-color_rate_max-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-color_rate_max-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_rate_max&gt;</span>200<span class="nt">&lt;/color_rate_max&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-color_rate_min'>color_rate_min</h2>
<p>Minimum color rate, in milliseconds, supported for transitioning from one color to another.  Should always be set for any color light driver, even if the transition rate is unchangeable. Allows dealers to configure the maximum rate that can be configured. The color_rate value is used by voice control, navigators, customer created advanced lighting scenes, and various other areas of the system that previously didn&#39;t allow customization of the transition rate.</p>
<h3 id='light-v2-capabilities-color_rate_min-signature'>Signature</h3>

<p><code>&lt;color_rate_min&gt;&lt;/color_rate_min&gt;</code></p>

<h3 id='light-v2-capabilities-color_rate_min-type'>Type</h3>

<p>Integer: Defaults to 0.</p>

<h3 id='light-v2-capabilities-color_rate_min-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-color_rate_min-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_rate_min&gt;</span>200<span class="nt">&lt;/color_rate_min&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-disable_flash'>disable_flash</h2>
<p>This capability Indicates whether the driver supports Flash behavior. This capability is useful with regard to Flash functionality being offered in the Advanced Lighting Scenes Composer Pro UI. By default, this capability is set to false. Setting this to true will allow Flash functionality to be configured in Composer Pro.</p>
<h6 id='light-v2-capabilities-disable_flash-example-available-from-3-4-2'>Available from 3.4.2.</h6><h3 id='light-v2-capabilities-disable_flash-signature'>Signature</h3>

<p><code>&lt;disbale_flash&gt;&lt;/disbale_flash&gt;</code></p>

<h3 id='light-v2-capabilities-disable_flash-type'>Type</h3>

<p>bool</p>

<h3 id='light-v2-capabilities-disable_flash-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-disable_flash-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;disbale_flash&gt;</span>true<span class="nt">&lt;/disbale_flash&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-has_fixed_ramp_rate'>has_fixed_ramp_rate</h2>
<p>Ramping API indicating if the light has a fixed ramp rate and can not be changed via driver. Defaults to false.</p>
<h3 id='light-v2-capabilities-has_fixed_ramp_rate-signature'>Signature</h3>

<p><code>&lt;has_fixed_ramp_rate&gt;&lt;/&lt;has_fixed_ramp_rate&gt;</code></p>

<h3 id='light-v2-capabilities-has_fixed_ramp_rate-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-has_fixed_ramp_rate-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-has_fixed_ramp_rate-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;has_fixed_ramp_rate&gt;</span>true<span class="nt">&lt;/has_fixed_ramp_rate&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-fixed_ramp_rate'>fixed_ramp_rate</h2>
<p>For devices that have has_fixed_ramp_rate set to true, this is the number of milliseconds it takes the device to ramp from min to max or vice versa. Used only by the Advanced Lighting Scenes Agent. Defaults to 0.</p>
<h3 id='light-v2-capabilities-fixed_ramp_rate-signature'>Signature</h3>

<p><code>&lt;fixed_ramp_rate&gt;&lt;/&lt;fixed_ramp_rate&gt;</code></p>

<h3 id='light-v2-capabilities-fixed_ramp_rate-type'>Type</h3>

<p>Integer</p>

<h3 id='light-v2-capabilities-fixed_ramp_rate-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-fixed_ramp_rate-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;fixed_ramp_rate&gt;</span>false<span class="nt">&lt;/fixed_ramp_rate&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-click_rates'>click_rates</h2>
<p>Ramping API that determines whether properties appear in composer allowing the user to set the click rates. Also enables &quot;Fast On&quot; and &quot;Fast Off&quot; presets.</p>
<h3 id='light-v2-capabilities-click_rates-signature'>Signature</h3>

<p><code>&lt;click_rates&gt;&lt;/&lt;click_rates&gt;</code></p>

<h3 id='light-v2-capabilities-click_rates-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-click_rates-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-click_rates-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;click_rates&gt;</span>false<span class="nt">&lt;/click_rates&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-click_rate_min'>click_rate_min</h2>
<p>Ramping API that determines the minimum length of time (in milliseconds) that can be set for Click Rate of a keypad button press. This is also used for minimum time of ramp rate range for Composer Programming. Defaults to 0.</p>
<h3 id='light-v2-capabilities-click_rate_min-signature'>Signature</h3>

<p><code>&lt;click_rate_min&gt;&lt;/&lt;click_rate_min&gt;</code></p>

<h3 id='light-v2-capabilities-click_rate_min-type'>Type</h3>

<p>Integer</p>

<h3 id='light-v2-capabilities-click_rate_min-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-click_rate_min-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;click_rate_min&gt;</span>0<span class="nt">&lt;/click_rate_min&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-click_rate_max'>click_rate_max</h2>
<p>Ramping API that determines the maximum length of time (in milliseconds) that can be set for Click Rate of a keypad button press. Defaults to 1.</p>
<h3 id='light-v2-capabilities-click_rate_max-signature'>Signature</h3>

<p><code>&lt;click_rate_max&gt;&lt;/&lt;click_rate_max&gt;</code></p>

<h3 id='light-v2-capabilities-click_rate_max-type'>Type</h3>

<p>Integer</p>

<h3 id='light-v2-capabilities-click_rate_max-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-click_rate_max-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;click_rate_max&gt;</span>1<span class="nt">&lt;/click_rate_max&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-color_trace_tolerance'>color_trace_tolerance</h2>
<p>Some color lighting hardware or communication protocols lack enough bits or precision to set all possible colors, especially if using 8 bit Mired, RGB, or HSV values. This capability adjusts the CIELa*b* Delta comparison value to allow drivers to increase or reduce the color comparison area to work around rounding issues in devices and/or communication. Most people can visually detect a color difference with a Delta of 3.0 or higher. Control4 has chosen a default Delta of 1.0 as this should be sufficient for most hardware and protocols.</p>

<p>This Delta value is used by the system to determine if two colors are close enough to be considered &quot;the same&quot;. This tolerance check is used by Advanced Lighting Scenes, Composer Programming, and other areas.</p>

<p>In 3.3.1 and later releases, if the Delta value provided is &gt; .01, then the superior CIELa*b* tolerance formula is used to determining if a color is the as another color in the system. If the value provided is &lt; .01, or any value in 3.3.0, then the difference is based on the xy  chromaticity euclid distance between two colors.</p>
<h3 id='light-v2-capabilities-color_trace_tolerance-signature'>Signature</h3>

<p><code>&lt;color_trace_tolerance&gt;&lt;/color_trace_tolerance&gt;</code></p>

<h3 id='light-v2-capabilities-color_trace_tolerance-type'>Type</h3>

<p>Float</p>

<h3 id='light-v2-capabilities-color_trace_tolerance-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-color_trace_tolerance-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;color_trace_tolerance&gt;</span>.06<span class="nt">&lt;/color_trace_tolerance&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-has_extras'>has_extras</h2>
<p>Boolean indicating if the device has extras commands support. This capability can be changed through a <code>DYNAMIC_CAPABILITIES_CHANGED</code>  notification.</p>
<h3 id='light-v2-capabilities-has_extras-signature'>Signature</h3>

<p><code>&lt;has_extras&gt;&lt;/has_extras&gt;</code></p>

<h3 id='light-v2-capabilities-has_extras-type'>Type</h3>

<p>Boolean. Defaults to false</p>

<h3 id='light-v2-capabilities-has_extras-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-has_extras-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;has_extras&gt;</span>true<span class="nt">&lt;/has_extras&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-hold_rates'>hold_rates</h2>
<p>Ramping API that determines whether properties appear in Composer allowing the user to set hold rates. Defaults to false.</p>
<h3 id='light-v2-capabilities-hold_rates-signature'>Signature</h3>

<p><code>&lt;hold_rates&gt;&lt;/&lt;hold_rates&gt;</code></p>

<h3 id='light-v2-capabilities-hold_rates-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-hold_rates-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-hold_rates-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;hold_rates&gt;</span>false<span class="nt">&lt;/hold_rates&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-hold_rate_min'>hold_rate_min</h2>
<p>Ramping API that determines Minimum length of time (in milliseconds) that can be set for Hold Rate of a keypad button press. Defaults to 1000.</p>
<h3 id='light-v2-capabilities-hold_rate_min-signature'>Signature</h3>

<p><code>&lt;hold_rate_min&gt;&lt;/&lt;hold_rate_min&gt;</code></p>

<h3 id='light-v2-capabilities-hold_rate_min-type'>Type</h3>

<p>Integer</p>

<h3 id='light-v2-capabilities-hold_rate_min-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-hold_rate_min-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;hold_rate_min&gt;</span>1000<span class="nt">&lt;/hold_rate_min&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-hold_rate_max'>hold_rate_max</h2>
<p>Ramping API that determines the maximum length of time (in milliseconds) that can be set for Hold Rate of a keypad button press
Also used for the maximum time of ramp rate range for Composer Programming. Defaults to 86400000.</p>
<h3 id='light-v2-capabilities-hold_rate_max-signature'>Signature</h3>

<p><code>&lt;hold_rate_max&gt;&lt;/&lt;hold_rate_max&gt;</code></p>

<h3 id='light-v2-capabilities-hold_rate_max-type'>Type</h3>

<p>Integer</p>

<h3 id='light-v2-capabilities-hold_rate_max-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-hold_rate_max-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;hold_rate_max&gt;</span>86400000<span class="nt">&lt;/hold_rate_max&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-load_group_support'>load_group_support</h2>
<p>Load Group capability Indicating if the light can participate in load groups and the driver follows all Load Group API requirements. Defaults to false.</p>
<h3 id='light-v2-capabilities-load_group_support-signature'>Signature</h3>

<p><code>&lt;load_group_support&gt;&lt;/load_group_support&gt;</code></p>

<h3 id='light-v2-capabilities-load_group_support-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-load_group_support-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-load_group_support-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;load_group_support&gt;</span>false<span class="nt">&lt;/load_group_support&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-hide_proxy_events'>hide_proxy_events</h2>
<p>Composer capability that determines whether the proxy’s Events (brightness, color changes and buttons events) should appear in Composer Programming. Defaults to false.</p>
<h3 id='light-v2-capabilities-hide_proxy_events-signature'>Signature</h3>

<p><code>&lt;hide_proxy_events&gt;&lt;/hide_proxy_events&gt;</code></p>

<h3 id='light-v2-capabilities-hide_proxy_events-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-hide_proxy_events-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-hide_proxy_events-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;hide_proxy_events&gt;</span>false<span class="nt">&lt;/hide_proxy_events&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-has_button_events'>has_button_events </h2>
<p>Composer capability that determines whether the driver has button events that should appear in Composer programming. Defaults to false.</p>
<h3 id='light-v2-capabilities-has_button_events-signature'>Signature</h3>

<p><code>&lt;has_button_events&gt;&lt;/has_button_events&gt;</code></p>

<h3 id='light-v2-capabilities-has_button_events-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-has_button_events-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-has_button_events-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;has_button_events&gt;</span>false<span class="nt">&lt;/has_button_events&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-has_leds'>has_leds</h2>
<p>Keypad capability that determines whether the properties appear in Composer to allow the dealer to set LED colors of keypad buttons. Defaults to false.</p>
<h3 id='light-v2-capabilities-has_leds-signature'>Signature</h3>

<p><code>&lt;has_leds&gt;&lt;/has_leds&gt;</code></p>

<h3 id='light-v2-capabilities-has_leds-type'>Type</h3>

<p>Boolean</p>

<h3 id='light-v2-capabilities-has_leds-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-has_leds-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;has_leds&gt;</span>false<span class="nt">&lt;/has_leds&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-multi_click'>multi_click</h2>
<p>This capability implements ability to disable multi-click events/actions for a light driver. This is useful when it is desirable to disable the use of press, release, single, double or triple click programming in Composer Pro. This capability defaults to true. </p>
<h6 id='light-v2-capabilities-multi_click-example-available-from-3-4-2'>Available from 3.4.2.</h6><h3 id='light-v2-capabilities-multi_click-signature'>Signature</h3>

<p><code>&lt;multi_click&gt;&lt;/multi_click&gt;</code></p>

<h3 id='light-v2-capabilities-multi_click-type'>Type</h3>

<p>Boolean: Defaults to true.</p>

<h3 id='light-v2-capabilities-multi_click-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-multi_click-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;multi_click&gt;</span>true<span class="nt">&lt;/multi_click&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-supports_brightness_stop'>supports_brightness_stop</h2>
<p>Used to indicate if a light brightness transition can be stopped during a ramp. Drivers that support Daylight Agent benefit from implementing this as the Daylight scenario can be stopped without having to force a light to go to a different brightness or color to end tracking. Reduced ALS support drivers should implement this capability so that ramping scenes works correctly.</p>

<p>*Note, a bug in 3.3.2 prevents keypad buttons bound to the proxies BUTTON_LINK for Brightness Stop from working. This will be resolved in 3.3.3.</p>
<h3 id='light-v2-capabilities-supports_brightness_stop-signature'>Signature</h3>

<p><code>&lt;supports_brightness_stop&gt;&lt;/supports _brightness_stop&gt;</code></p>

<h3 id='light-v2-capabilities-supports_brightness_stop-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-supports_brightness_stop-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-supports_brightness_stop-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;supports_color&gt;</span>false<span class="nt">&lt;/supports_color&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div><h3 id='light-v2-capabilities-supports_brightness_stop-usage-note'>Usage Note</h3>

<p>If changing the supports_color or supports_color_correlated_temperature capabilities via the Dynamic Capabilities Notify, these should both be done in a single notification. If only one is disabled/enabled at a time, device color presets such as the On or Dim colors may have their color mode changed between Full Color and CCT automatically.</p>

<p>For example,  if the presets mode were CCT and a driver on director startup dynamically enabled just supports_color the proxy would detect that CCT is not supported and change any existing presets to color mode Full Color.</p>

<h2 id='light-v2-capabilities-supports_color'>supports_color</h2>

<p>Whether the device can show a broad range of colors.  Set to False and use &quot;supports_color_predefined&quot; if the driver can only reproduce a limited number of colors, such as devices that only use enums to communicate or hardware with a limited table of factory configured colors.</p>

<h3 id='light-v2-capabilities-supports_color-signature'>Signature</h3>

<p><code>&lt;supports_color&gt;&lt;/supports_color&gt;</code></p>

<h3 id='light-v2-capabilities-supports_color-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-supports_color-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-supports_color-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
    <span class="nt">&lt;supports_color&gt;</span>false<span class="nt">&lt;/supports_color&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div><h3 id='light-v2-capabilities-supports_color-usage-note'>Usage Note</h3>

<p>If changing the supports_color or supports_color_correlated_temperature capabilities via the Dynamic Capabilities Notify, these should both be done in a single notification. If only one is disabled/enabled at a time, device color presets such as the On or Dim colors may have their color mode changed between Full Color and CCT automatically.</p>

<p>For example,  if the presets mode were CCT and a driver on director startup dynamically enabled just supports_color the proxy would detect that CCT is not supported and change any existing presets to color mode Full Color.</p>

<h2 id='light-v2-capabilities-supports_color_correlated_temperature'>supports_color_correlated_temperature</h2>

<p>Wh Whether the device has native support for color correlated temperature reporting in Kelvin. Set this capability to False if the driver can only do predefined color temperatures. If enabled via dynamic capability, it will be necessary  to Notify the proxy of the current color immediately after the capability is enabled. </p>

<h3 id='light-v2-capabilities-supports_color_correlated_temperature-signature'>Signature</h3>

<p><code>&lt;supports_color_correlated_temperature&gt;&lt;/supports_color_correlated_temperature&gt;</code></p>

<h3 id='light-v2-capabilities-supports_color_correlated_temperature-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-supports_color_correlated_temperature-dynamic-capability'>Dynamic Capability</h3>

<p>Yes</p>

<h3 id='light-v2-capabilities-supports_color_correlated_temperature-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;supports_color_correlated_temperature&gt;</span>false<span class="nt">&lt;supports_color_correlated_temperature&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div><h3 id='light-v2-capabilities-supports_color_correlated_temperature-usage-note'>Usage Note</h3>

<p>Note: If changing the supports_color or supports_color_correlated_temperature capabilities via the Dynamic Capabilities Notify, these should both be done in a single notification. If only one is disabled/enabled at a time, device color presets such as the On or Dim colors)may have their color mode changed between Full Color and CCT automatically. </p>

<p>For example, if the presets mode were Full Color and a driver on director startup dynamically enabled just supports_color_correlated_temperature then the proxy would detect that Full Color is not supported and change any existing presets to color mode CCT.</p>

<h2 id='light-v2-capabilities-supports_default_on'>supports_default_on</h2>

<p><em>Note: Deprecating - Drivers should not use this capability but instead use the brightness on mode preset capability Drivers that enable both will experience oddities in Composer dealer configuration.</em></p>

<p>This feature is for lights that support a default ON brightness in their firmware. When enabled, the Light Proxy sends a SET_PRESET_LEVEL command to drivers when the brightness &quot;On” preset is updated in the proxy through Composer or the PRESET_LEVEL system variable. This enables light switches that respond to local button presses to go to the same default ON level as what the Control4 system uses when a light is turned on or toggled via Navigators, Composer Programming, and keypad buttons. </p>

<h3 id='light-v2-capabilities-supports_default_on-signature'>Signature</h3>

<p><code>&lt;supports_default_on&gt;&lt;/supports_default_on&gt;</code></p>

<h3 id='light-v2-capabilities-supports_default_on-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-supports_default_on-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-supports_default_on-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;supports_default_on&gt;</span>false<span class="nt">&lt;supports_default_on&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-advanced_scene_support'>advanced_scene_support</h2>
<p>Whether the device supports the full Advanced Lighting Scenes driver commands and API&#39;s.</p>
<h3 id='light-v2-capabilities-advanced_scene_support-signature'>Signature</h3>

<p><code>&lt;advanced_scene_support&gt;&lt;/advanced_scene_support&gt;</code></p>

<h3 id='light-v2-capabilities-advanced_scene_support-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-advanced_scene_support-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-advanced_scene_support-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;advanced_scene_support&gt;</span>false<span class="nt">&lt;/advanced_scene_support&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-reduced_als_support'>reduced_als_support</h2>
<p>If the advanced_scene_support capability is false, a driver can use this reduced_als_support capability for Advanced Lighting Scene support. The device will be allowed into a scene, but the device can&#39;t participate in scene ramping and can only have either 0 or 1 elements in a scene. </p>
<h3 id='light-v2-capabilities-reduced_als_support-signature'>Signature</h3>

<p><code>&lt;reduced_als_support&gt;&lt;/reduced_als_support&gt;</code></p>

<h3 id='light-v2-capabilities-reduced_als_support-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-reduced_als_support-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-reduced_als_support-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;reduced_als_support&gt;</span>false<span class="nt">&lt;/reduced_als_support&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-supports_broadcast_scenes'>supports_broadcast_scenes</h2>
<p>Whether the device supports broadcasts.  This includes Zigbee, ZWave, UDP. </p>
<h3 id='light-v2-capabilities-supports_broadcast_scenes-signature'>Signature</h3>

<p><code>&lt;supports_broadcast_scenes&gt;&lt;/supports_broadcast_scenes&gt;</code></p>

<h3 id='light-v2-capabilities-supports_broadcast_scenes-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-supports_broadcast_scenes-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-supports_broadcast_scenes-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;supports_broadcast_scenes&gt;</span>false<span class="nt">&lt;/supports_broadcast_scenes&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-supports_multichannel_scenes'>supports_multichannel_scenes</h2>
<p>Causes the LightV2 proxy to send the &quot;EXECUTE_SCENE&quot; command to the device rather than a set level command.</p>
<h3 id='light-v2-capabilities-supports_multichannel_scenes-signature'>Signature</h3>

<p><code>&lt;supports_multichannel_scenes&gt;&lt;/supports_multichannel_scenes&gt;</code></p>

<h3 id='light-v2-capabilities-supports_multichannel_scenes-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-supports_multichannel_scenes-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-supports_multichannel_scenes-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;supports_multichannel_scenes&gt;</span>false<span class="nt">&lt;/supports_multichannel_scenes&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-hide_proxy_properties'>hide_proxy_properties</h2>
<p>Whether to show all proxy properties in composer.  This is primarily only used for extremely limited hardware that can&#39;t ramp or do much else except turn on and off.</p>
<h3 id='light-v2-capabilities-hide_proxy_properties-signature'>Signature</h3>

<p><code>&lt;hide_proxy_properties&gt;&lt;/hide_proxy_properties&gt;</code></p>

<h3 id='light-v2-capabilities-hide_proxy_properties-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-hide_proxy_properties-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-hide_proxy_properties-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;hide_proxy_properties&gt;</span>false<span class="nt">&lt;/hide_proxy_properties&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-nesting_driver_is_parent'>nesting_driver_is_parent</h2>
<p>This capability is applicable to drivers where supporting drivers are required for the one device. This capability makes it easier to understand what drivers are associated with each other. This specific capability indicates whether or not this driver is dependent on other drivers. When used correctly, it will setup the dependent driver(s) to be nested under the primary (parent) driver in Composer Pro.</p>
<h6 id='light-v2-capabilities-nesting_driver_is_parent-example-available-from-3-4-2'>Available from 3.4.2.</h6><h3 id='light-v2-capabilities-nesting_driver_is_parent-signature'>Signature</h3>

<p><code>&lt;nesting_driver_is_parent&gt;&lt;/nesting_driver_is_parent&gt;</code></p>

<h3 id='light-v2-capabilities-nesting_driver_is_parent-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-nesting_driver_is_parent-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-nesting_driver_is_parent-usage-note'>Usage Note</h3>

<p>The following variable must be added and configured to use this capability:</p>

<p>VAR_C4_NESTING_PARENTS_CHILD_DEVICES - Set this variable to a comma delimited list of ID values for the secondary device(s) required by the parent driver. This list represents the drivers that will be nested under the parent driver in Composer Pro. This is the associated driver(s) with the nested_driver_is_child capability set to true.</p>

<h3 id='light-v2-capabilities-nesting_driver_is_parent-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;nesting_driver_is_parent&gt;</span>false<span class="nt">&lt;/nesting_driver_is_parent&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div>
<h2 id='light-v2-capabilities-nested_driver_is_child'>nested_driver_is_child</h2>
<p>This capability is applicable to light drivers where multiple light drivers are added for one light device. These capabilities make it easier to understand what drivers are associated with each other. This specific capability indicates whether or not this driver is a dependent driver required by primary light driver for use.  When used correctly, it will setup the dependent driver(s) to be nested under the primary driver in Composer Pro.</p>
<h6 id='light-v2-capabilities-nested_driver_is_child-example-available-from-3-4-2'>Available from 3.4.2.</h6><h3 id='light-v2-capabilities-nested_driver_is_child-signature'>Signature</h3>

<p><code>&lt;nested_driver_is_child&gt;&lt;/nested_driver_is_child&gt;</code></p>

<h3 id='light-v2-capabilities-nested_driver_is_child-type'>Type</h3>

<p>Boolean: Defaults to false.</p>

<h3 id='light-v2-capabilities-nested_driver_is_child-dynamic-capability'>Dynamic Capability</h3>

<p>No</p>

<h3 id='light-v2-capabilities-nested_driver_is_child-usage-note'>Usage Note</h3>

<p>The following variable must be added and configured to use this capability:</p>

<p>VAR_C4_NESTED_CHILDS_PARENT_DEVICE - Set the variable to the ID of primary driver requiring its use. This is the associated driver with the nesting_driver_is_parent capability set to true.</p>

<p><h3 id='light-v2-capabilities-nested_driver_is_child-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;capabilities&gt;</span>
  <span class="nt">&lt;nested_driver_is_child&gt;</span>false<span class="nt">&lt;/nested_driver_is_child&gt;</span>
<span class="nt">&lt;/capabilities&gt;</span>
</code></pre></div></p>
<h1 id='light-v2-conversion-commands'>Light V2 Conversion Commands</h1>

<p>This section lists the Commands used for converting to/from hue, saturation and lightness (HSV) and red, blue and green (RGB).</p>

<p>Control4 OS 3.3.0 and later releases include native support for Color Chromaticity and Color Correlated Temperature (CCT) functionality. Navigators, the Light V2 Proxy, and the Advanced Lighting Scene (ALS) agent use this new color architecture. This means that Drivers written against the 3.3.0 Light V2 Proxy can now implement native color support.</p>

<p>Color API&#39;s between the proxy, ALS agent and drivers are based on the CIE 1931 XY Chromaticity standard for visible color.</p>

<p>Beginning with O.S. 3.3.0, all drivers (including non-color) should implement the new Brightness Target API for communicating brightness to the Light V2 proxy.</p>

<h2 id='light-v2-conversion-commands-understanding-chromaticity'>Understanding Chromaticity</h2>

<p>Currently, no bulb or LED strip can produce all of the colors seen by the human eye. However, the range of colors lighting devices can produce is constantly growing. In addition to this, most lighting devices do not produce the same range of colors as other devices. In order to provide a consistent color experience in a home which could include various brands and models of bulbs or strip lighting; the Control4 color API needs to support all possible visible colors. Also, RGB and Hue/Saturation data values are not universal. The same RGB and Hue/Saturation data value across different lighting devices will often produce different actual visible colors. The use of  Chromaticity can solve these issues. </p>

<p>Chromaticity allows for communicating a color using XY coordinates that is universal and can be computationally converted to various other color spaces, formats, and their respective data values. Below is a diagram showing all visible light wavelengths and their reference points according to the CIE 1931 Chromaticity standard. All visible colors can be specified by an XY coordinate.</p>

<p><img src="images/64_2-01-0c35e5c8.png"/></p>

<h3 id='light-v2-conversion-commands-understanding-chromaticity-the-use-of-gamuts'>The Use of Gamuts</h3>

<p>Most light driver developers are familiar with Hue and Saturation or RGB values. Hue and Saturation are a data representation of how much of a color something is in relation to how much it can be in total. RGB is similar but also includes how much of its total brightness is used. Neither of these provide a way to verify if two different lighting devices are producing the same viewable color as seen by a home owner. </p>

<p>However, if a devices’ gamut value for the RGB or Hue/Sat value is known, it is possible to compare this device with a different device’s gamut values making it possible to understand how the two device&#39;s colors relate. Below are the gamut triangles of three different LED chips, used in a lighting products.</p>

<p><img src="images/64_3-02-6c663fcf.png"/></p>

<p>In the image above, you can see that Gamut B (the smaller Red triangle) can produce a far smaller range of colors than the Gamut A (Black) triangle. If we were to send the RGB data of &quot;0,255,0&quot; to two different devices (one device using Gamut A LED chips and another device using Gamut B LED chips) the actual visible green color light produced by both devices would be very different. </p>

<p>For example, consider a home owner wants to set two different light device colors to &quot;White&quot; or the center of each triangle:  255,255,255 for RGB and the device gamut values are not used in their respective drivers. The resulting visual white color that the home owner would see would be very different between the two light devices. In this case, the device using Gamut B LED chips would be a much lower Color Correlated Temperature (CCT). In fact, the difference between the two devices would be over 1000. This could certainly annoy many home owners. This is why it&#39;s very useful to know the gamut of your device if it is possible to obtain it</p>

<p>Driver developers that know the gamut of their LED chips also know that there are standard mathematical formulas for transitioning any RGB value to/from the more universal XY Chromaticity color space.</p>

<p>For driver developers who do not know their LED chips gamut or aren&#39;t interested in color accuracy the provided RGB↔XY  lua conversion function can be used. Be aware that these calls map RGB and Hue/Saturation data values to the generic sRGB gamut and that the color a home owner or dealer selects on UIs may not match the color produced by the LED chips. Below is graphical representation for the sRGB gamut for reference.</p>

<p><img src="images/64_2-03-06503d9f.png"/></p>

<h3 id='light-v2-conversion-commands-understanding-chromaticity-lack-brightness-values'>Lack Brightness Values</h3>

<p>Chromaticity does not include a data value for brightness. Reasons for this include:</p>

<ul>
<li><p>Many users prefer to adjust color and brightness individually, such as selecting a color then ramping brightness or picking a brightness and changing colors.</p></li>
<li><p>If Color presets included brightness it would result in multiple presets of the same Red color. However, they would be at different brightness levels. This would make color preset navigation and selection for home owners cumbersome.</p></li>
<li><p>Programming Event firing and Conditional checks would be very convoluted. For example, White at 50% is not be the same as White at 100%. And ultimately,  all the user wanted to check is if the color was &quot;White&quot;.</p></li>
<li><p>Similar to Programming complexity, Lighting Scene tracking would become unmanageable. Advanced Lighting Scene creation is more configurable and provides better ways for dealers to meet customers needs.</p></li>
</ul>

<h3 id='light-v2-conversion-commands-understanding-chromaticity-color-correlated-temperature-cct'>Color Correlated Temperature (CCT)</h3>

<p>Many colored lighting devices are designed to fulfill just the CCT implementation of color. Drivers do have the ability to specify if they support CCT, Full Color or both. Different configuration and UI features are available based on capabilities specified by the driver. Most all &quot;full color&quot; lights will inherently support CCT, as the image below shows. </p>

<p><img src="images/64_4-03-d8e1ec1a.png"/></p>

<p>Note that Control4 OS Color APIs also allow specifying if a color is CCT or &quot;Full Color&quot;. This helps the device know if the user is trying to control the light in one mode vs another.</p>

<h2 id='light-v2-conversion-commands-colorccttoxy'>ColorCCTtoXY</h2>

<p>This function converts a CCT (color temperature in Kelvin) color to the CIE-1931 xy 
chromaticity.</p>

<p><em>This function was released in conjunction with O.S. 3.3.0.</em></p>

<h3 id='light-v2-conversion-commands-colorccttoxy-signature'>Signature</h3>

<p><code>C4:ColorCCTtoXY (k)</code></p>

<h3 id='light-v2-conversion-commands-colorccttoxy-parameters'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing Kelvin temperature.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorccttoxy-returns'>Returns</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing x component of the CIE-1931 xy chromaticity.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing y component of the CIE-1931 xy chromaticity.</td>
</tr>
</tbody></table>

<h2 id='light-v2-conversion-commands-colorhsvtorgb'>ColorHSVtoRGB</h2>

<p>This function converts an HSV color to the RGB color space.</p>

<p><em>This function was released in conjunction with O.S. 3.3.0.</em></p>

<h3 id='light-v2-conversion-commands-colorhsvtorgb-signature'>Signature</h3>

<p><code>C4:ColorHSVtoRGB (h, s, v, rgbScale)</code> </p>

<h3 id='light-v2-conversion-commands-colorhsvtorgb-parameters'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing hue component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing saturation component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing value component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>(Optional) Number representing RGB scale (1 to 255), default value 255.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorhsvtorgb-returns'>Returns</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the red component of RGB (in given scale).</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the green component of RGB (in given scale).</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the blue component of RGB (in given scale).</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorhsvtorgb-example'>Example</h3><div class="highlight"><pre class="highlight lua tab-lua"><code><span class="n">lua</span>
<span class="nb">print</span><span class="p">(</span><span class="n">C4</span><span class="p">:</span><span class="n">ColorHSVtoRGB</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
</code></pre></div>
<h2 id='light-v2-conversion-commands-colorhsvtoxy'>ColorHSVtoXY</h2>
<p>This function converts an HSV color to a CIE-1931 xy chromaticity. Note, there&#39;s no need for a driver developer to specify whitepoint and primaries if usinh srgb or rec2020 for the gamut parameter as described below.</p>

<p><em>This function was released in conjunction with O.S. 3.3.0.</em></p>
<h3 id='light-v2-conversion-commands-colorhsvtoxy-signature'>Signature</h3>

<p><code>C4:ColorHSVtoXY (h, s, v, gamut)</code></p>

<h3 id='light-v2-conversion-commands-colorhsvtoxy-parameters'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing hue component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing saturation component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing value component of HSV.</td>
</tr>
<tr>
<td>str</td>
<td>(Optional) Gamut used for conversion. Valid options are: &quot;srgb&quot; where the srgb primaries and whitepoint values are automatically used without requiring the primaries and whitepoint parameters being set. &quot;rec2020&quot; where where the rec2020 primaries and whitepoint values are automatically used without requiring the primaries and whitepoint parameters being set. “custom” where primaries and whitepoint values can be specified.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorhsvtoxy-returns'>Returns</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the x component of the CIE-1931 xy chromaticity.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the y component of the CIE-1931 xy chromaticity.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorhsvtoxy-examples'>Examples</h3><div class="highlight"><pre class="highlight xml tab-xml"><code>—Using three rgb params:—
C4:ColorHSVtoXY(0, 100, 100)
—Since no scale param is supported, the default of "255" is used for the scale value param.—

— Using srgb primaries and whitepoint: —
C4:ColorHSVtoXY(0, 100, 100, \"srgb\")
—Since no scale param is supported, the default of "255" is used for the scale value param.—

— Using rec2020 primaries and whitepoint: —
C4:ColorHSVtoXY(0, 100, 100, \"rec2020\")
—Since no scale param is supported, the default of "255" is used for the scale value param.—

— Using custom gamut where custom primaries and the 'default' d65 whitepoint is used: —
C4:ColorHSVtoXY(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\")

—Using custom gamut with both custom primaries and custom whitepoint is specified:—
C4:ColorHSVtoXY(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\", \"0.31271, 0.32902\")

—Using Rob params but specifying a custom rgb scale. Scale is 0.0 to 1.0 where 1.0 is full brightness: —
C4:ColorHSVtoXY(0, 100, 100, 1)

— Scale is 0.0 to 100 where 100 is full brightness: —
C4:ColorHSVtoXY(0, 100, 100, 100)

— Scale is 0.0 to 255 where 255 is full brightness: —
C4:ColorHSVtoXY(0, 100, 100, 255)

— Using srgb primaries <span class="err">&amp;</span> whitepoint: —
C4:ColorHSVtoXY(0, 100, 100, 255, \"srgb\")

— Using rec2020 primaries/whitepoint: —
C4:ColorHSVtoXY(0, 100, 100, 255, \"rec2020\")

— Custom gamut where custom primaries and the 'default' d65 whitepoint is used: —
C4:ColorHSVtoXY(0, 100, 100, 255, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\")

— Custom gamut with both custom primaries and custom whitepoint is specified: —
C4:ColorHSVtoXY(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\", \"0.31271, 0.32902\"
</code></pre></div>
<h2 id='light-v2-conversion-commands-colorrgbtohsv'>ColorRGBtoHSV</h2>
<p>This function converts an RGB color to the HSV color space.</p>

<p><em>This function was released in conjunction with O.S. 3.3.0.</em></p>
<h3 id='light-v2-conversion-commands-colorrgbtohsv-signature'>Signature</h3>

<p><code>C4:ColorRGBtoHSV (r, g, b, rgbScale)</code></p>

<h3 id='light-v2-conversion-commands-colorrgbtohsv-parameters'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the red component of RGB (in given scale).</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the green component of RGB (in given scale).</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the blue component of RGB (in given scale).</td>
</tr>
<tr>
<td>num</td>
<td>(Optional) Number representing RGB scale (1 to 255), default value 255.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorrgbtohsv-returns'>Returns</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing hue component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing saturation component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing value component of HSV.</td>
</tr>
</tbody></table>

<h2 id='light-v2-conversion-commands-colorrgbtoxy'>ColorRGBtoXY</h2>

<p>This function converts an RGB color to a CIE-1931 xy chromaticity. Note, there&#39;s no need for a driver developer to specify whitepoint and primaries if usinh srgb or rec2020 for the gamut parameter as described below.</p>

<p><em>This function was released in conjunction with O.S. 3.3.0.</em></p>

<h3 id='light-v2-conversion-commands-colorrgbtoxy-signature'>Signature</h3>

<p><code>C4:ColorRGBtoXY (r, g, b, rgbScale, gamut)</code></p>

<h3 id='light-v2-conversion-commands-colorrgbtoxy-parameters'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the red component of RGB (in given scale).</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the green component of RGB (in given scale).</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the blue component of RGB (in given scale).</td>
</tr>
<tr>
<td>num</td>
<td>(Optional) Number representing RGB scale (1 to 255). The default value is 255.</td>
</tr>
<tr>
<td>str</td>
<td>(Optional) Gamut used for conversion. Valid options are: &quot;srgb&quot; where the srgb primaries and whitepoint values are automatically used without requiring the primaries and whitepoint parameters being set. &quot;rec2020&quot; where where the rec2020 primaries and whitepoint values are automatically used without requiring the primaries and whitepoint parameters being set. “custom” where primaries and whitepoint values can be specified.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorrgbtoxy-returns'>Returns</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the x component of a CIE-1931 xy chromaticity.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the y component of a CIE-1931 xy chromaticity.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorrgbtoxy-examples'>Examples</h3><div class="highlight"><pre class="highlight xml tab-xml"><code>—Using three rgb params:—
C4:ColorRGBtoXY(0, 100, 100)
—Since no scale param is specified the default of "255" is used for the scale value param.—

— Using srgb primaries and whitepoint: —
C4:ColorRGBtoXY(0, 100, 100, \"srgb\")
—Since no scale param is specified the default of "255" is used for the scale value param.—

— Using rec2020 primaries and whitepoint: —
C4:ColorRGBtoXY(0, 100, 100, \"rec2020\")
—Since no scale param is specified the default of "255" is used for the scale value param.—

— Using custom gamut where custom primaries and the 'default' d65 whitepoint is used: —
C4:ColorRGBtoXY(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\")

—Using custom gamut with both custom primaries and custom whitepoint is specified:—
C4:ColorRGBtoXY(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\", \"0.31271, 0.32902\")

—Using Rob params but specifying a custom rgb scale. Scale is 0.0 to 1.0 where 1.0 is full brightness: —
C4:ColorRGBtoXY(0, 100, 100, 1)

— Scale is 0.0 to 100 where 100 is full brightness: —
C4:ColorRGBtoXY(0, 100, 100, 100)

— Scale is 0.0 to 255 where 255 is full brightness: —
C4:ColorRGBtoXY(0, 100, 100, 255)

— Using srgb primaries <span class="err">&amp;</span> whitepoint: —
C4:ColorRGBtoXY(0, 100, 100, 255, \"srgb\")

— Using rec2020 primaries/whitepoint: —
C4:ColorRGBtoXY(0, 100, 100, 255, \"rec2020\")

— Custom gamut where custom primaries and the 'default' d65 whitepoint is used: —
C4:ColorRGBtoXY(0, 100, 100, 255, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\")

— Custom gamut with both custom primaries and custom whitepoint is specified: —
C4:ColorRGBtoXY(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\", \"0.31271, 0.32902\"
</code></pre></div>
<h2 id='light-v2-conversion-commands-colorxytocct'>ColorXYtoCCT</h2>
<p>This function converts from a CIE-1931 xy chromaticity to a CCT (color temperature in Kelvin) color.</p>

<p><em>This function was released in conjunction with O.S. 3.3.0.</em></p>
<h3 id='light-v2-conversion-commands-colorxytocct-signature'>Signature</h3>

<p><code>C4:ColorXYtoCCT (x, y)</code></p>

<h3 id='light-v2-conversion-commands-colorxytocct-parameters'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the x component of a CIE-1931 xy chromaticity.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the y component of a CIE-1931 xy chromaticity.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorxytocct-returns'>Returns</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the CIE-1931 xy chromaticity as a Kelvin temperature.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorxytocct-usage-note'>Usage Note</h3>

<p>This function will return a color temperature for any value provided. This includes color values that fall outside of the usual white/CCT colors.</p>

<h2 id='light-v2-conversion-commands-colorxytohsv'>ColorXYtoHSV</h2>

<p>This function converts a CIE-1931 xy chromaticity to the HSV color space. Note, there&#39;s no need for a driver developer to specify whitepoint and primaries if usinh srgb or rec2020 for the gamut parameter as described below.</p>

<p><em>This function was released in conjunction with O.S. 3.3.0.</em></p>

<h3 id='light-v2-conversion-commands-colorxytohsv-signature'>Signature</h3>

<p><code>C4:ColorXYtoHSV (x, y, gamut)</code></p>

<h3 id='light-v2-conversion-commands-colorxytohsv-parameters'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the x component of a CIE-1931 xy chromaticity.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the y component of a CIE-1931 xy chromaticity.</td>
</tr>
<tr>
<td>str</td>
<td>(Optional) Gamut used for conversion. Valid options are: &quot;srgb&quot; where the srgb primaries and whitepoint values are automatically used without requiring the primaries and whitepoint parameters being set. &quot;rec2020&quot; where where the rec2020 primaries and whitepoint values are automatically used without requiring the primaries and whitepoint parameters being set. “custom” where primaries and whitepoint values can be specified.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorxytohsv-returns'>Returns</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the hue component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the saturation component of HSV.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the value component of HSV.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorxytohsv-examples'>Examples</h3><div class="highlight"><pre class="highlight xml tab-xml"><code>—Using three rgb params:—
C4:ColorXYtoHSV(0, 100, 100)
—Since no scale param is supported, the default of "255" is used for the scale value param.—

— Using srgb primaries and whitepoint: —
C4:ColorXYtoHSV(0, 100, 100, \"srgb\")
—Since no scale param is supported, the default of "255" is used for the scale value param.—

— Using rec2020 primaries and whitepoint: —
C4:ColorXYtoHSV(0, 100, 100, \"rec2020\")
—Since no scale param is supported, the default of "255" is used for the scale value param.—

— Using custom gamut where custom primaries and the 'default' d65 whitepoint is used: —
C4:ColorXYtoHSV(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\")

—Using custom gamut with both custom primaries and custom whitepoint is specified:—
C4:ColorXYtoHSV(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\", \"0.31271, 0.32902\")

—Using Rob params but specifying a custom rgb scale. Scale is 0.0 to 1.0 where 1.0 is full brightness: —
C4:ColorXYtoHSV(0, 100, 100, 1)

— Scale is 0.0 to 100 where 100 is full brightness: —
C4:ColorXYtoHSV(0, 100, 100, 100)

— Scale is 0.0 to 255 where 255 is full brightness: —
C4:ColorXYtoHSV(0, 100, 100, 255)

— Using srgb primaries <span class="err">&amp;</span> whitepoint: —
C4:ColorXYtoHSV(0, 100, 100, 255, \"srgb\")

— Using rec2020 primaries/whitepoint: —
C4:ColorXYtoHSV(0, 100, 100, 255, \"rec2020\")

— Custom gamut where custom primaries and the 'default' d65 whitepoint is used: —
C4:ColorXYtoHSV(0, 100, 100, 255, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\")

— Custom gamut with both custom primaries and custom whitepoint is specified: —
C4:ColorXYtoHSV(0, 100, 100, \"custom\", \"0.7,0.25,0.25,0.75,0.1,0.5\", \"0.31271, 0.32902\"
</code></pre></div>
<h2 id='light-v2-conversion-commands-colorxytorgb'>ColorXYtoRGB</h2>
<p>This function converts a CIE-1931 xy chromaticity to the RGB color space. Note, there&#39;s no need for a driver developer to specify whitepoint and primaries if usinh srgb or rec2020 for the gamut parameter as described below.</p>

<p><em>This function was released in conjunction with O.S. 3.3.0.</em></p>
<h3 id='light-v2-conversion-commands-colorxytorgb-signature'>Signature</h3>

<p><code>C4:ColorXYtoRGB (x, y, rgbScale, gamut)</code></p>

<h3 id='light-v2-conversion-commands-colorxytorgb-parameters'>Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the x component of a CIE-1931 xy chromaticity.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the x component of a CIE-1931 xy chromaticity.</td>
</tr>
<tr>
<td>num</td>
<td>(Optional) Number representing RGB scale (1 to 255). The default value is 255.</td>
</tr>
<tr>
<td>str</td>
<td>(Optional) Gamut used for conversion. Valid options are: &quot;srgb&quot; where the srgb primaries and whitepoint values are automatically used without requiring the primaries and whitepoint parameters being set. &quot;rec2020&quot; where where the rec2020 primaries and whitepoint values are automatically used without requiring the primaries and whitepoint parameters being set. “custom” where primaries and whitepoint values can be specified.</td>
</tr>
</tbody></table>

<h3 id='light-v2-conversion-commands-colorxytorgb-returns'>Returns</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num</td>
<td>Number representing the red component of RGB in given scale.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the green component of RGB in given scale.</td>
</tr>
<tr>
<td>num</td>
<td>Number representing the blue component of RGB in given scale.</td>
</tr>
</tbody></table>

<p><h3 id='light-v2-conversion-commands-colorxytorgb-examples'>Examples</h3><div class="highlight"><pre class="highlight xml tab-xml"><code>—Using three rgb params:—
C4:ColorXYtoRGB(0, 100, 100)
—Since no scale param is specified the default of &quot;255&quot; is used for the scale value param.—</p>

<p>— Using srgb primaries and whitepoint: —
C4:ColorXYtoRGB(0, 100, 100, \&quot;srgb\&quot;)
—Since no scale param is specified the default of &quot;255&quot; is used for the scale value param.—</p>

<p>— Using rec2020 primaries and whitepoint: —
C4:ColorXYtoRGB(0, 100, 100, \&quot;rec2020\&quot;)
—Since no scale param is specified the default of &quot;255&quot; is used for the scale value param.—</p>

<p>— Using custom gamut where custom primaries and the &#39;default&#39; d65 whitepoint is used: —
C4:ColorXYtoRGB(0, 100, 100, \&quot;custom\&quot;, \&quot;0.7,0.25,0.25,0.75,0.1,0.5\&quot;)</p>

<p>—Using custom gamut with both custom primaries and custom whitepoint is specified:—
C4:ColorXYtoRGB(0, 100, 100, \&quot;custom\&quot;, \&quot;0.7,0.25,0.25,0.75,0.1,0.5\&quot;, \&quot;0.31271, 0.32902\&quot;)</p>

<p>—Using Rob params but specifying a custom rgb scale. Scale is 0.0 to 1.0 where 1.0 is full brightness: —
C4:ColorXYtoRGB(0, 100, 100, 1)</p>

<p>— Scale is 0.0 to 100 where 100 is full brightness: —
C4:ColorXYtoHSV(0, 100, 100, 100)</p>

<p>— Scale is 0.0 to 255 where 255 is full brightness: —
C4:ColorXYtoRGB(0, 100, 100, 255)</p>

<p>— Using srgb primaries <span class="err">&amp;</span> whitepoint: —
C4:ColorXYtoRGB(0, 100, 100, 255, \&quot;srgb\&quot;)</p>

<p>— Using rec2020 primaries/whitepoint: —
C4:ColorXYtoRGB(0, 100, 100, 255, \&quot;rec2020\&quot;)</p>

<p>— Custom gamut where custom primaries and the &#39;default&#39; d65 whitepoint is used: —
C4:ColorXYtoRGB(0, 100, 100, 255, \&quot;custom\&quot;, \&quot;0.7,0.25,0.25,0.75,0.1,0.5\&quot;)</p>

<p>— Custom gamut with both custom primaries and custom whitepoint is specified: —
C4:ColorXYtoRGB(0, 100, 100, \&quot;custom\&quot;, \&quot;0.7,0.25,0.25,0.75,0.1,0.5\&quot;, \&quot;0.31271, 0.32902\&quot;
</code></pre></div></p>
<h1 id='light-v2-conditionals'>Light V2 Conditionals</h1>

<p>The following Conditionals are used for Composer Programming to perform logic comparisons of Variables.  This functionality is managed by the Proxy and Director.</p>

<p><code>IS_BRIGHTNESS</code></p>

<p>Double. Percent check of the current brightness.</p>

<p><code>IS_BRIGHTNESS_TARGET</code></p>

<p>Double. Percent check of the target brightness.</p>

<p><code>IS_COLOR</code></p>

<p>Boolean. If the color of the light matches the color. </p>

<p><code>IS_COLOR_TARGET</code></p>

<p>Boolean. If the color of the light does not match the color.</p>

<p><code>IS_ON</code></p>

<p>Boolean. If the light is on at any level.</p>

<p><code>IS_OFF</code></p>

<p>Boolean.  If the light is at the &quot;Off&quot; preset.</p>

<p><code>BTN_PRESSED</code></p>

<p>Boolean. If the button is currently being pressed.  </p>

<p><code>BTN_RELEASED</code></p>

<p>Boolean.  If the button is not currently being pressed.</p>

<p><code>BTN_COLOR</code></p>

<p>Boolean. If the buttons led color matches a hex string.</p>

<p><code>BTN_NOT_COLOR</code></p>

<p>Boolean. If the buttons led color does not match a hex string.</p>
<h1 id='light-v2-commands'>Light V2 Commands</h1>

<p>This section lists the Commands (Bound Call, aka SendToDevice in Lua) that the Light V2 proxy supports.  These are for use by Navigators, Composer Programming and other services like Voice Control.  The thing to remember with proxies is that many of the commands are passed on to the protocol, and it is the protocol drivers responsibility to ripple the commands result back up to the proxy using a &#39;Notify&#39; command. This allows the protocol to optionally make slight adjustments to commands for its unique driver or hardware, and then inform the proxy of the change.</p>

<h2 id='light-v2-commands-button_action'>BUTTON_ACTION</h2>

<p>Used to perform a button action on the device via BUTTON_LINK bindings. This is useful if you want to do user dependent hold/release functionality in a driver or hardware. Proxy will create and maintain the consumer binding connections for TOP, BOTTOM and TOGGLE lightV2 buttons and their BUTTON_LINK bindings. When the proxy gets a BUTTON_ACTION command over one of the three binding connections, it will forward the command to the driver. The driver needs to send a BUTTON_ACTION Notify back to the proxy with the same BUTTON_ID and ACTION params and values so the proxy knows the command was successful and that the driver or hardware is tracking that the button is currently in a Pressed state. _</p>

<p>If a driver does not do send the Notify that a button is Pressed to the proxy, an additional (second) Press command will be auto-generated by the proxy and sent to the driver if the proxy receives a Click and has not been notified that the drivers button is in a Pressed state.</p>

<h3 id='light-v2-commands-button_action-name'>Name</h3>

<p><code>BUTTON_ACTION ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>NUM</td>
<td style="text-align: left">ID for the button:</td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align: left">0 - Top</td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align: left">1 - Bottom</td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align: left">2 - Toggle</td>
</tr>
<tr>
<td>ACTION</td>
<td>NUM</td>
<td style="text-align: left">ACTION :</td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align: left">0 - RELEASE (HOLD)</td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align: left">1 - PRESS</td>
</tr>
<tr>
<td></td>
<td></td>
<td style="text-align: left">2 - RELEASE (CLICK)</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-button_action-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-dynamic_off'>DYNAMIC_OFF</h2>

<p>Support UIs with an off command to match up with the DYNAMIC_ON
Beginning with O.S. 3.3.2, Navigators now execute DYNAMIC ON when a light is turned on/off. If a driver does not support Dynamic On, the On brightness preset will be executed, as in O.S 3.3.1 and prior releases.</p>

<h3 id='light-v2-commands-dynamic_off-name'>Name</h3>

<p><code>DYNAMIC_OFF () </code></p>

<h3 id='light-v2-commands-dynamic_off-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='light-v2-commands-dynamic_off-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-dynamic_on'>DYNAMIC_ON</h2>

<p>This command allows UI&#39;s and programming to &quot;turn on&quot; a light involving both brightness and color in a single command. Beginning with O.S. 3.3.2, Navigators now execute DYNAMIC ON when a light is turned on/off. If a driver does not support Dynamic On, the On brightness preset will be executed, as in O.S 3.3.1 and prior releases.</p>

<h3 id='light-v2-commands-dynamic_on-name'>Name</h3>

<p><code>DYNAMIC_ON () </code></p>

<h3 id='light-v2-commands-dynamic_on-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='light-v2-commands-dynamic_on-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-delete_driver_-color_-preset'>DELETE_DRIVER_ COLOR_ PRESET</h2>

<p>Used to remove a driver configured color preset.  The PRESET_ID must be a valid preset, or the request will fail and return an error.</p>

<h3 id='light-v2-commands-delete_driver_-color_-preset-name'>Name</h3>

<p><code>DELETE_DRIVER_COLOR_PRESET () </code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET ID</td>
<td>NUM</td>
<td>Set to the ID of the preset to be removed.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-delete_driver_-color_-preset-returns'>Returns</h3>

<p>On return, &quot;deleteResult&quot; will contain an XML string that indicates a success or failure state.   If the XML indicates failure, a failure message will be included.</p>

<p>Sample success message:  </p>

<p><code>&lt;return_data&gt;&lt;success&gt;true&lt;/success&gt;&lt;/return_data&gt;</code></p>

<p>Sample failure message: </p>

<p><code>&lt;return_data&gt;&lt;success&gt;false&lt;/success&gt;&lt;reason&gt;Not found&lt;/reason&gt;&lt;/return_data&gt;</code></p>

<h3 id='light-v2-commands-delete_driver_-color_-preset-example'>Example</h3>

<p>The example code to the right will remove a Preset with an ID of 3.</p>

<div class="highlight"><pre class="highlight lua tab-lua"><code><span class="kd">local</span> <span class="n">deleteResult</span> <span class="o">=</span> <span class="n">C4</span><span class="p">:</span><span class="n">SendUIRequest</span><span class="p">(</span><span class="n">proxyDeviceId</span><span class="p">,</span> <span class="s2">"DELETE_DRIVER_COLOR_PRESET"</span><span class="p">,</span> <span class="p">{</span> <span class="n">PRESET_ID</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">}</span> <span class="p">)</span>
</code></pre></div>

<h2 id='light-v2-commands-set_brightness_target'>SET_BRIGHTNESS_TARGET</h2>

<p>Used to set the target brightness of where the light is being requested to go. Parameters are determined by the enabling/disabling of the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-capabilities-supports_target">supports_target</a> capability. See below for more information.</p>

<h3 id='light-v2-commands-set_brightness_target-name'>Name</h3>

<p><code>SET_BRIGHTNESS_TARGET ()</code></p>

<p><em>If the supports_target capability is enabled or color is used:</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LIGHT BRIGHTNESS TARGET</td>
<td>FLOAT</td>
<td>Value as defined from drivers Min and Max brightness capabilities as set by the driver. If the brightness resolution capability is set to 10, .5, .01, and so on, the proxy will ensure the value sent to the driver meets the resolution/step capability.  If no resolution is set, the value of 1 is used for stepping.</td>
</tr>
<tr>
<td>RATE</td>
<td>UINT</td>
<td>Milliseconds for the ramp duration.  This is guaranteed to be between the Min and Max rate if the driver sets these.</td>
</tr>
</tbody></table>

<p>Note: If a driver supports On Modes, it should track the following parameters: LIGHT_BRIGHTNESS_TARGET_PRESET_ID - The ID of the preset to trigger.</p>

<p><em>If the supports_target capability is disabled in instances such as pre- O.S. 3.3.0 for backward compatibility of older drivers:</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LEVEL</td>
<td>INT</td>
<td>LEVEL : from 0-100.</td>
</tr>
<tr>
<td>LEVEL</td>
<td>INT</td>
<td>TIME: Milliseconds for the ramp.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_brightness_target-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_cold_start_level'>SET_COLD_START_LEVEL</h2>

<p>Used to set the cold start level for the device for drivers that support hardware based Cold Start behavior.</p>

<h3 id='light-v2-commands-set_cold_start_level-name'>Name</h3>

<p><code>SET_COLD_START_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LEVEL</td>
<td>INT</td>
<td>LEVEL: 0 - 100</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_cold_start_level-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_cold_start_time'>SET_COLD_START_TIME</h2>

<p>Used to set the cold start level for the device for drivers that support hardware based Cold Start behavior.</p>

<h3 id='light-v2-commands-set_cold_start_time-name'>Name</h3>

<p><code>SET_COLD_START_TIME ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TIME</td>
<td>INT</td>
<td>TIME in milliseconds</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_cold_start_time-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_max_on_level'>SET_MAX_ON_LEVEL</h2>

<p>Used to set the maximum on level for the device </p>

<h3 id='light-v2-commands-set_max_on_level-name'>Name</h3>

<p><code>SET_MIN_ON_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LEVEL</td>
<td>INT</td>
<td>LEVEL: 0 - 100</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_max_on_level-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_min_on_level'>SET_MIN_ON_LEVEL</h2>

<p>Used to set the minimum on level for the device </p>

<h3 id='light-v2-commands-set_min_on_level-name'>Name</h3>

<p><code>SET_MIN_ON_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LEVEL</td>
<td>INT</td>
<td>LEVEL: 0 - 100</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_min_on_level-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_preset_level'>SET_PRESET_LEVEL</h2>

<p>Used to set brightness of the &quot;On&quot; Preset that is used when a user clicks the Top button of a light.</p>

<h3 id='light-v2-commands-set_preset_level-name'>Name</h3>

<p><code>SET_PRESET_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LEVEL</td>
<td>LINT</td>
<td>LEVEL: 0 - 100</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_preset_level-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-toggle'>TOGGLE</h2>

<p>Used to toggle the light.  If it is a dimmer and it is off, toggling will activate the &quot;On&quot; preset. Should only be used in Composer Programming when the current brightness of the light does not matter nor does the brightness level it will go to matter as delays of brightness reporting to the proxy or network issues will result in unreliable final brightness.  If final brightness is important, then the On or Off presets should be specifically referenced in the SET_BRIGHTNESS_TARGET command.</p>

<h3 id='light-v2-commands-toggle-name'>Name</h3>

<p><code>TOGGLE ()</code></p>

<h3 id='light-v2-commands-toggle-parameter'>Parameter</h3>

<p><code>None</code></p>

<h3 id='light-v2-commands-toggle-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_click_rate_down'>SET_CLICK_RATE_DOWN</h2>

<p>Used to set the click rate down for the device.</p>

<h3 id='light-v2-commands-set_click_rate_down-name'>Name</h3>

<p><code>SET_CLICK_RATE_DOWN ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>RATE in milliseconds</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_click_rate_down-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_click_rate_up'>SET_CLICK_RATE_UP</h2>

<p>Used to set the click rate up for the device.</p>

<h3 id='light-v2-commands-set_click_rate_up-name'>Name</h3>

<p><code>SET_CLICK_RATE_UP ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>RATE in milliseconds</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_click_rate_up-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_color_on_mode'>SET_COLOR_ON_MODE</h2>

<p>Sets the on mode color.</p>

<h3 id='light-v2-commands-set_color_on_mode-name'>Name</h3>

<p><code>SET_COLOR_ON_MODE ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET ID</td>
<td>INT</td>
<td>PRESET  ID that a light should turn on to.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_color_on_mode-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_color_stop'>SET_COLOR_STOP</h2>

<p>Stops a ramp of color if in progress.  Requires the capability supports_color_stop.</p>

<h3 id='light-v2-commands-set_color_stop-name'>Name</h3>

<p><code>SET_COLOR_STOP ()</code></p>

<h3 id='light-v2-commands-set_color_stop-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='light-v2-commands-set_color_stop-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_color_rate_default'>SET_COLOR_RATE_DEFAULT</h2>

<p>This is used by old(deprecated) generic On/Off commands, Navigators, and user created lighting scenes.</p>

<p>When this value is changed, drivers will receive a protocol driver command of UPDATE_COLOR_RATE_DEFAULT with a parameter RATE of the value.</p>

<h3 id='light-v2-commands-set_color_rate_default-name'>Name</h3>

<p><code>SET_COLOR_RATE_DEFAULT ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LIGHT COLOR RATE DEFAULT.</td>
<td>INT</td>
<td>Default rate that will be used if no rate is specified.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_color_rate_default-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_color_stop'>SET_COLOR_STOP</h2>

<p>Used to tell a driver to stop changing its color.</p>

<h3 id='light-v2-commands-set_color_stop-name'>Name</h3>

<p><code>SET_COLOR_STOP ()</code></p>

<h3 id='light-v2-commands-set_color_stop-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='light-v2-commands-set_color_stop-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_color_target'>SET_COLOR_TARGET</h2>

<p>Sent to drivers to change the light color. Once drivers begin to change color, they should send a <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-protocol-notifications-light_color_changing">LIGHT_COLOR_CHANGING</a> Notify. Once the color has finished changing it should send a <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-protocol-notifications-light_color_changed">LIGHT_COLOR_CHANGED</a> Notify. Parameters are determined by the implementation On Mode functionality. See below for more information.</p>

<h3 id='light-v2-commands-set_color_target-name'>Name</h3>

<p><code>SET_COLOR_TARGET()</code></p>

<p><em>If a driver implements On Mode functionality:</em></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LIGHT COLOR TARGET PRESET ID</td>
<td>INT</td>
<td>The ID of the preset to trigger. This must be sent with the LIGHT COLOR TARGET PRESET ORIGIN parameter.</td>
</tr>
<tr>
<td>LIGHT\COLOR TARGET RESET ORIGIN</td>
<td>NUM</td>
<td>The origin of the preset to trigger.  1 = Device specific preset.   2 = Color Agent preset.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_color_target-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_hold_rate_up'>SET_HOLD_RATE_UP</h2>

<p>Used to set the hold rate up for the device.</p>

<h3 id='light-v2-commands-set_hold_rate_up-name'>Name</h3>

<p><code>SET_HOLD_RATE_UP ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>RATE in milliseconds</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_hold_rate_up-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_hold_rate_down'>SET_HOLD_RATE_DOWN</h2>

<p>Used to set the hold rate down for the device.</p>

<h3 id='light-v2-commands-set_hold_rate_down-name'>Name</h3>

<p><code>SET_HOLD_RATE_DOWN ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>RATE in milliseconds</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_hold_rate_down-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_button_color'>SET_BUTTON_COLOR</h2>

<p>Used to set the color for a particular button for when the light is on/off</p>

<h3 id='light-v2-commands-set_button_color-name'>Name</h3>

<p><code>SET_BUTTON_COLOR ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>Number</td>
<td>NUM</td>
<td style="text-align: left">BUTTON ID</td>
</tr>
<tr>
<td>ON COLOR</td>
<td>hex STR</td>
<td style="text-align: left">Optional. 6 character hex string, representing an RGB value.</td>
</tr>
<tr>
<td>OFF COLOR</td>
<td>hex STR</td>
<td style="text-align: left">Optional. 6 character hex string, representing an RGB value.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_button_color-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_all_led'>SET_ALL_LED</h2>

<p>Used to set the LED color of all the buttons on the device to one color (both on/off colors).</p>

<h3 id='light-v2-commands-set_all_led-name'>Name</h3>

<p><code>SET_ALL_LED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COLOR</td>
<td>hex STR</td>
<td>COLOR: 6 character hex string, representing an RGB value.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_all_led-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-join_group'>JOIN_GROUP</h2>

<p>Received when the driver is added to a Load Group.</p>

<h3 id='light-v2-commands-join_group-name'>Name</h3>

<p><code>JOIN_GROUP ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GROUP ID</td>
<td>STR</td>
<td>Device ID of the Load Group driver</td>
</tr>
<tr>
<td>KEEP SYNC</td>
<td>STR</td>
<td>1 for True and 0 for False</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-join_group-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-leave_group'>LEAVE_GROUP</h2>

<p>Received when Load Group driver pop the light driver from the group.</p>

<h3 id='light-v2-commands-leave_group-name'>Name</h3>

<p><code>LEAVE_GROUP</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GROUP ID</td>
<td>STR</td>
<td>GROUP ID Driver ID of the Load Group</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-leave_group-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-modify_driver_color_preset'>MODIFY_DRIVER_COLOR_PRESET</h2>

<p>Used to modify an existing driver specific color preset.   The PRESET_ID is required, and other parameters may be required depending on what you are using the call for.   The guidelines for which parameters are required are defined below in the parameter section.</p>

<h3 id='light-v2-commands-modify_driver_color_preset-name'>Name</h3>

<p><code>MODIFY_DRIVER_COLOR_PRESET () </code></p>

<h3 id='light-v2-commands-modify_driver_color_preset-parameter-guidelines'>Parameter Guidelines</h3>

<p>If the preset name is being changed, the PRESET_NAME parameter is required, otherwise it is optional.  When the preset name is the only thing being changed, no color information is required.</p>

<p>If the color is being set using hue and saturation, the PRESET_COLOR_HUE, PRESET_COLOR_SATURATION, and PRESET_COLOR_MODE are all required.</p>

<p>If the color is being set using XY, the PRESET_COLOR_X, PRESET_COLOR_Y, and PRESET_COLOR_MODE are all required.</p>

<p>If the color temperature is being set, only the PRESET_COLOR_CORRELATED_TEMPERATURE is required.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET ID</td>
<td>The ID of the existing preset that will be modified.</td>
</tr>
<tr>
<td>PRESET NAME</td>
<td>Optional. The name to give to the preset that is being modified.</td>
</tr>
<tr>
<td>PRESET COLOR CORRELATED TEMPERATURE</td>
<td>Optional. The color temperature, in Kelvin, that the preset should be set to.   If this parameter is used, the PRESET COLOR MODE will be set to 1 (CCT), and the PRESET COLOR MODE parameter does not need to be set.</td>
</tr>
<tr>
<td>Color Set 1</td>
<td>Requires 2+ parameters. PRESET COLOR X - The color x coordinate to be used in this preset. PRESET COLOR Y - The color y coordinate to be used in this preset. PRESET COLOR MODE - Optional. The color mode used by this preset.  0 = Full Color, 1 = CCT. Previous color mode is preserved if this parameter is not specified.</td>
</tr>
<tr>
<td>Color Set 2</td>
<td>Requires 2 parameters. This method is highly discouraged as it is confined to the  sRGB gamut and thus can&#39;t achieve many colors that typical color lights support. PRESET COLOR HUE - The hue to use for this preset.  Range of 0 through 359 degrees. PRESET COLOR SATURATION - The saturation to use for this preset.  Range of 0 to 100.  Either hue and saturation or XY must be used.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-modify_driver_color_preset-returns'>Returns</h3>

<p>On return, the &quot;modifyResult&quot; value will contain an XML string that indicates if the modification was successful, or not. If the XML indicates failure, a failure message will be included.</p>

<p>Sample success message:
<code>&lt;return_data&gt;&lt;success&gt;true&lt;/success&gt;&lt;/return_data&gt;</code></p>

<p>Sample failure message: 
<code>&lt;return_data&gt;&lt;success&gt;false&lt;/success&gt;&lt;reason&gt;Not found&lt;/reason&gt;&lt;/return_data&gt;</code></p>

<h3 id='light-v2-commands-modify_driver_color_preset-example'>Example</h3>

<p>The example code to the right will modify a Color Preset with an ID of 3. </p>

<div class="highlight"><pre class="highlight lua tab-lua"><code><span class="kd">local</span> <span class="n">tParams</span> <span class="o">=</span> <span class="p">{</span><span class="n">PRESET_ID</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">PRESET_NAME</span><span class="o">=</span><span class="s2">"Modified Driver Color Preset"</span><span class="p">,</span> <span class="n">PRESET_COLOR_X</span><span class="o">=</span><span class="mi">0</span><span class="p">.</span><span class="mi">1550</span><span class="p">,</span> <span class="n">PRESET_COLOR_Y</span><span class="o">=</span><span class="mi">0</span><span class="p">.</span><span class="mi">0822</span><span class="p">,</span> <span class="n">PRESET_COLOR_MODE</span><span class="o">=</span><span class="mi">0</span><span class="p">}</span>

<span class="kd">local</span> <span class="n">modifyResult</span> <span class="o">=</span> <span class="n">C4</span><span class="p">:</span><span class="n">SendUIRequest</span><span class="p">(</span><span class="n">proxyDeviceId</span><span class="p">,</span> <span class="s2">"MODIFY_DRIVER_COLOR_PRESET"</span><span class="p">,</span> <span class="n">tParams</span><span class="p">)</span>
</code></pre></div>

<h2 id='light-v2-commands-set_group_sync'>SET_GROUP_SYNC</h2>

<p>Received when Keep loads in sync property is changed. In case of checking the Keep loads in sync, <code>GROUP_SET_LEVEL</code> will be sent right before <code>SET_GROUP_SYNC</code>.</p>

<h3 id='light-v2-commands-set_group_sync-name'>Name</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GROUP ID</td>
<td>STR</td>
<td>Driver ID of the Load Group driver</td>
</tr>
<tr>
<td>KEEP SYNC</td>
<td>STR</td>
<td>0 for False and 1 for True</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_group_sync-received'>Received</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-get_setup'>GET_SETUP</h2>

<p>Command used to get the configuration of the device.  It immediately returns a block of XML information to the caller. GET_SETUP is usually called just once by a UI entity to know how to setup the UI. This would report all capabilities that are in a driver as well as other proxy information including how many settings the device has and what the name of those settings are.</p>

<h3 id='light-v2-commands-get_setup-name'>Name</h3>

<p><code>GET_SETUP ()</code></p>

<h3 id='light-v2-commands-get_setup-parameters'>Parameters</h3>

<p>None</p>

<h3 id='light-v2-commands-get_setup-returns'>Returns</h3>

<p>See example</p>

<h3 id='light-v2-commands-get_setup-example'>Example</h3><div class="highlight"><pre class="highlight xml tab-xml"><code>Example of current XML with color support enabled:

<span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;setup&gt;</span>
   <span class="nt">&lt;ONLINE_CHANGED&gt;</span>True<span class="nt">&lt;/ONLINE_CHANGED&gt;</span>
   <span class="nt">&lt;MIN_ON_LEVEL&gt;</span>1<span class="nt">&lt;/MIN_ON_LEVEL&gt;</span>
   <span class="nt">&lt;MAX_ON_LEVEL&gt;</span>100<span class="nt">&lt;/MAX_ON_LEVEL&gt;</span>
   <span class="nt">&lt;COLD_START_LEVEL&gt;</span>1<span class="nt">&lt;/COLD_START_LEVEL&gt;</span>
   <span class="nt">&lt;COLD_START_TIME&gt;</span>0<span class="nt">&lt;/COLD_START_TIME&gt;</span>
   <span class="nt">&lt;CLICK_RATE_MIN&gt;</span>250<span class="nt">&lt;/CLICK_RATE_MIN&gt;</span>
   <span class="nt">&lt;CLICK_RATE_MAX&gt;</span>86400000<span class="nt">&lt;/CLICK_RATE_MAX&gt;</span>
   <span class="nt">&lt;HOLD_RATE_MIN&gt;</span>1000<span class="nt">&lt;/HOLD_RATE_MIN&gt;</span>
   <span class="nt">&lt;HOLD_RATE_MAX&gt;</span>86400000<span class="nt">&lt;/HOLD_RATE_MAX&gt;</span>
   <span class="nt">&lt;NUMBER_BUTTONS&gt;</span>3<span class="nt">&lt;/NUMBER_BUTTONS&gt;</span>
   <span class="nt">&lt;BUTTON_LIST_INFO&gt;</span>
      <span class="nt">&lt;BUTTON_INFO&gt;</span>
         <span class="nt">&lt;NAME&gt;</span>Top<span class="nt">&lt;/NAME&gt;</span>
         <span class="nt">&lt;BUTTON_ID&gt;</span>0<span class="nt">&lt;/BUTTON_ID&gt;</span>
         <span class="nt">&lt;ON_COLOR&gt;</span>0000ff<span class="nt">&lt;/ON_COLOR&gt;</span>
         <span class="nt">&lt;OFF_COLOR&gt;</span>000000<span class="nt">&lt;/OFF_COLOR&gt;</span>
      <span class="nt">&lt;/BUTTON_INFO&gt;</span>
      <span class="nt">&lt;BUTTON_INFO&gt;</span>
         <span class="nt">&lt;NAME&gt;</span>Bottom<span class="nt">&lt;/NAME&gt;</span>
         <span class="nt">&lt;BUTTON_ID&gt;</span>1<span class="nt">&lt;/BUTTON_ID&gt;</span>
         <span class="nt">&lt;ON_COLOR&gt;</span>000000<span class="nt">&lt;/ON_COLOR&gt;</span>
         <span class="nt">&lt;OFF_COLOR&gt;</span>0000ff<span class="nt">&lt;/OFF_COLOR&gt;</span>
      <span class="nt">&lt;/BUTTON_INFO&gt;</span>
      <span class="nt">&lt;BUTTON_INFO&gt;</span>
         <span class="nt">&lt;NAME&gt;</span>Toggle<span class="nt">&lt;/NAME&gt;</span>
         <span class="nt">&lt;BUTTON_ID&gt;</span>2<span class="nt">&lt;/BUTTON_ID&gt;</span>
         <span class="nt">&lt;ON_COLOR&gt;</span>0000ff<span class="nt">&lt;/ON_COLOR&gt;</span>
         <span class="nt">&lt;OFF_COLOR&gt;</span>000000<span class="nt">&lt;/OFF_COLOR&gt;</span>
      <span class="nt">&lt;/BUTTON_INFO&gt;</span>
   <span class="nt">&lt;/BUTTON_LIST_INFO&gt;</span>
   <span class="nt">&lt;supports_target&gt;</span>True<span class="nt">&lt;/supports_target&gt;</span>
   <span class="nt">&lt;has_extras&gt;</span>True<span class="nt">&lt;/has_extras&gt;</span>
   <span class="nt">&lt;brightnesses</span> <span class="na">minimum=</span><span class="s">"0"</span> <span class="na">maximum=</span><span class="s">"100"</span> <span class="na">resolution=</span><span class="s">"1"</span> <span class="na">unknown=</span><span class="s">"-1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;level</span> <span class="na">name=</span><span class="s">"Off"</span> <span class="na">level_setable=</span><span class="s">"true"</span> <span class="na">rate_setable=</span><span class="s">"true"</span> <span class="na">level=</span><span class="s">"0"</span> <span class="na">levelType=</span><span class="s">"2"</span> <span class="na">buttonLinkBindingId=</span><span class="s">"0"</span> <span class="na">activeColor=</span><span class="s">"0000ff"</span> <span class="na">inactiveColor=</span><span class="s">"000000"</span> <span class="na">activeText=</span><span class="s">"Off Active"</span> <span class="na">inactiveText=</span><span class="s">"Off Not Active"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;level</span> <span class="na">name=</span><span class="s">"On"</span> <span class="na">level_setable=</span><span class="s">"true"</span> <span class="na">rate_setable=</span><span class="s">"true"</span> <span class="na">level=</span><span class="s">"100"</span> <span class="na">levelType=</span><span class="s">"2"</span> <span class="na">buttonLinkBindingId=</span><span class="s">"0"</span> <span class="na">activeColor=</span><span class="s">"0000ff"</span> <span class="na">inactiveColor=</span><span class="s">"000000"</span> <span class="na">activeText=</span><span class="s">"On Active"</span> <span class="na">inactiveText=</span><span class="s">"On Not Active"</span><span class="nt">/&gt;</span>
     <span class="nt">&lt;/brightnesses&gt;</span>
   <span class="nt">&lt;supports_color&gt;</span>True<span class="nt">&lt;/supports_color&gt;</span>
   <span class="nt">&lt;supports_color_correlated_temperature&gt;</span>False<span class="nt">&lt;/supports_color_correlated_temperature&gt;</span>
   <span class="nt">&lt;colors</span> <span class="na">color_correlated_temperature_min=</span><span class="s">"500"</span> <span class="na">color_correlated_temperature_max=</span><span class="s">"20000"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Energize"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">"0,1"</span> <span class="na">color_x=</span><span class="s">"0"</span> <span class="na">color_y=</span><span class="s">"0"</span> <span class="na">color_mode=</span><span class="s">"1"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Relax"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">"0,1"</span> <span class="na">color_x=</span><span class="s">"0"</span> <span class="na">color_y=</span><span class="s">"0"</span> <span class="na">color_mode=</span><span class="s">"1"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Read"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0"</span> <span class="na">color_y=</span><span class="s">"0"</span> <span class="na">color_mode=</span><span class="s">"1"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Sunset"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0"</span> <span class="na">color_y=</span><span class="s">"0"</span> <span class="na">color_mode=</span><span class="s">"1"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Nightlight"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0"</span> <span class="na">color_y=</span><span class="s">"0"</span> <span class="na">color_mode=</span><span class="s">"1"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Red"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0.640074"</span> <span class="na">color_y=</span><span class="s">"0.329971"</span> <span class="na">color_mode=</span><span class="s">"0"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Green"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0.3"</span> <span class="na">color_y=</span><span class="s">"0.6"</span> <span class="na">color_mode=</span><span class="s">"0"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Blue"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0.150017"</span> <span class="na">color_y=</span><span class="s">"0.0600066"</span> <span class="na">color_mode=</span><span class="s">"0"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Yellow"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0.419321"</span> <span class="na">color_y=</span><span class="s">"0.505255"</span> <span class="na">color_mode=</span><span class="s">"0"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Orange"</span> <span class="na">category=</span><span class="s">"2"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0.543608"</span> <span class="na">color_y=</span><span class="s">"0.406568"</span> <span class="na">color_mode=</span><span class="s">"0"</span> <span class="na">color_correlated_temperature=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"Off"</span> <span class="na">category=</span><span class="s">"1"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0.313525"</span> <span class="na">color_y=</span><span class="s">"0.323627"</span> <span class="na">color_mode=</span><span class="s">"1"</span> <span class="na">color_correlated_temperature=</span><span class="s">"6500"</span> <span class="na">buttonLinkBindingId=</span><span class="s">"0"</span> <span class="na">activeColor=</span><span class="s">"0000ff"</span> <span class="na">inactiveColor=</span><span class="s">"000000"</span> <span class="na">activeText=</span><span class="s">"Off"</span> <span class="na">inactiveText=</span><span class="s">"Not Off"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"On"</span> <span class="na">category=</span><span class="s">"1"</span> <span class="na">editable=</span><span class="s">""</span> <span class="na">color_x=</span><span class="s">"0.313525"</span> <span class="na">color_y=</span><span class="s">"0.323627"</span> <span class="na">color_mode=</span><span class="s">"1"</span> <span class="na">color_correlated_temperature=</span><span class="s">"6500"</span> <span class="na">buttonLinkBindingId=</span><span class="s">"0"</span> <span class="na">activeColor=</span><span class="s">"0000ff"</span> <span class="na">inactiveColor=</span><span class="s">"000000"</span> <span class="na">activeText=</span><span class="s">"On"</span> <span class="na">inactiveText=</span><span class="s">"Not On"</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/colors&gt;</span>
<span class="nt">&lt;/setup&gt;</span>
</code></pre></div>
<h2 id='light-v2-commands-group_ramp_to_level'>GROUP_RAMP_TO_LEVEL</h2>
<p>Received when group is ramping to level.</p>
<h3 id='light-v2-commands-group_ramp_to_level-name'>Name</h3>

<p><code>GROUP_RAMP_TO_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GROUP ID</td>
<td>STR</td>
<td>Driver ID of the Load Group</td>
</tr>
<tr>
<td>LEVEL</td>
<td>STR</td>
<td>Level to ramp</td>
</tr>
<tr>
<td>TIME</td>
<td>STR</td>
<td>Time rate for ramping</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-group_ramp_to_level-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_group_level'>SET_GROUP_LEVEL</h2>

<p>Received when group is setting light level.</p>

<h3 id='light-v2-commands-set_group_level-name'>Name</h3>

<p><code>GROUP_SET_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GROUP ID</td>
<td>STR</td>
<td>Driver ID of the Load Group</td>
</tr>
<tr>
<td>LEVEL</td>
<td>STR</td>
<td>Light level to be set on the Light driver</td>
</tr>
</tbody></table>

<p><code>None</code></p>

<h2 id='light-v2-commands-group_start_ramp'>GROUP_START_RAMP</h2>

<p>Received when group start hold ramp operation.</p>

<h3 id='light-v2-commands-group_start_ramp-name'>Name</h3>

<p><code>GROUP_START_RAMP ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GROUP ID</td>
<td>STR</td>
<td>GROUP ID Driver ID of the Load Group</td>
</tr>
<tr>
<td>RAMP UP</td>
<td>STR</td>
<td>RAMP UP Value 1</td>
</tr>
<tr>
<td>RATE</td>
<td>STR</td>
<td>Rate time in ms</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-group_start_ramp-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-group_stop_ramp'>GROUP_STOP_RAMP</h2>

<p>Received when group stop hold ramp.</p>

<h3 id='light-v2-commands-group_stop_ramp-name'>Name</h3>

<p><code>GROUP_STOP_RAMP ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>GROUP ID</td>
<td>STR</td>
<td>Driver ID of the Load Group</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-group_stop_ramp-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-update_brightness_on_mode'>UPDATE_BRIGHTNESS_ON_MODE</h2>

<p>Drivers that set either brightness_on_mode_preset or brightness_on_mode_previous capabilities to true need to handle this command to know how the light should turn on. The proxy will handle Brightness related commands that go through it, but On behaviors that include BUTTON_LINK and other driver commands handled only in the driver should honor the On Mode.</p>

<h3 id='light-v2-commands-update_brightness_on_mode-name'>Name</h3>

<p><code>UPDATE_BRIGHTNESS_ON_MODE ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BRIGHTNESS PRESET ID</td>
<td>INT</td>
<td>Integer. Brightness preset ID that is to be used when the light turns on.</td>
</tr>
<tr>
<td>BRIGHTNESS PRESET LEVEL</td>
<td>DOUBLE</td>
<td>Double. Brightness Preset Level, this is provided as a convenience only as this value is provided for the preset in other proper calls.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-update_brightness_on_mode-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-update_brightness_rate_default'>UPDATE_BRIGHTNESS_RATE_DEFAULT</h2>

<p>This is used by old(deprecated) generic On/Off commands, Navigators, and user created lighting scenes.</p>

<h3 id='light-v2-commands-update_brightness_rate_default-name'>Name</h3>

<p><code>UPDATE_BRIGHTNESS_RATE_DEFAULT ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>Milliseconds for the default rate that is used when a rate of change is not provided.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-update_brightness_rate_default-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-update_brightness_preset'>UPDATE_BRIGHTNESS_PRESET</h2>

<p>The proxy will send a command to the driver when a Preset is changed. Drivers can ignore this command, or could react based on the data provided. </p>

<p>Some options for reacting to the command would be to update keypad load control firmware to turn a light On to the level that the light was turned off from. </p>

<p>Another reaction could be to adjust what light level the light will turn on to, such as interacting with the Daylight Agent.</p>

<h3 id='light-v2-commands-update_brightness_preset-name'>Name</h3>

<p><code>UPDATE_BRIGHTNESS_PRESET ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COMMAND</td>
<td>STR</td>
<td>String. This will be one of the following strings:</td>
</tr>
<tr>
<td></td>
<td></td>
<td>ADDED, MODIFIED, REMOVED.</td>
</tr>
<tr>
<td>ID</td>
<td>NUM</td>
<td>Preset ID</td>
</tr>
<tr>
<td>NAME</td>
<td>STR</td>
<td>Name of the preset.</td>
</tr>
<tr>
<td>LEVEL</td>
<td>DOUBLE</td>
<td>Level for the preset.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-update_brightness_preset-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-update_color_on_mode'>UPDATE_COLOR_ON_MODE</h2>

<p>Drivers that set either color_on_mode_preset, color_on_mode_previous, or color_on_mode_fade capabilities to true need to handle this command to know how the light should turn on. The proxy will handle Color related commands that go through it, but On behaviors that include BUTTON_LINK and other driver commands handled only in the driver should honor the On Mode.</p>

<p>For drivers that support Color Fade on mode, Dynamic On and some other commands will NOT send a SET_COLOR_TARGET. Drivers that are currently in the Color Fade on mode must adjust the color based on the brightness level when only brightness is sent. For more information see the Color Fade On Mode capability documentation.</p>

<h3 id='light-v2-commands-update_color_on_mode-name'>Name</h3>

<p><code>UPDATE_COLOR_ON_MODE ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COLOR PRESET ID</td>
<td>INT</td>
<td>Color preset ID that is to be used when the light turns on.</td>
</tr>
<tr>
<td>COLOR PRESET ORIGIN</td>
<td>INT</td>
<td>Color preset Origin that is to be used when the light turns on. 1 = Device Specific, 2 = Color Agent, 0 = Color fade not enabled.</td>
</tr>
<tr>
<td>COLOR\PRESET COLOR X</td>
<td>DOUBLE</td>
<td>This value is provided as a convenience and is redundant to other ways of getting the color information of the Color Preset.</td>
</tr>
<tr>
<td>COLOR PRESET COLOR Y</td>
<td>DOUBLE</td>
<td>This value is provided as a convenience and is redundant to other ways of getting the color information of the Color Preset.</td>
</tr>
<tr>
<td>COLOR PRESET COLOR MODE</td>
<td></td>
<td>This value is provided as a convenience and is redundant to other ways of getting the color information of the Color Preset.</td>
</tr>
<tr>
<td>COLOR FADE PRESET ID</td>
<td>INT</td>
<td>Color preset ID that is to be used when the light turns on.</td>
</tr>
<tr>
<td>COLOR FADE PRESET ORIGIN</td>
<td>INT</td>
<td>Color preset Origin that is to be used when the light turns on. 0 = Device Specific, 1 = Color Agent.</td>
</tr>
<tr>
<td>COLOR FADE PRESET COLOR X</td>
<td>DOUBLE</td>
<td>This value is provided as a convenience only and is secondary to other ways of getting the color information of the Fade Color Preset.</td>
</tr>
<tr>
<td>COLOR FADE PRESET COLOR Y</td>
<td>DOUBLE</td>
<td>DThis value is provided as a convenience only and is secondary to other ways of getting the color information of the Fade Color Preset.</td>
</tr>
<tr>
<td>COLOR FADE PRESET COLOR MODE</td>
<td></td>
<td>This value is provided as a convenience only and is secondary to other ways of getting the color information of the Fade Color Preset.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-update_color_on_mode-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-update_color_rate_default'>UPDATE_COLOR_RATE_DEFAULT</h2>

<p>This is used by old(deprecated) generic On/Off commands, Navigators, and user created lighting scenes.</p>

<h3 id='light-v2-commands-update_color_rate_default-name'>Name</h3>

<p><code>UPDATE_COLOR_RATE_DEFAULT ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>Milliseconds for the default rate that is used when a rate of change is not provided.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-update_color_rate_default-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-update_brightness_preset'>UPDATE_BRIGHTNESS_PRESET</h2>

<p>The proxy will send a command to the driver when a Preset is changed. Drivers can ignore this command, or could react based on the data provided. </p>

<p>Some options for reacting to the command would be to update keypad load control firmware to turn a light On to the level that the light was turned off from. Another reaction could be to adjust what light level the light will turn on to, such as interacting with the Daylight Agent</p>

<h3 id='light-v2-commands-update_brightness_preset-name'>Name</h3>

<p><code>UPDATE_BRIGHTNESS_PRESET ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COMMAND</td>
<td>STR</td>
<td>COMMAND: This will be one of the following strings: ADDED MODIFIED REMOVED.</td>
</tr>
<tr>
<td>PRESET ID</td>
<td>NUM</td>
<td>Preset ID</td>
</tr>
<tr>
<td>NAME</td>
<td>STR</td>
<td>NAME: Name of the preset</td>
</tr>
<tr>
<td>LEVEL</td>
<td>DOUBLE</td>
<td>LEVEL: Level for the preset</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-update_brightness_preset-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-update_color_preset'>UPDATE_COLOR_PRESET</h2>

<p>Having a mandatory On color preset for all colored lights, this provides dealers a way of configuring various brands and models of lights in a manner that a customer can have a consistent &#39;default on&#39; color behavior for the lights in their homes. Without this feature, it&#39;s almost certain that different brands and models of lights would turn on to different colors or color temperatures.</p>

<p>In addition to the On color preset, having a mandatory Dim color preset for all colored lights provides dealers a way of configuring various brands and models of lights in a way that a customer can have a consistent &#39;warm dim&#39; color behavior for the lights in their homes.</p>

<p>The &#39;On&#39; color preset is the color that a light should generate at it&#39;s &#39;Default On Brightness&#39; level.</p>

<p>The &#39;Dim&#39; color preset is the color that a light should generate at 1% brightness. </p>

<p>For example, lets assume a lights Default On Brightness is set to 80%, the On preset color is 4000CCT, and the Dim preset color is 2000CCT. If the light was then set to a brightness level of 40%, the lights color would be 3000CCT. Also, if the lights brightness is set to 80% or higher, the color would always be 4000CCT. </p>

<p>This formula would be used when a light is turned on (from off level) via a SET_BRIGHTNESS_TARGET and if no SET_COLOR_TARGET is additionally used. Any further time that SET_BRIGHTNESS_TARGET is used, the driver should use the formula to calculate the new color and also set that color when the brightness is changed via SET_BRIGHTNESS_TARGET. </p>

<p>If a SET_COLOR_TARGET command is used, after the light has been turned on, then the formula for warm-dim functionality should no longer occur, and the color should not be auto-adjusted until the light is turned off and back on again.</p>

<p>When all drivers follow this formula, there will be consistent On and Warm Dim lighting experiences for customers.</p>

<p>Beginning with 3.3.0, the LightV2 proxy &#39;Dim&#39; and &#39;On&#39; color presets can be changed in Composer and Navigator. Composer currently has a checkbox to &#39;enable&#39; the Dim color. Although this checkbox is not an &#39;enable dim color&#39; feature, it is a &#39;hide the dim color preset in Composer&#39; feature. </p>

<p>The intention of this checkbox was to help reduce dealer confusion, but it added potential driver developer confusion. Upon &#39;disabling&#39; the Dim color, Composer is just setting the Dim preset color to the On preset color. The LightV2 proxy always has an On and Dim preset defined, regardless of the checkbox in Composer being checked or unchecked. If Drivers want to know if this checkbox is &#39;checked&#39; there isn&#39;t a 100% safe way to know. However, drivers could consider it potentially checked if the Dim and On preset colors are not the same color</p>

<h3 id='light-v2-commands-update_color_preset-name'>Name</h3>

<p><code>UPDATE_COLOR_PRESET ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>COMMAND</td>
<td>STR</td>
<td>This will be one of the following strings:</td>
</tr>
<tr>
<td></td>
<td></td>
<td>ADDED, MODIFIED, REMOVED.</td>
</tr>
<tr>
<td>ID</td>
<td>NUM</td>
<td>Preset ID.</td>
</tr>
<tr>
<td>NAME</td>
<td>STR</td>
<td>Name of the preset.</td>
</tr>
<tr>
<td>COLOR X</td>
<td>DOUBLE</td>
<td>CIE 1931 Chromaticity Color.</td>
</tr>
<tr>
<td>COLOR Y</td>
<td>DOUBLE</td>
<td>CIE 1931 Chromaticity Color.</td>
</tr>
<tr>
<td>COLOR MODE</td>
<td>UInt</td>
<td>Color Mode (0 Full Color, 1 CCT)</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-update_color_preset-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_brightness_on_mode'>SET_BRIGHTNESS_ON_MODE</h2>

<p>Older drivers that used &quot;Default On&quot; a.k.a: “PRESET_LEVEL&quot;  will notice that the &quot;On&quot; preset holds this value.</p>

<h3 id='light-v2-commands-set_brightness_on_mode-name'>Name</h3>

<p><code>SET_BRIGHTNESS_ON_MODE ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET ID</td>
<td>INT</td>
<td>Preset ID that a light should turn on to.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_brightness_on_mode-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_brightness_rate_default'>SET_BRIGHTNESS_RATE_DEFAULT</h2>

<p>This is used by old(deprecated) generic On/Off commands, Navigators, and user created lighting scenes.</p>

<p>When this value is changed, drivers will receive a protocol driver command of UPDATE_BRIGHTNESS_RATE_DEFAULT with a parameter RATE of the value.</p>

<p>Note: If a driver has its color rate behavior set to be linked to the brightness rate, then this call will also update the color rate.</p>

<h3 id='light-v2-commands-set_brightness_rate_default-name'>Name</h3>

<p><code>SET_BRIGHTNESS_RATE_DEFAULT ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LIGHT BRIGHTNESS RATE DEFAULT</td>
<td>INT</td>
<td>Default rate that will be used if no rate is specified.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_brightness_rate_default-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_brightness_stop'>SET_BRIGHTNESS_STOP</h2>

<p>Stops a ramp if in progress.</p>

<h3 id='light-v2-commands-set_brightness_stop-name'>Name</h3>

<p><code>SET_BRIGHTNESS_STOP ()</code></p>

<h3 id='light-v2-commands-set_brightness_stop-parameters'>Parameters</h3>

<p><code>None</code></p>

<h3 id='light-v2-commands-set_brightness_stop-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_click_rate_up'>SET_CLICK_RATE_UP</h2>

<p>Used to set the click rate up for the device.  When a driver gets this command, it MUST send a CLICK_RATE_UP notification with the value that the driver accepted.</p>

<h3 id='light-v2-commands-set_click_rate_up-name'>Name</h3>

<p><code>SET_CLICK_RATE_UP()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>In milliseconds</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_click_rate_up-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-set_click_rate_down'>SET_CLICK_RATE_DOWN</h2>

<p>Used to set the click rate down for the device.  When a driver gets this command, it MUST send a CLICK_RATE_DOWN notification with the value that the driver accepted.</p>

<h3 id='light-v2-commands-set_click_rate_down-name'>Name</h3>

<p><code>SET_CLICK_RATE_DOWN()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>In milliseconds</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-set_click_rate_down-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-commands-add_driver_color_preset'>ADD_DRIVER_COLOR_PRESET</h2>

<p>Used to add a new driver specific color preset.   The PRESET_NAME is always required.   The remainder of the parameters are required or optional depending on how the color is specified:</p>

<p>If the color is being set using hue and saturation, the PRESET_COLOR_HUE, PRESET_COLOR_SATURATION, and PRESET_COLOR_MODE are all required.</p>

<p>If the color is being set using xy, the PRESET_COLOR_X, PRESET_COLOR_Y, and PRESET_COLOR_MODE are all required.</p>

<p>If the color temperature is being set, only the PRESET_COLOR_CORRELATED_TEMPERATURE is required.</p>

<p>If the appropriate values are not set, an error will be returned.</p>

<h3 id='light-v2-commands-add_driver_color_preset-name'>Name</h3>

<p><code>ADD_DRIVER_COLOR_PRESET ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET\\\_NAME</td>
<td>The name to give to the preset that is being added.</td>
</tr>
<tr>
<td>One of the following three Color Sets are also required</td>
<td></td>
</tr>
<tr>
<td>Color Set 1</td>
<td>PRESET COLOR CORRELATED TEMPERATURE - The color correlated temperature that the preset should be set to.</td>
</tr>
<tr>
<td>Color Set 2</td>
<td>PRESET COLOR X - The color chromaticity x coordinate to be used in this preset. PRESET COLOR Y - The color chromaticity y coordinate to be used in this preset. Optional: PRESET COLOR MODE - The color mode used by this preset.   0 = Full Color, 1 = CCT. If this parameter is not provided, Full Color is assumed, unless the light only supports CCT, then CCT is assumed.</td>
</tr>
<tr>
<td>Color Set 3</td>
<td>This method is highly discouraged as it is confined to the  rRGB gamut and thus can&#39;t achieve many colors that typical color lights support.</td>
</tr>
<tr>
<td>PRESET\\\_COLOR\\\_HUE</td>
<td>The hue to use for this preset.  Range of 0 through 359 degrees. PRESET COLOR SATURATION - The saturation to use for this preset.  Range of 0 to 100.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-add_driver_color_preset-returns'>Returns</h3>

<p>On return, the &quot;addResult&quot; variable will contain an XML string that indicates success or failure.   If the string indicates success, the ID for the newly created preset will also be included.   If the string indicates failure, a reason may be provided for the failure.</p>

<p>Sample success message:</p>

<p><code>&lt;success&gt;true&lt;/success&gt;&lt;presetId&gt;3&lt;/presetId&gt;&lt;/return_data&gt;</code></p>

<p>Sample failure message:</p>

<p><code>&lt;return_data&gt;&lt;success&gt;false&lt;/success&gt;&lt;reason&gt;Invalid parameters&lt;/reason&gt;&lt;/return_data&gt;</code></p>

<h3 id='light-v2-commands-add_driver_color_preset-example'>Example</h3>

<p>The example code to the right adds a preset named &quot;Driver Color Preset&quot; </p>

<div class="highlight"><pre class="highlight lua tab-lua"><code><span class="kd">local</span> <span class="n">tParams</span> <span class="o">=</span> <span class="p">{</span><span class="n">PRESET_NAME</span><span class="o">=</span><span class="s2">"Driver Color Preset"</span><span class="p">,</span> <span class="n">PRESET_COLOR_X</span><span class="o">=</span><span class="mi">0</span><span class="p">.</span><span class="mi">1500</span><span class="p">,</span> <span class="n">PRESET_COLOR_Y</span><span class="o">=</span><span class="mi">0</span><span class="p">.</span><span class="mi">0722</span><span class="p">,</span> <span class="n">PRESET_COLOR_MODE</span><span class="o">=</span><span class="mi">1</span><span class="p">}</span>

<span class="kd">local</span> <span class="n">addResult</span> <span class="o">=</span> <span class="n">C4</span><span class="p">:</span><span class="n">SendUIRequest</span><span class="p">(</span><span class="n">proxyDeviceId</span><span class="p">,</span> <span class="s2">"ADD_DRIVER_COLOR_PRESET"</span><span class="p">,</span> <span class="n">tParams</span><span class="p">)</span>
</code></pre></div>

<h2 id='light-v2-commands-c4-type-manager'>C4 TYPE MANAGER</h2>

<p>Used to add, remove, or modity the Presets for a c4Type. Each C4Type must have a unique Name. c4Types handle saving and restorng all information
associated to them, including restoring bindings and preset information</p>

<p>C4Types are expanding and currently offer:</p>

<ul>
<li>LEVEL - Brightness, shades, volume.</li>
<li>COLOR - CIE1931 xy.</li>
<li>MODE</li>
<li>BATTERY </li>
<li>NUMBER</li>
<li>STRING</li>
<li>DEVICE_HEALTH</li>
</ul>

<h3 id='light-v2-commands-c4-type-manager-name'>Name</h3>

<p><code>C4TYPE_COMMAND ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>string</td>
<td>C4TYPE NAME. Unique &quot;Name&quot; for the C4Type that will be operated on.</td>
</tr>
<tr>
<td>string</td>
<td>ACTION. Command to run on the C4Type. This includes:</td>
</tr>
<tr>
<td></td>
<td>C4TYPE REGISTER - Registers a new C4Type.</td>
</tr>
<tr>
<td></td>
<td>TYPE - The Type of C4Type.</td>
</tr>
<tr>
<td></td>
<td>C4TYPE UNREGISTER - Removes an existing C4Type.</td>
</tr>
<tr>
<td></td>
<td>PRESET ADD. <em>See usage note below</em>.</td>
</tr>
<tr>
<td></td>
<td>PRESET REMOVE. <em>See usage note below</em>.</td>
</tr>
<tr>
<td></td>
<td>PRESET MODIFY. <em>See usage note below</em>.</td>
</tr>
<tr>
<td></td>
<td>PRESET BINDING MODIFY. <em>See usage note below</em>.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-c4-type-manager-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='light-v2-commands-c4-type-manager-usage-note'>Usage Note</h3>

<p>Additional parameters are required if the ACTION value used is PRESET.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET ID</td>
<td>STR</td>
<td style="text-align: left">String - ID of the Preset.</td>
</tr>
<tr>
<td>PRESET ORIGIN</td>
<td>STR</td>
<td style="text-align: left">String - Origin of the Preset.</td>
</tr>
<tr>
<td>PRESET FUNCTION</td>
<td>The Preset operation to run PRESET ADD, PRESET MODIFY and PRESET REMOVE.</td>
<td style="text-align: left">The Preset operation to run PRESET ADD, PRESET MODIFY and PRESET REMOVE.</td>
</tr>
<tr>
<td>PRESET  ADD</td>
<td>Add the Preset</td>
<td style="text-align: left">Add the Preset</td>
</tr>
</tbody></table>

<p>Additionally, each c4Types above has different parameters that need to be specified. </p>

<p>PRESET_ADD</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET LEVEL</td>
<td>The value of the preset.</td>
</tr>
<tr>
<td>PRESET TYPE</td>
<td>Optional.How the Preset is adjusted.</td>
</tr>
<tr>
<td>PERCENT</td>
<td>Allows user to select 0-100.  If not specified then the PRESET LEVEL is assumed to be a raw level value.</td>
</tr>
</tbody></table>

<p>PRESET_MODIFY</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Level</td>
<td>PRESET LEVEL - The value of the preset</td>
</tr>
</tbody></table>

<p>PRESET_REMOVE - No parameters</p>

<p>PRESET_BINDING_MODIFY</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRESET BINDING ID</td>
<td>Integer ID of the binding for the driver you want to Add/Modify/Remove. Use 0 to remove the binding.</td>
</tr>
<tr>
<td>PRESET ACTIVE COLOR</td>
<td>Color when the Preset is Active.</td>
</tr>
<tr>
<td>PRESET INACTIVE COLOR</td>
<td>Color when the Preset is Inactive.</td>
</tr>
</tbody></table>

<h3 id='light-v2-commands-c4-type-manager-examples'>Examples</h3>

<p>In addition to &quot;Brightness&quot; for a NAME, &quot;Color&quot; can be used for lights that support color in the LightV2 proxy and &quot;Blind Level&quot; can be used for the Blind Proxy for blind Level presets. See the examples to the right.</p>

<div class="highlight"><pre class="highlight lua tab-lua"><code><span class="c1">-- Adding a Preset:</span>
<span class="n">C4SendToProxy</span><span class="p">(</span><span class="mi">5001</span><span class="p">,</span><span class="s2">"C4TYPE_COMMAND"</span><span class="p">,</span> <span class="n">tParams</span><span class="p">,</span> <span class="s2">"COMMAND"</span><span class="p">)</span>
<span class="n">tParams</span> <span class="o">=</span> <span class="p">{</span>
<span class="n">C4TYPE_NAME</span><span class="o">=</span><span class="s2">"Brightness"</span><span class="p">,</span>
<span class="n">ACTION</span><span class="o">=</span><span class="n">PRESET_ADD</span><span class="p">,</span>
<span class="n">PRESET_NAME</span><span class="o">=</span><span class="s2">"New Preset Name"</span><span class="p">,</span>
<span class="n">PRESET_ID</span><span class="o">=</span><span class="s2">"New Preset ID"</span><span class="p">,</span>
<span class="n">PRESET_TYPE</span><span class="o">=</span><span class="s2">"PERCENT"</span><span class="p">,</span>  <span class="p">(</span><span class="n">Optional</span><span class="p">,</span> <span class="n">raw</span> <span class="n">value</span> <span class="n">assumed</span> <span class="n">otherwise</span><span class="p">)</span>
<span class="n">PRESET_LEVEL</span><span class="o">=</span><span class="s2">"50"</span><span class="p">}</span>


<span class="c1">-- Modify Preset:</span>
<span class="n">C4SendToProxy</span><span class="p">(</span><span class="mi">5001</span><span class="p">,</span><span class="s2">"C4TYPE_COMMAND"</span><span class="p">,</span> <span class="n">tParams</span><span class="p">,</span> <span class="s2">"COMMAND"</span><span class="p">)</span>
<span class="n">tParams</span> <span class="o">=</span> <span class="p">{</span>
<span class="n">C4TYPE_NAME</span><span class="o">=</span><span class="s2">"Brightness"</span><span class="p">,</span>
<span class="n">ACTION</span><span class="o">=</span><span class="n">PRESET_MODIFY</span><span class="p">,</span>
<span class="n">PRESET_NAME</span><span class="o">=</span><span class="s2">"On"</span><span class="p">,</span>
<span class="n">PRESET_ID</span><span class="o">=</span><span class="s2">"New Preset ID"</span><span class="p">,</span>
<span class="n">PRESET_TYPE</span><span class="o">=</span><span class="s2">"PERCENT"</span><span class="p">,</span> <span class="p">(</span><span class="n">Optional</span><span class="p">,</span> <span class="n">raw</span> <span class="n">value</span> <span class="n">assumed</span> <span class="n">otherwise</span><span class="p">)</span>
<span class="n">PRESET_LEVEL</span><span class="o">=</span><span class="s2">"50"</span><span class="p">}</span>


<span class="c1">--Delete Preset:</span>
<span class="n">C4SendToProxy</span><span class="p">(</span><span class="mi">5001</span><span class="p">,</span><span class="s2">"C4TYPE_COMMAND"</span><span class="p">,</span> <span class="n">tParams</span><span class="p">,</span> <span class="s2">"COMMAND"</span><span class="p">)</span>
<span class="n">tParams</span> <span class="o">=</span> <span class="p">{</span>
<span class="n">C4TYPE_NAME</span><span class="o">=</span><span class="s2">"Brightness"</span><span class="p">,</span>
<span class="n">ACTION</span><span class="o">=</span><span class="n">PRESET_REMOVE</span><span class="p">,</span>
<span class="n">PRESET_NAME</span><span class="o">=</span><span class="s2">"On"</span>
<span class="n">PRESET_ID</span><span class="o">=</span><span class="s2">"New Preset ID"</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1">--Add/Remove a binding for a Preset:</span>
<span class="n">C4SendToProxy</span><span class="p">(</span><span class="mi">5001</span><span class="p">,</span> <span class="s2">"C4TYPE_COMMAND"</span><span class="p">,</span> <span class="n">tParams</span><span class="p">,</span> <span class="s2">"COMMAND"</span><span class="p">)</span>
<span class="n">tParams</span> <span class="o">=</span> <span class="p">{</span>
<span class="n">C4TYPE_NAME</span><span class="o">=</span><span class="s2">"Brightness"</span><span class="p">,</span> 
<span class="n">ACTION</span><span class="o">=</span><span class="s2">"PRESET_BINDING_MODIFY"</span><span class="p">,</span>
<span class="n">PRESET_BINDING_ID</span><span class="o">=</span><span class="s2">"100"</span> <span class="p">(</span><span class="n">BindingID</span> <span class="n">of</span> <span class="n">a</span> <span class="n">driver</span> <span class="ow">or</span> <span class="n">proxy</span><span class="p">,</span> <span class="ow">or</span> <span class="n">use</span> <span class="o">-</span><span class="mi">1</span> <span class="n">to</span> <span class="n">remove</span> <span class="n">the</span> <span class="n">binding</span> <span class="k">for</span> <span class="n">this</span> <span class="n">preset</span><span class="p">)</span>
<span class="n">PRESET_BUTTON_ACTION</span><span class="o">=</span><span class="s2">"PUSH"</span><span class="p">,</span>
<span class="n">PRESET_ACTIVE_COLOR</span><span class="o">=</span><span class="s2">"0000ff"</span><span class="p">,</span>
<span class="n">PRESET_INACTIVE_COLOR</span><span class="o">=</span><span class="s2">"000000"</span><span class="p">}</span>

<span class="c1">--Activate a Preset:</span>
<span class="n">C4SendToProxy</span><span class="p">(</span><span class="mi">5001</span><span class="p">,</span> <span class="s2">"C4TYPE_COMMAND"</span><span class="p">,</span> <span class="n">tParams</span><span class="p">,</span> <span class="s2">"COMMAND"</span><span class="p">)</span>
<span class="n">tParams</span> <span class="o">=</span> <span class="p">{</span>
<span class="n">C4TYPE_NAME</span><span class="o">=</span><span class="s2">"Brightness"</span>
<span class="n">ACTION</span><span class="o">=</span><span class="s2">"PRESET_ACTIVATE"</span><span class="p">,</span>
<span class="n">PRESET_NAME</span><span class="o">=</span><span class="s2">"On"</span>
<span class="n">PRESET_ID</span><span class="o">=</span><span class="s2">"New Preset ID"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<h1 id='light-v2-events'>Light V2 Events</h1>

<p>The following are System Events that are provided and managed by the Proxy.  These can be used for Composer Programming or other drivers to monitor the changes of a values reflected in a LightV2 proxy.</p>

<p><code>Light On</code>
Light has turned On. Event ID = 5100.</p>

<p><code>Light Off</code>
Light has turned Off. Event ID = 5101.</p>

<p><code>Light Brightness Changed</code>
The brightness of the light has changed. Event ID = 4001.</p>

<p><code>Light Brightness Changing</code>
The brightness of the light is changing. Event ID = 4000.</p>

<p><code>Light Color Changed</code>
The color of the light has changed. Event ID = 4003</p>

<p><code>Light Color Changing</code>
The color of the light is changing. Event ID = 4002</p>

<p><code>Old Light Level Changed</code>
The light level of the light has changed and is at the final brightness. Event ID = 5000.</p>

<p><strong>Keypad Events</strong></p>

<p>An event is fired when something happens to one of the buttons on the device. The pattern for determining the Event ID is: </p>

<p>5001 + action + (btnID * 5). </p>

<p>The actions are:</p>

<ul>
<li>Release = 0</li>
<li>Push = 1</li>
<li>Single Click = 2</li>
<li>Double Click = 3</li>
<li>Triple Click = 4</li>
</ul>

<p>The button IDs are determined by the protocol driver, but the standard ordering is:</p>

<ul>
<li>Top = 0</li>
<li>Bottom = 1</li>
<li>Toggle = 2</li>
</ul>
<h1 id='light-v2-protocol-notifications'>Light V2 Protocol Notifications</h1>

<h2 id='light-v2-protocol-notifications-button_action'>BUTTON_ACTION</h2>

<p>Used to inform the proxy that a button state has changed on the device.  Note that the Proxy expects a Release if it gets a Push. If it does not receive a Release, subsequent Pushes will not work and state/tracking will be off. </p>

<h3 id='light-v2-protocol-notifications-button_action-name'>Name</h3>

<p><code>BUTTON_ACTION ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>INT</td>
<td>BUTTON ID: Index of the button being controlled.</td>
</tr>
<tr>
<td>ACTIO</td>
<td>INT</td>
<td>The Event Type which include:</td>
</tr>
<tr>
<td></td>
<td></td>
<td>0 - Release</td>
</tr>
<tr>
<td></td>
<td></td>
<td>1 - Push</td>
</tr>
<tr>
<td></td>
<td></td>
<td>2 - Single Tap</td>
</tr>
<tr>
<td></td>
<td></td>
<td>3 - Double Tap</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4 - Triple Tap</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-button_action-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-button_info'>BUTTON_INFO</h2>

<p>Used to inform the proxy that a status of a button LED has changed.  Color strings are in the format of 6 hex characters such as 000000, FFFFFF or 0000FF.</p>

<h3 id='light-v2-protocol-notifications-button_info-name'>Name</h3>

<p><code>BUTTON_INFO ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON ID</td>
<td>INT</td>
<td>Index of the button being controlled.</td>
</tr>
<tr>
<td>NAME</td>
<td>STR</td>
<td>Optional. Update the name of the button.</td>
</tr>
<tr>
<td>ON COLOR</td>
<td>STR</td>
<td>Optional. Hex string for the On color.</td>
</tr>
<tr>
<td>OFF COLOR</td>
<td>STR</td>
<td>Optional. Hex string for the Off color.</td>
</tr>
<tr>
<td>CURRENT COLOR</td>
<td>STR</td>
<td>Optional. Hex string for the Current color.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-button_info-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-click_count'>CLICK_COUNT</h2>

<p>Used to tell the proxy that a button has been clicked multiple times.</p>

<h3 id='light-v2-protocol-notifications-click_count-name'>Name</h3>

<p><code>CLICK_COUNT ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td>BUTTON\ID</td>
<td>INT</td>
<td style="text-align: left">Index of the button being controlled.</td>
</tr>
<tr>
<td>COUNT</td>
<td>INT</td>
<td style="text-align: left">Number of clicks.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-click_count-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-click_rate_down'>CLICK_RATE_DOWN</h2>

<p>Used to inform the proxy that the hardware click rate for the &quot;Off&quot; Brightness preset changed.</p>

<h3 id='light-v2-protocol-notifications-click_rate_down-name'>Name</h3>

<p><code>CLICK_RATE_DOWN ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>Number of milliseconds it takes for the light to ramp from all the way on to all the way off.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-click_rate_down-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-click_rate_up'>CLICK_RATE_UP</h2>

<p>Used to inform the proxy that the hardware click rate for the &quot;On&quot; Brightness preset changed.</p>

<h3 id='light-v2-protocol-notifications-click_rate_up-name'>Name</h3>

<p><code>CLICK_RATE_UP ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE:</td>
<td>INT</td>
<td>Number of milliseconds it takes for the light to ramp from all the way off to all the way on.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-click_rate_up-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-cold_start_level'>COLD_START_LEVEL</h2>

<p>Note that this notification will be deprecated from the proxy in the near future. Control4 recommends using device specific properties for this value.</p>

<p>Used to inform the proxy that the hardware Cold Start level has changed. This is useful for hardware such as Control4’s Gen3 lighting where the hardware supports temporarily setting the brightness to this level in order to &#39;jump start&#39; the capacitors/ballasts on LED and florescent lights.  This value changes over time as capacitors and ballasts age.</p>

<h3 id='light-v2-protocol-notifications-cold_start_level-name'>Name</h3>

<p><code>COLD_START_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BRIGHTNESS</td>
<td>INT</td>
<td>Percent from 0-99 for the Min On brightness to be remapped to.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-cold_start_level-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-cold_start_time'>COLD_START_TIME</h2>

<p>Note that this notification will be deprecated from the proxy in the near future. Control4 recommends using device specific properties for this value.</p>

<p>Used to inform the proxy that the hardware Cold Start level has changed.  This is useful for hardware such as Control4’s Gen3 lighting where the hardware supports temporarily setting the brightness to a level for this number of milliseconds in order to &#39;jump start&#39; the capacitors/ballasts on LED and florescent lights.  This value changes over time as capacitors and ballasts age.</p>

<h3 id='light-v2-protocol-notifications-cold_start_time-name'>Name</h3>

<p><code>COLD_START_TIME ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BRIGHTNESS</td>
<td>INT</td>
<td>Number of milliseconds that the light is turned on to the COLD START LEVEL value.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-cold_start_time-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-dynamic_capabilities_changed'>DYNAMIC_CAPABILITIES_CHANGED</h2>

<p>Used to update capabilities and proxy functionality without requiring a different c4i/c4z or for drivers that have capabilities that change during runtime.  Multiple parameters can be set with a single notify for &#39;atomic changes&#39; where some functionality may involve mutual exclusion/inclusion.  </p>

<p>Example for parameters are <code>Notify(&quot;supports_broadcast_scenes=true&quot;,&quot;dimmer=true&quot;</code>  </p>

<h3 id='light-v2-protocol-notifications-dynamic_capabilities_changed-name'>Name</h3>

<p><code>DYANAMIC_CAPABILITIES_CHANGED ()</code></p>

<h3 id='light-v2-protocol-notifications-dynamic_capabilities_changed-parameters'>Parameters</h3>

<p>DYNAMIC_CAPABILITIES_CHANGED requires different parameters base on capability:</p>

<p><strong>Supports Zigbee Broadcast Scenes</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>supports broadcast scenes</td>
<td>BOOL</td>
<td>Supports Zigbee Broadcast Scenes</td>
</tr>
</tbody></table>

<p><strong>Level Target Support </strong></p>

<p>If the driver supports the new level target API: LIGHT_BRIGHTNESS_CHANGING and LIGHT_BRIGHTNESS_CHANGED. This provides better light level tracking for UI&#39;s, ALS Scenes, and Composer Programming interaction by allowing drivers to specify the current level, their target level and the number of milliseconds it will take for the light to reach the target level.  </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>supports target</td>
<td>BOOL</td>
<td>Supports the new level target API</td>
</tr>
</tbody></table>

<p><strong>Dimmer</strong></p>

<p>Used to change if a light is a dimmer or switch at any time. This is very useful for having a single driver provide both functionality depending on what hardware is connected or detected.  Can also provide a dealer the ability to make a dimmer act as a switch for UI&#39;s and system functionality.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dimmer</td>
<td>BOOL</td>
<td>If a light is a dimmer or switch at any time.</td>
</tr>
</tbody></table>

<p>Note: If true, updates the following feature capabilities:</p>

<ul>
<li>Reads ramp_level from c4i, if not defined, false is assumed.</li>
<li>Reads click/hold rates from c4i, if these are not defined, 0 is assumed.</li>
</ul>

<p>Drivers using dynamic capabilities for ramp_level, click, and hold rate settings should re-send dynamic capability notifies for each of these after setting dimmer to true.</p>

<p>If false - Sets the following:
- dimmer = false
- ramp_level = false
- click/rates = 0</p>

<p><strong>Supports Brightness Stop</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dimmer</td>
<td>BOOL</td>
<td></td>
</tr>
<tr>
<td>supports brightness stop</td>
<td>true/false</td>
<td></td>
</tr>
</tbody></table>

<p><strong>Ramp Level </strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ramp level</td>
<td>BOOL</td>
<td>Support ramp level</td>
</tr>
</tbody></table>

<p><strong>Default Brightness Rate Min</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>brightness rate min</td>
<td>INT</td>
<td>0-INT16 MAX</td>
</tr>
</tbody></table>

<p><strong>Default Brightness Rate Max</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>brightness rate max</td>
<td>INT</td>
<td>0-INT16 MAX</td>
</tr>
</tbody></table>

<p><strong>Supports Color</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>supports color</td>
<td>BOOL</td>
<td>Supports color</td>
</tr>
</tbody></table>

<p><strong>Supports Color Correlated Temperature </strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>supports color correlated temperature</td>
<td>true/false</td>
<td>Supports color correlated temperature</td>
</tr>
</tbody></table>

<p><strong>Color Temperature Correlated Min</strong> </p>

<p>What is the lowest supported CCT value. Must be increment of 10. Set both min/max to the same value if the CCT value can not be changed.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color correlated temperature min</td>
<td>500-20000</td>
<td>Lowest supported CCT value</td>
</tr>
</tbody></table>

<p><strong>Color Temperature Correlated Max</strong> </p>

<p>What is the highest supported CCT value. Must be increment of 10. Set both min/max to the same value if the CCT value can not be changed.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color correlated temperature max</td>
<td>500-20000</td>
<td>Highest supported CCT value</td>
</tr>
</tbody></table>

<p><strong>Supports Color Stop</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>supports color stop</td>
<td>BOOL</td>
<td>Supports color stop</td>
</tr>
</tbody></table>

<p><strong>Color Rate Behavior</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color rate behavior</td>
<td>Value. Values include: 0 - Unchangeable Rate, 1 - Device only supports one rate for brightness and color, 2 - Device supports ramping brightness and color at two different rates.</td>
<td>Color Rate Behavior</td>
</tr>
</tbody></table>

<p><strong>Default Color Rate Min</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color rate min</td>
<td>INT</td>
<td>0-INT16 MAX</td>
</tr>
</tbody></table>

<p><strong>Default Color Rate Max</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color rate max</td>
<td>0INT</td>
<td>0-INT16 MAX</td>
</tr>
</tbody></table>

<p><strong>Color Trace Tolerance</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color trace tolerance</td>
<td>NUM</td>
<td>0-20 * See capability documentation for more information.</td>
</tr>
</tbody></table>

<p><strong>Has Extras</strong></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>has extras</td>
<td>BOOL</td>
<td></td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-dynamic_capabilities_changed-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-hold_rate_down'>HOLD_RATE_DOWN</h2>

<p>Used to inform the proxy that the hardware click rate for the &quot;Slow Off&quot; Brightness preset changed.</p>

<h3 id='light-v2-protocol-notifications-hold_rate_down-name'>Name</h3>

<p><code>HOLD_RATE_DOWN ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>RNumber of milliseconds it takes for the light to ramp from all the way on to all the way off.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-hold_rate_down-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-hold_rate_up'>HOLD_RATE_UP</h2>

<p>Used to inform the proxy that the hardware click rate for the &quot;Slow On&quot; Brightness preset changed.</p>

<h3 id='light-v2-protocol-notifications-hold_rate_up-name'>Name</h3>

<p><code>HOLD_RATE_UP ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>RATE</td>
<td>INT</td>
<td>Number of milliseconds it takes for the light to ramp from all the way off to all the way on.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-hold_rate_up-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-light_brightness_changed'>LIGHT_BRIGHTNESS_CHANGED</h2>

<p>Part of the new Level Target API, used to notify the proxy that a lights brightness changed.  It is not required to send a LIGHT_BRIGHTNESS_CHANGING Notify before sending this, so devices like switches or some dimmers that do not provide status on where they are going can still be implemented with the new API. This notify should always be sent to the proxy when the driver starts and/or when the hardware comes online and the driver knows the actual brightness of the hardware.</p>

<h3 id='light-v2-protocol-notifications-light_brightness_changed-name'>Name</h3>

<p><code>LIGHT_BRIGHTNESS_CHANGED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LIGHT BRIGHTNESS CURRENT</td>
<td>DOUBE</td>
<td>Double. Raw value of where the light brightness stopped.</td>
</tr>
<tr>
<td>LIGHT BRIGHTNESS CURRENT PRESET ID</td>
<td>INT</td>
<td>Integer. Optional. This should only be included if presets levels are defined and the level is equal to the preset. Providing this will allow the proxy to track and update the drivers level if the preset level is modified. This is needed for drivers making use of the Daylight Agent or similar features.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-light_brightness_changed-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='light-v2-protocol-notifications-light_brightness_changed-usage-note'>Usage Note</h3>

<p>Dimmer Drivers should only use BRIGHTNESS_CHANGING and BRIGHTNESS_CHANGED notifies and no longer use LEVEL_CHANGE notify.</p>

<p>Switch drivers only need to use the BRIGHTNESS_CHANGED notify.</p>

<h2 id='light-v2-protocol-notifications-light_brightness_changing'>LIGHT_BRIGHTNESS_CHANGING</h2>

<p>Part of the new Level Target API, used to notify the proxy that a lights brightness is changing.  The benefit of using this Notify is that drivers can provide &#39;how the light brightness is changing&#39;.  Using this Notify greatly improves interaction with the system in numerous ways for components such as ALS Agent, Navigators, Composer Programming and so.  A driver should enabled the supports_target capability if using this notify.  The LIGHT_LEVEL Notify should be avoided if a driver uses the new API.</p>

<p>This behaves the same was as a Blind or other C4TypeLevel feature where the proxy generates Percentage scaling and for UI&#39;s and other system components, but since a single percent may not be enough resolution, we allow programming and other system components to set raw values for a device.  </p>

<p>In the case where the &#39;end of the ramp&#39; is unknown, specifying the end point of where the device will change to if no further interaction is done is the best practice.  An example is if someone Holds a button to slow-ramp a light On, the driver should Notify the proxy that the end point is 100 if 100 is the max value of the light.</p>

<h3 id='light-v2-protocol-notifications-light_brightness_changing-name'>Name</h3>

<p><code>LIGHT_BRIGHTNESS_CHANGING ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LIGHT BRIGHTNESS CURRENT</td>
<td>DOUBLE</td>
<td>Raw value of the lighting level. Does not need to be 0-100% and can be based on the Min and Max Brightness capabilities such as 0-10, 0-99. 0-256 and even negative if the Brightness Min is defined as a negative number.</td>
</tr>
<tr>
<td>LIGHT BRIGHTNESS TARGET</td>
<td>DOUBLE</td>
<td>Double. Raw value of where the light is going to.</td>
</tr>
<tr>
<td>RATE</td>
<td>INT</td>
<td>INumber of milliseconds it will take to ramp to the target level.</td>
</tr>
<tr>
<td>LIGHT BRIGHTNESS CURRENT PRESET ID</td>
<td>INT</td>
<td>Preset ID that was last activated. Providing this will allow the proxy to track and update the drivers level if the preset level is modified - This is needed for drivers making use of the Daylight Agent or similar features.</td>
</tr>
<tr>
<td>LIGHT BRIGHTNESS TARGET PRESET ID</td>
<td>INTR</td>
<td>Preset ID that the light is going to. Providing this will allow the proxy to track and update the drivers level if the preset level is modified. This is needed for drivers making use of the Daylight Agent or similar features.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-light_brightness_changing-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='light-v2-protocol-notifications-light_brightness_changing-usage-note'>Usage Note</h3>

<p>Dimmer Drivers should only use BRIGHTNESS_CHANGING and BRIGHTNESS_CHANGED notifies and no longer use LEVEL_CHANGE notify.</p>

<p>Switch drivers only need to use the BRIGHTNESS_CHANGED notify.</p>

<h2 id='light-v2-protocol-notifications-light_color_changed'>LIGHT_COLOR_CHANGED</h2>

<p>Used to inform the proxy that the color has finished changing.  It is possible to use this call without the LIGHT_COLOR_CHANGING Notify call being sent first but, some Composer Programming paths will not be run.  This notify should always be sent to the proxy when the driver starts and/or when the hardware comes online and the driver knows the actual color of the hardware.</p>

<h3 id='light-v2-protocol-notifications-light_color_changed-name'>Name</h3>

<p><code>LIGHT_COLOR_CHANGED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LIGHT COLOR CURRENT X</td>
<td>NUM</td>
<td>The CIE 1931 X coordinate for where the color change stopped.</td>
</tr>
<tr>
<td>LIGHT COLOR CURRENT Y</td>
<td>NUM</td>
<td>The CIE 1931 Y coordinate for where the color change stopped.</td>
</tr>
<tr>
<td>LIGHT COLOR CURRENT COLOR MODE</td>
<td>NUYM</td>
<td>Optional. 0 for Full Color, 1 if the XY coordinate is a CCT</td>
</tr>
<tr>
<td>LIGHT COLOR CURRENT PRESET ID</td>
<td>INT</td>
<td>Preset ID that was last activated. Providing this will allow the proxy to track and update the drivers level if the preset level is modified. This is required for drivers making use of the Daylight Agent or similar features.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-light_color_changed-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-light_color_changing'>LIGHT_COLOR_CHANGING</h2>

<p>Used to inform the proxy that the color is changing on the light. The optional parameters are useful in case the color changed without the proxy knowing which might be needed by some unreliable lighting hardware.</p>

<h3 id='light-v2-protocol-notifications-light_color_changing-name'>Name</h3>

<p><code>LIGHT_COLOR_CHANGING ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LIGHT COLOR TARGET X CIE 1931</td>
<td>NUM</td>
<td>X coordinate for where the color is going to.</td>
</tr>
<tr>
<td>LIGHT COLOR TARGET Y</td>
<td>NUM</td>
<td>CIE 1931 Y coordinate for where the color is going to.</td>
</tr>
<tr>
<td>LIGHT COLOR TARGET COLOR MODE</td>
<td>NUM</td>
<td>Optional. 0 for Full Color, 1 if the XY coordinate is a CCT</td>
</tr>
<tr>
<td>LIGHT COLOR TARGET COLOR  RATE</td>
<td>INT</td>
<td>Optional. Integer. Number of milliseconds it will take to ramp to the target level.  0 will be used if this parameter is not provided.</td>
</tr>
<tr>
<td>LIGHT COLOR CURRENT X</td>
<td>NUM</td>
<td>Optional. CIE 1931 X coordinate for where the color is changing from.</td>
</tr>
<tr>
<td>LIGHT COLOR CURRENT Y</td>
<td>NUM</td>
<td>Optional. CIE 1931 Y coordinate for where the color is changing from.</td>
</tr>
<tr>
<td>LIGHT COLOR CURRENT COLOR MODE</td>
<td>NUM</td>
<td>Optional. 0 for Full Color, 1 if the XY coordinate is a CCT</td>
</tr>
<tr>
<td>LIGHT COLOR CURRENT PRESE ID</td>
<td>INT</td>
<td>Preset ID that was last activated. Providing this will allow the proxy to track and update the drivers level if the preset level is modified. This is required for drivers making use of the Daylight Agent or similar features.</td>
</tr>
<tr>
<td>LIGHT COLOR TARGE PRESET ID</td>
<td>INT</td>
<td>Preset ID that the light is going to. Providing this will allow the proxy to track and update the drivers level if the preset level is modified. This is required for drivers making use of the Daylight Agent or similar features.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-light_color_changing-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-light_level'>LIGHT_LEVEL</h2>

<p>Used to inform the proxy that the light level has changed.</p>

<h3 id='light-v2-protocol-notifications-light_level-name'>Name</h3>

<p><code>LIGHT_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>LEVEL</td>
<td>INT</td>
<td>Percent from 0-100 of the current light level.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-light_level-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='light-v2-protocol-notifications-light_level-usage-note'>Usage Note</h3>

<p>As of Operating System 3.3.0, drivers should no longer send incremental notifies of light level every 20ms, 500ms, 1000ms, etc, as the lights brightness ramps. Sending excessive incremental level updates caused performance issues including:</p>

<ul>
<li>Excessive slowness in Proxies, Director, and Navigators.</li>
<li>Slow performance and inaccurate states for Advanced Lighting Scene tracking.</li>
<li>Excessive Zigbee traffic and often incorrect keypad button LED status.</li>
<li>Inconsistent slider movement in Navigators.</li>
<li>Excessive triggering and sometimes incorrect Composer programming being fired.</li>
</ul>

<p>See the <a href="https://snap-one.github.io/docs-driverworks-proxyprotocol/#light-v2-protocol-notifications-light_brightness_changing">LIGHT_BRIGHTNESS_CHANGING</a> notification for additional information.</p>

<h2 id='light-v2-protocol-notifications-max_on'>MAX_ON</h2>

<p>Used to inform the proxy that the hardware maximum On level has changed.  This is useful for hardware such as Control4’s Gen3 lighting where the hardware supports remapping where 100% brightness is at for the actual hardware.  This does not change the available brightness percent range from 0-100%.</p>

<h3 id='light-v2-protocol-notifications-max_on-name'>Name</h3>

<p><code>MAX_ON ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BRIGHTNESS</td>
<td>NUM</td>
<td>Percent from 1-100 for the Max On brightness to be remapped to.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-max_on-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-min_on'>MIN_ON</h2>

<p>Used to inform the proxy that the hardware minimum On level has changed.  This is useful for hardware such as Control4’s Gen3 lighting where the hardware supports remapping where 1% brightness is when the light is on.  This does not change the available brightness percent range from 0-100%.  Note that with LED lights, the  usable minimum on range does change depending on bulb, age of bulb and other factors.  </p>

<h3 id='light-v2-protocol-notifications-min_on-name'>Name</h3>

<p><code>MIN_ON ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>int</td>
<td>NUM</td>
<td>Percent from 0-99 for the Min On brightness to be remapped to.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-min_on-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-online_changed'>ONLINE_CHANGED</h2>

<p>Used to inform the proxy that the online status of the device has changed.  Due to backwards compatibility, the proxy starts &#39;online&#39; as many old devices did not report online status.  UI functionality will be disabled if the light is offline.</p>

<h3 id='light-v2-protocol-notifications-online_changed-name'>Name</h3>

<p><code>ONLINE_CHANGED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>STATE</td>
<td>BOOL.</td>
<td>True/False. Whether the device is online or not.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-online_changed-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-protocol-notifications-preset_level'>PRESET_LEVEL</h2>

<p>This feature is only to be used if the actual hardware supports a physical button and the light can be programmed to turn on to a specific level. Used to set brightness preset of the &quot;On&quot; (ID = 1) Preset that is used when a user clicks the Top button of a light.</p>

<h3 id='light-v2-protocol-notifications-preset_level-name'>Name</h3>

<p><code>PRESET_LEVEL ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BRIGHTNESS</td>
<td>INT</td>
<td>Percent value from 1-100.</td>
</tr>
</tbody></table>

<h3 id='light-v2-protocol-notifications-preset_level-returns'>Returns</h3>

<p><code>None</code></p>
<p><h1 id='light-v2-extras-interface-library'>Light V2 Extras Interface Library</h1><h3 id='light-v2-extras-interface-library-preset_level-overview'>Overview</h3>
<p>Extras are a way for driver developers to expose unique hardware functionality that users can interact with on a UI/Navigator.  This functionality bypasses the need for a proxy to know about the unique features and how to handle them.  A protocol driver notify is used to pass the Extras XML information from the protocol driver to the proxy, where the proxy caches the xml strings for current setup and state information. The UI  uses a UI_REQUEST as needed to get the information if the UI has just rebooted/started/loaded and then the UI will get updates of these xml strings if it is listening for dataToUI&#39;s from the device.  Extras objects are accessible through the &quot;Extras Tab&quot; located on the main Navigator screen for the Proxy.</p>
<h3 id='light-v2-extras-interface-library-preset_level-capabilities'>Capabilities</h3>
<p>The has_extras capability must be set to true to support the use of Extras. The library will automatically (via dynamic capability) set the has_extras capability when a first Section is created. Also, when the last section is removed, the has_extras capability will be disabled. The Extras class does not implement class destructor as it is not supported in Lua 5.1 and Lua JIT. In the case of setting the Extras class instance to nil, the Extras:cleanCapability() method should be called previously.</p>
<h3 id='light-v2-extras-interface-library-preset_level-protocol-notify-and-proxy-messages'>Protocol Notify and Proxy Messages</h3>
<p>There are two notifies a driver must make to the proxy where this information is forwarded immediately to any UI&#39;s listening for dataToUI on the proxy and the information is also cached for future UI&#39;s to request: EXTRAS_SETUP_CHANGED and EXTRAS_STATE_CHANGED.  </p></p>

<p>Whenever a driver changes values that are reflected in either the setup or state xml, it must make the notify to the proxy with the updated information.  This includes if hardware or a feature is added or removed, a value for one of the objects was updated, and so on.  </p>

<p>It is also advisable for protocol drivers to send this data either on initialization of the driver if the values are not likely to change when hardware comes online, or perhaps when the hardware comes online and the extras commands will be able to succeed.  </p>

<p>In addition, it could be advisable that the state of objects is changed to hidden when hardware and/or disabled features are not available rather than sending new extras_setup notifies as this may cause a UI to redraw the extras page and reset defaults while a user is interacting with the Extras page on a UI.</p>

<h3 id='light-v2-extras-interface-library-preset_level-extras-setup-changed'>EXTRAS SETUP CHANGED</h3>

<p>Update the Extras Setup, displayed in the UI </p>

<h3 id='light-v2-extras-interface-library-preset_level-signature'>Signature</h3>

<p><code>EXTRAS_SETUP_CHANGED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>XML</td>
<td>XML text string of XML matching the Preset Schedule schema. Comes through to the UI as <code>extras_setup</code>. Note that as of OS 3, sending only a singular XML string is supported. For example, sending an array of Extras can result in Navigator performance issues.</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-preset_level-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='light-v2-extras-interface-library-preset_level-extras-state-changed'>EXTRAS STATE CHANGED</h3>

<p>Update the Extras Setup, displayed in the UI </p>

<h3 id='light-v2-extras-interface-library-preset_level-signature'>Signature</h3>

<p><code>EXTRAS_STATE_CHANGED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>XML</td>
<td>XML text string of XML matching the Preset Schedule schema. To UI comes through as <code>extras_state</code>.</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-preset_level-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='light-v2-extras-interface-library-preset_level-how-ui-39-s-handle-extras-objects'>How UI&#39;s handle Extras objects</h3>

<p>UI&#39;s will display objects in the order they are read in the EXTRAS_SETUP xml.  If an object needs to have a default selection, number or string, the UI looks at the value attribute for the default.  If no value is specified in the EXTRAS_SETUP the UI will default to a behavior listed below for each object type.</p>

<p>When a user changes a value on a UI, the UI will immediately send the command associated with that object down to a protocol driver as a command.  The UI waits for a response that the protocol driver has handled the command and the protocol driver must send an updated EXTRAS_STATE notify for the object.  </p>

<p>The EXTRAS_STATE does not need to include all states of all objects, only the states of the objects it wants to update (or acknowledged) it has received but it could contain more than just one objects updated state.  A driver could also respond back with just the <code>&lt;extras_state&gt;&lt;extra&gt;&lt;object id=&quot;1&quot;&gt;&lt;/extra&gt;&lt;/extras_state&gt;</code> if it wanted to acknowledge the command succeeded but not update the value.  If a UI that sent the command does not get a response in 10 seconds, it will change the value of the object back to what it was prior to what the user had changed it from.</p>

<h3 id='light-v2-extras-interface-library-preset_level-extras-setup-changed'>EXTRAS SETUP CHANGED</h3>

<p>Update the Extras Setup, displayed in the UI </p>

<h3 id='light-v2-extras-interface-library-preset_level-signature'>Signature</h3>

<p><code>EXTRAS_SETUP_CHANGED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>XML</td>
<td>XML text string of XML matching the Preset Schedule schema. Comes through to the UI as <code>extras_setup</code>. Note that as of OS 3, sending only a singular XML string is supported. For example, sending an array of Extras can result in Navigator performance issues.</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-preset_level-returns'>Returns</h3>

<p><code>None</code></p>

<h3 id='light-v2-extras-interface-library-preset_level-extras-state-changed'>EXTRAS STATE CHANGED</h3>

<p>Update the Extras Setup, displayed in the UI </p>

<h3 id='light-v2-extras-interface-library-preset_level-signature'>Signature</h3>

<p><code>EXTRAS_STATE_CHANGED ()</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>XML</td>
<td>XML text string of XML matching the Preset Schedule schema. To UI comes through as <code>extras_state</code>.</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-preset_level-returns'>Returns</h3>

<p><code>None</code></p>

<h2 id='light-v2-extras-interface-library-extras-class'>Extras Class</h2><h3 id='light-v2-extras-interface-library-extras-class-overview'>Overview</h3>
<p>This class provides an interface between instances of the ExtrasObjectBasedClass. This class can cover following use cases:</p>

<ul>
<li>Add/Remove/Change Extras Section of an Extras Object</li>
<li>Add/Remove Extras Object</li>
<li>Get instance of an existing Extras Object</li>
<li>Make Extras State/Setup XML strings based on objects provided</li>
<li>Update Extras Object state</li>
</ul>
<h3 id='light-v2-extras-interface-library-extras-class-objectparameters'>ObjectParameters</h3>
<p>Structure that contains all fields needed to initialize ExtrasObject instance</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
</tr>
<tr>
<td>command</td>
<td>string</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
</tr>
<tr>
<td>hidden</td>
<td>string\_bool</td>
</tr>
<tr>
<td>readonly</td>
<td>string\_bool</td>
</tr>
<tr>
<td>extraparams</td>
<td>table\&lt;string,string\&gt;</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-addobjects'>Extras:addObjects</h3>
<p>Adds extras object to the container in the section named <em>sectionLabel</em></p>

<p>New object will be added at the end of the section and will be displayed  as the last section element in the CI. In case of object array, Object order in the CI will be in the same order objects were sorted in the input array.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-addobjects-function-signature'>Function Signature:</h4>
<p><code>Extras:addObjects(objects, sectionLabel)</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-addobjects-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objects</td>
<td>ExtrasObjectBasedClass\</td>
<td>ExtrasObjectBasedClass: List or individual extras object</td>
</tr>
<tr>
<td>sectionLabel</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h4 id='light-v2-extras-interface-library-extras-class-extras-addobjects-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cnt</td>
<td>number</td>
<td>Number of objects added</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-getobject'>Extras:getObject</h3>
<p>Returns extras object with <em>id</em> no matter the section</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-getobject-function-signature'>Function Signature:</h4>
<p><code>Extras:getObject(id)</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-getobject-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID of the extras object</td>
</tr>
</tbody></table>
<h4 id='light-v2-extras-interface-library-extras-class-extras-getobject-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>object</td>
<td>ExtrasObjectBasedClass</td>
<td>nil</td>
<td></td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-updateobject'>Extras:updateObject</h3>
<p>Updates <em>value</em> and <em>hide</em> parameter for the object with <em>objId</em> and sends notification to proxy bound to <em>proxyId</em></p>

<p>If <em>value</em> or <em>hide</em> is not provided, field value will not change. This methods updates fields and sends Proxy Notification that state has been changed.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-updateobject-function-signature'>Function Signature:</h4>
<p><code>Extras:updateObject(proxyId, objId, newValue, hide)</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-updateobject-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objId</td>
<td>string</td>
<td>ID of the extras object</td>
</tr>
<tr>
<td>newValue</td>
<td>string</td>
<td>Value to be updated</td>
</tr>
<tr>
<td>hide</td>
<td>string\_bool</td>
<td>True or false string</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-removeobject'>Extras:removeObject</h3>
<p>Removes extras object with <em>id</em> no matter the section.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-removeobject-function-signature'>Function Signature:</h4>
<p><code>Extras:removeObject(id)</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-removeobject-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID of the extras object</td>
</tr>
</tbody></table>
<h4 id='light-v2-extras-interface-library-extras-class-extras-removeobject-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ret</td>
<td>boolean</td>
<td>Returns true if removal was successful</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-makesetupxml'>Extras:makeSetupXml</h3>
<p>This method makes complete XML string to be send as response to GET_EXTRAS_SETUP proxy command.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-makesetupxml-function-signature'>Function Signature:</h4>
<p><code>Extras:makeSetupXml()</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-makesetupxml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-makestatexml'>Extras:makeStateXml</h3>
<p>This method makes complete XML string to be send as response to GET_EXTRAS_STATE proxy command or to be sent after extras object update.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-makestatexml-function-signature'>Function Signature:</h4>
<p><code>Extras:makeStateXml()</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-makestatexml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-sendsetup'>Extras:sendSetup</h3>
<p>Builds xml and sends proxy notification EXTRAS_SETUP_CHANGED</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-sendsetup-function-signature'>Function Signature:</h4>
<p><code>Extras:sendSetup(proxyId)</code></p>
<h3 id='light-v2-extras-interface-library-extras-class-extras-sendstate'>Extras:sendState</h3>
<p>Builds xml and sends proxy notification EXTRAS_STATE_CHANGED</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-sendstate-function-signature'>Function Signature:</h4>
<p><code>Extras:sendState(proxyId)</code></p>
<h3 id='light-v2-extras-interface-library-extras-class-section'>Section</h3>
<p>Structure that represent a section. Holds section name and ExtrasObject based classes array.</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>label</td>
<td>string</td>
</tr>
<tr>
<td>objects</td>
<td>ExtrasObjectBasedClass]</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extrasobjectbasedclass'>ExtrasObjectBasedClass</h3>
<p>This alias is for all classes that inherits the ExtrasObject class.</p>
<h5 id='light-v2-extras-interface-library-extras-class-extrasobjectbasedclass-function-signature-type'>Type</h5>
<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>ExtrasObjectBasedClass</td>
<td>ExtrasButton, ExtrasCheckbox</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-string_bool'>string_bool</h3>
<p>Alias for values can be provided as hide argument</p>
<h5 id='light-v2-extras-interface-library-extras-class-string_bool-function-signature-type'>Type</h5>
<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>string\_bool</td>
<td>&quot;true&quot; &quot;false&quot;</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras'>Extras</h3>
<p>Container class for the ExtrasObject based instances (Button, Checkbox ...) This class is used to hold ExtrasObject based instances and to handle XML assembling and sending. This class handles sections as well as = inheritsFrom(nil)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>sections</td>
<td>Section</td>
</tr>
<tr>
<td>proxyId</td>
<td>number</td>
</tr>
<tr>
<td>has\_extras</td>
<td>boolean</td>
</tr>
</tbody></table>
<h4 id='light-v2-extras-interface-library-extras-class-extras-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>proxyId</td>
<td>number</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-addsection'>Extras:addSection</h3>
<p>Adds section to the instance</p>

<p>A <em>Section</em> table will be initialized and added in the <em>self.sections</em> field. The <em>object</em> field of the table type <em>Section</em> will bi initialized as empty table. Section order in the CI will be in the same order section were added in the container class instance.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-addsection-function-signature'>Function Signature:</h4>
<p><code>Extras:addSection(label)</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-addsection-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>label</td>
<td>string</td>
<td>Name of the section that will be displayed in the CI</td>
</tr>
</tbody></table>
<h4 id='light-v2-extras-interface-library-extras-class-extras-addsection-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ret</td>
<td>boolean</td>
<td>Returns true if insertion was successful</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-removesection'>Extras:removeSection</h3>
<p>Removes the section with the label <em>sectionLabel</em> from the list</p>

<p>This method will remove the section with label <em>sectionLabel</em> and all objects in the section. Section indexes will be changed to fill
the  empty space but the order will not change.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-removesection-function-signature'>Function Signature:</h4>
<p><code>Extras:removeSection(sectionLabel)</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-removesection-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sectionLabel</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h4 id='light-v2-extras-interface-library-extras-class-extras-removesection-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ret</td>
<td>boolean</td>
<td>Returns true if the operation was successful</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-getsection'>Extras:getSection</h3>
<p>Returns section table with the label <em>sectionLabel</em></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-getsection-function-signature'>Function Signature:</h4>
<p><code>Extras:getSection(sectionLabel)</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-getsection-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sectionLabel</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h4 id='light-v2-extras-interface-library-extras-class-extras-getsection-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>section</td>
<td>Section: nil</td>
<td></td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-changesection'>Extras:changeSection</h3>
<p>Moves extras object with <em>id</em> in section named <em>newSection</em></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-changesection-function-signature'>Function Signature:</h4>
<p><code>Extras:changeSection(id, newSection)</code></p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-changesection-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID of the extras object</td>
</tr>
<tr>
<td>newSection</td>
<td>string</td>
<td>Name of the new section to put the object</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extras-class-extras-cleancapability'>Extras:cleanCapability</h3>
<p>This method cleans the has_extras capability.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-cleancapability-function-signature'>Function Signature:</h4>
<p><code>Extras:cleanCapability()</code></p>
<h3 id='light-v2-extras-interface-library-extras-class-extras-setcapability'>Extras:setCapability</h3>
<p>This method sets the has_extras capability.</p>
<h4 id='light-v2-extras-interface-library-extras-class-extras-setcapability-function-signature'>Function Signature:</h4>
<p><code>Extras:setCapability()</code></p>

<h2 id='light-v2-extras-interface-library-extrasbutton'>ExtrasButton</h2><h3 id='light-v2-extras-interface-library-extrasbutton-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras Button object. The class interface provides following cations:</p>

<ul>
<li>Initialization of an Extras Button object</li>
<li>Setting Extras Button object parameters (label, button text, etc)</li>
</ul>
<h3 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-extrasobject'>ExtrasButton : ExtrasObject</h3>
<p>Class that represent extras button functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasButton = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
</tr>
<tr>
<td></td>
<td>text</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-construct'>ExtrasButton:construct</h3>
<p>ExtrasButton constructor</p>
<h4 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-construct-function-signature'>Function Signature:</h4>
<p><code>ExtrasButton:construct(objParams, text)</code></p>
<h4 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-construct-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters</td>
<td>For initialization of the base class</td>
</tr>
<tr>
<td>text</td>
<td>string</td>
<td>Button text that will be displayed on the button in the CI</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-makesetupxml'>ExtrasButton:makeSetupXml</h3>
<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to
 GET_EXTRAS_SETUP Proxy message.</p>
<h4 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-makesetupxml-function-signature'>Function Signature:</h4>
<p><code>ExtrasButton:makeSetupXml()</code></p>
<h4 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-makesetupxml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-getstatexml'>ExtrasButton:getStateXml</h3>
<p>Returns XML string that represents extras object state</p>

<p>This method overrides the method from the base class. This string should be incorporated in response to GET_EXTRAS_STATE
 command. <em>id</em> and <em>value</em> fields will be escaped and integrated in the string.</p>

<p>The string will be return in the following command:
 <code>- \&lt;object id= &quot;\[self.id]&quot; value=&quot;\[self.value]&quot; /\&gt;</code></p>
<h4 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-getstatexml-function-signature'>Function Signature:</h4>
<p><code>ExtrasButton:getStateXml()</code></p>
<h4 id='light-v2-extras-interface-library-extrasbutton-extrasbutton-getstatexml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrascheckbox'>ExtrasCheckbox</h2><h3 id='light-v2-extras-interface-library-extrascheckbox-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras Checkbox object. The class interface provides following cations:</p>

<ul>
<li>Initialization of an Extras Checkbox object</li>
<li>Setting Extras Checkbox object parameters and value</li>
</ul>
<h3 id='light-v2-extras-interface-library-extrascheckbox-extrascheckbox-extrasobject'>ExtrasCheckbox : ExtrasObject</h3>
<p>Class that represent extras checkbox functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasCheckbox = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
</tr>
<tr>
<td>name</td>
<td>Methafield</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrascheckbox-extrascheckbox-construct'>ExtrasCheckbox:construct</h3>
<p>ExtrasCheckbox constructor</p>
<h4 id='light-v2-extras-interface-library-extrascheckbox-extrascheckbox-construct-function-signature'>Function Signature:</h4>
<p><code>ExtrasCheckbox:construct(objParams, value)</code></p>
<h4 id='light-v2-extras-interface-library-extrascheckbox-extrascheckbox-construct-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters</td>
<td>For initialization of the base class</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Checkbox value (true, false) that will be displayed on the button in the CI</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrascheckbox-extrascheckbox-makesetupxml'>ExtrasCheckbox:makeSetupXml</h3>
<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to GET_EXTRAS_SETUP Proxy message.</p>
<h4 id='light-v2-extras-interface-library-extrascheckbox-extrascheckbox-makesetupxml-function-signature'>Function Signature:</h4>
<p><code>ExtrasCheckbox:makeSetupXml()</code></p>
<h4 id='light-v2-extras-interface-library-extrascheckbox-extrascheckbox-makesetupxml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasicon'>ExtrasIcon</h2><h3 id='light-v2-extras-interface-library-extrasicon-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras Icon object. The class interface provides following cations:</p>

<ul>
<li>Initialization of an Extras Icon object</li>
<li>Setting Extras Icon object parameters and value</li>
</ul>
<h3 id='light-v2-extras-interface-library-extrasicon-extrasicon-extrasobject'>ExtrasIcon : ExtrasObject</h3>
<p>Class that represent extras icon functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasIcon = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
</tr>
<tr>
<td>name</td>
<td>Methafield</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasicon-extrasicon-construct'>ExtrasIcon:construct</h3>
<p>ExtrasIcon constructor</p>
<h4 id='light-v2-extras-interface-library-extrasicon-extrasicon-construct-function-signature'>Function Signature:</h4>
<p><code>ExtrasIcon:construct(objParams, value)</code></p>
<h4 id='light-v2-extras-interface-library-extrasicon-extrasicon-construct-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters: For initialization of the base class</td>
<td></td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Link or path to the image that will be displayed in the CI</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasicon-extrasicon-makesetupxml'>ExtrasIcon:makeSetupXml</h3>
<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to
 GET_EXTRAS_SETUP Proxy message.</p>
<h4 id='light-v2-extras-interface-library-extrasicon-extrasicon-makesetupxml-function-signature'>Function Signature:</h4>
<p><code>ExtrasIcon:makeSetupXml()</code></p>
<h4 id='light-v2-extras-interface-library-extrasicon-extrasicon-makesetupxml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extraslist'>ExtrasList</h2><h3 id='light-v2-extras-interface-library-extraslist-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras List object. The class interface provides following cations:</p>

<ul>
<li>Initialization of an Extras List object</li>
<li>Setting Extras Checkbox object parameters and list parameters</li>
<li>Setting the currently selected item</li>
</ul>
<h3 id='light-v2-extras-interface-library-extraslist-extraslistparameters'>ExtrasListParameters</h3>
<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
</tr>
<tr>
<td>maxSelections</td>
<td>Maximal</td>
</tr>
<tr>
<td>minSelections</td>
<td>Minimal</td>
</tr>
<tr>
<td>list</td>
<td>table\&lt;string,string\&gt;</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extraslist-extraslist-extrasobject'>ExtrasList : ExtrasObject</h3>
<p>Class that represent extras list functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasList = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>\_\_name</td>
<td>Methafield</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>maxSelections</td>
<td>number</td>
<td style="text-align: left">string</td>
</tr>
<tr>
<td>minSelections</td>
<td>number</td>
<td style="text-align: left">string</td>
</tr>
<tr>
<td>list</td>
<td>table \&lt;string,string\&gt;</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extraslist-extraslist-construct'>ExtrasList:construct</h3>
<p>ExtrasList constructor</p>
<h4 id='light-v2-extras-interface-library-extraslist-extraslist-construct-function-signature'>Function Signature:</h4>
<p><code>ExtrasList:construct(objParams, listParams)</code></p>
<h4 id='light-v2-extras-interface-library-extraslist-extraslist-construct-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters: For initialization of the base class</td>
</tr>
<tr>
<td>ExtrasListParameters</td>
<td>Parameters for initialization of the list</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extraslist-extraslist-makelistxml'>ExtrasList:makeListXml</h3>
<p>Returns the xml string needed to for response to the GET_EXTRAS_SETUP proxy message.</p>

<p>Returns complete list tag. This tag should be a child tag of the object tag.</p>
<h4 id='light-v2-extras-interface-library-extraslist-extraslist-makelistxml-function-signature'>Function Signature:</h4>
<p><code>ExtrasList:makeListXml()</code></p>
<h4 id='light-v2-extras-interface-library-extraslist-extraslist-makelistxml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>mxl</td>
<td>string</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extraslist-extraslist-makesetupxml'>ExtrasList:makeSetupXml</h3>
<p>Returns XML string that represents the list setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to GET_EXTRAS_SETUP Proxy message.</p>
<h4 id='light-v2-extras-interface-library-extraslist-extraslist-makesetupxml-function-signature'>Function Signature:</h4>
<p><code>ExtrasList:makeSetupXml()</code></p>
<h4 id='light-v2-extras-interface-library-extraslist-extraslist-makesetupxml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasnumber'>ExtrasNumber</h2><h3 id='light-v2-extras-interface-library-extrasnumber-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras Number object. The class interface provides following cations:</p>

<ul>
<li>Initialization of an Extras Number object</li>
<li>Setting Extras Number object parameters, number parameters</li>
</ul>
<h3 id='light-v2-extras-interface-library-extrasnumber-extrasnumber-extrasobject'>ExtrasNumber : ExtrasObject</h3>
<p>Class that represent extras number functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasNumber = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>name</td>
<td>Methafield</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>min</td>
<td>number</td>
<td style="text-align: left">string</td>
</tr>
<tr>
<td>max</td>
<td>number</td>
<td style="text-align: left">string</td>
</tr>
<tr>
<td>resolution</td>
<td>number</td>
<td style="text-align: left">string</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasnumber-extrasnumber-construct'>ExtrasNumber:construct</h3>
<p>ExtrasNumber constructor</p>
<h4 id='light-v2-extras-interface-library-extrasnumber-extrasnumber-construct-function-signature'>Function Signature:</h4>
<p><code>ExtrasNumber:construct(objParams, numberParams)</code></p>
<h4 id='light-v2-extras-interface-library-extrasnumber-extrasnumber-construct-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters</td>
<td>For initialization of the base class</td>
</tr>
<tr>
<td>numberParams</td>
<td>table\&lt;string,number\</td>
<td>string\&gt;</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasnumber-extrasnumber-makesetupxml'>ExtrasNumber:makeSetupXml</h3>
<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to
 GET_EXTRAS_SETUP Proxy message.</p>
<h4 id='light-v2-extras-interface-library-extrasnumber-extrasnumber-makesetupxml-function-signature'>Function Signature:</h4>
<p><code>ExtrasNumber:makeSetupXml()</code></p>
<h4 id='light-v2-extras-interface-library-extrasnumber-extrasnumber-makesetupxml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasobject'>ExtrasObject</h2><h3 id='light-v2-extras-interface-library-extrasobject-extrasobject'>ExtrasObject</h3>
<p>Base class for classes that represent extras objects (button, checkbox ...) Should not create independent instance from this class This class only purpose is to be base class for extras object classesrasObject = inheritsFrom(nil)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
</tr>
<tr>
<td>command</td>
<td>string</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
</tr>
<tr>
<td>hidden</td>
<td>string\_bool</td>
</tr>
<tr>
<td>readonly</td>
<td>string\_bool</td>
</tr>
<tr>
<td>extraparams</td>
<td>table\&lt;string,string\&gt;</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasobject-extrasobject-construct'>ExtrasObject:construct</h3>
<p>ExtrasObject constructor</p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-construct-function-signature'>Function Signature:</h4>
<p><code>ExtrasObject:construct(objParams)</code></p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-construct-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters: Table of parameters needed to assemble XML</td>
<td></td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasobject-extrasobject-addextraparam'>ExtrasObject:addExtraparam</h3>
<p>Adding extra parameter to the Object instance</p>

<p>If extra parameter is added, tParams argument of the Proxy command will contain value of the extras object with <em>id</em>.</p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-addextraparam-function-signature'>Function Signature:</h4>
<p><code>ExtrasObject:addExtraparam(id, name)</code></p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-addextraparam-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID of the extras object that will be connected</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>of the extras object that will be connected</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasobject-extrasobject-removeextraparam'>ExtrasObject:removeExtraparam</h3>
<p>Removing extra parameter from the list</p>

<p>This method will remove extra parameter with <em>id</em> and value of that extras object will not be received in proxy command.</p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-removeextraparam-function-signature'>Function Signature:</h4>
<p><code>ExtrasObject:removeExtraparam(id)</code></p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-removeextraparam-function-parameters'>Function Parameters:</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasobject-extrasobject-getstatexml'>ExtrasObject:getStateXml</h3>
<p>Returns XML string that represents extras object state</p>

<p>This string should be incorporated in response to GET_EXTRAS_STATE command. <em>id</em> and <em>value</em> fields will be escaped and integrated in the string. The string will be return in the following command:
`<code>- \&lt;object id= &quot;\[self.id]&quot; value=&quot;\</code>self.value&quot; /&gt;
``</p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-getstatexml-function-signature'>Function Signature:</h4>
<p><code>ExtrasObject:getStateXml()</code></p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-getstatexml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasobject-extrasobject-getextraparamsxml'>ExtrasObject:getExtraparamsXml</h3>
<p>Returns XML string that represents list of extraparameters</p>

<p>This string should be incorporated in response to GET_EXTRAS_SETUP Key and value of the <em>extraparams</em> field will be escaped end integrated in the message.</p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-getextraparamsxml-function-signature'>Function Signature:</h4>
<p><code>ExtrasObject:getExtraparamsXml()</code></p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-getextraparamsxml-returns'>Returns:</h4>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrasobject-extrasobject-update'>ExtrasObject:update</h3>
<p>Update extras object individually.</p>

<p>This method should be called when the user wants to udate an object individually. The method from the Extras class will update all objects, this method will update just this on object. Also, this method is inherited by all ExtrasObjectBasedClass instances.</p>
<h4 id='light-v2-extras-interface-library-extrasobject-extrasobject-update-function-signature'>Function Signature:</h4>
<p>ExtrasObject:update(value, hidden)</p>
<h3 id='light-v2-extras-interface-library-extrasobject-function-parameters'>Function Parameters:</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>New value for the extras object</td>
</tr>
<tr>
<td>hidden</td>
<td>string</td>
<td>Hide the object or not</td>
</tr>
</tbody></table>
<h2 id='light-v2-extras-interface-library-extrasslider-extrasobject'>ExtrasSlider : ExtrasObject</h2>

<p>Class that represent extras slider functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasSlider = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
</tr>
<tr>
<td>\_\_name</td>
<td>Methafield</td>
</tr>
<tr>
<td>min</td>
<td>number\</td>
</tr>
<tr>
<td>max</td>
<td>number\</td>
</tr>
<tr>
<td>resolution</td>
<td>number\</td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasslider-construct'>ExtrasSlider:construct</h2>

<p>ExtrasSlider constructor</p>

<h3 id='light-v2-extras-interface-library-extrasslider-construct-function-signature'>Function Signature:</h3>

<p><code>ExtrasSlider:construct(objParams, sliderParams)</code></p>

<h3 id='light-v2-extras-interface-library-extrasslider-construct-function-parameters'>Function Parameters:</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters: For initialization of the base class</td>
<td></td>
</tr>
<tr>
<td>sliderParams</td>
<td>table\&lt;string,number\</td>
<td>string\&gt;</td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasslider-makesetupxml'>ExtrasSlider:makeSetupXml</h2>

<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to
 GET_EXTRAS_SETUP Proxy message.</p>

<h3 id='light-v2-extras-interface-library-extrasslider-makesetupxml-function-signature'>Function Signature:</h3>

<p><code>ExtrasSlider:makeSetupXml()</code></p>

<h3 id='light-v2-extras-interface-library-extrasslider-makesetupxml-returns'>Returns:</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasobject'>ExtrasObject</h2>

<p>Base class for classes that represent extras objects (button, checkbox ...) Should not create independent instance from this class This class only purpose is to be base class for extras object classesrasObject = inheritsFrom(nil)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
</tr>
<tr>
<td>command</td>
<td>string</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
</tr>
<tr>
<td>hidden</td>
<td>string\_bool</td>
</tr>
<tr>
<td>readonly</td>
<td>string\_bool</td>
</tr>
<tr>
<td>extraparams</td>
<td>table\&lt;string,string\&gt;</td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasobject-construct'>ExtrasObject:construct</h2>

<p>ExtrasObject constructor</p>

<h3 id='light-v2-extras-interface-library-extrasobject-construct-function-signature'>Function Signature:</h3>

<p><code>ExtrasObject:construct(objParams)</code></p>

<h3 id='light-v2-extras-interface-library-extrasobject-construct-function-parameters'>Function Parameters:</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters: Table of parameters needed to assemble XML</td>
<td></td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasobject-addextraparam'>ExtrasObject:addExtraparam</h2>

<p>Adding extra parameter to the Object instance</p>

<p>If extra parameter is added, tParams argument of the Proxy command will contain value of the extras object with <em>id</em>.</p>

<h3 id='light-v2-extras-interface-library-extrasobject-addextraparam-function-signature'>Function Signature:</h3>

<p><code>ExtrasObject:addExtraparam(id, name)</code></p>

<h3 id='light-v2-extras-interface-library-extrasobject-addextraparam-function-parameters'>Function Parameters:</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>ID of the extras object that will be connected</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>of the extras object that will be connected</td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasobject-removeextraparam'>ExtrasObject:removeExtraparam</h2>

<p>Removing extra parameter from the list</p>

<p>This method will remove extra parameter with <em>id</em> and value of that extras object will not be received in proxy command.</p>

<h3 id='light-v2-extras-interface-library-extrasobject-removeextraparam-function-signature'>Function Signature:</h3>

<p><code>ExtrasObject:removeExtraparam(id)</code></p>

<h3 id='light-v2-extras-interface-library-extrasobject-removeextraparam-function-parameters'>Function Parameters:</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasobject-getstatexml'>ExtrasObject:getStateXml</h2>

<p>Returns XML string that represents extras object state</p>

<p>This string should be incorporated in response to GET_EXTRAS_STATE command. <em>id</em> and <em>value</em> fields will be escaped and integrated in the string.The string will be return in the following command:
<code>- \&lt;object id= &quot;\[self.id]&quot; value=&quot;\[self.value]&quot; /\&gt;</code></p>

<h3 id='light-v2-extras-interface-library-extrasobject-getstatexml-function-signature'>Function Signature:</h3>

<p><code>ExtrasObject:getStateXml()</code></p>

<h3 id='light-v2-extras-interface-library-extrasobject-getstatexml-returns'>Returns:</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasobject-getextraparamsxml'>ExtrasObject:getExtraparamsXml</h2>

<p>Returns XML string that represents list of extraparameters</p>

<p>This string should be incorporated in response to GET_EXTRAS_SETUP Key and value of the <em>extraparams</em> field will be escaped end integrated in the message.</p>

<h3 id='light-v2-extras-interface-library-extrasobject-getextraparamsxml-function-signature'>Function Signature:</h3>

<p><code>ExtrasObject:getExtraparamsXml()</code></p>

<h3 id='light-v2-extras-interface-library-extrasobject-getextraparamsxml-returns'>Returns:</h3>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<h2 id='light-v2-extras-interface-library-extrasobject-update'>ExtrasObject:update</h2>

<p>Update extras object individually.</p>

<p>This method should be called when the user wants to update an object individually. The method from the Extras class will update all objects, this method will update just this on object. Also, this method is inherited by all ExtrasObjectBasedClass instances.</p>

<h3 id='light-v2-extras-interface-library-extrasobject-update-function-signature'>Function Signature:</h3>

<p>ExtrasObject:update(value, hidden)</p>

<h2 id='light-v2-extras-interface-library-function-parameters'>Function Parameters:</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>New value for the extras object</td>
</tr>
<tr>
<td>hidden</td>
<td>string</td>
<td>Hide the object or not</td>
</tr>
</tbody></table>

<p><h2 id='light-v2-extras-interface-library-extrasslider'>ExtrasSlider</h2><h3 id='light-v2-extras-interface-library-extrasslider-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras Slider object. The class interface provides following cations:</p></p>

<ul>
<li>Initialization of an Extras Slider object</li>
<li>Setting Extras Slider object parameters and slider parameters</li>
</ul>

<h3 id='light-v2-extras-interface-library-extrasslider-extrasslider-extrasobject'>ExtrasSlider : ExtrasObject</h3>

<p>Class that represent extras slider functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasSlider = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>name</td>
<td>Methafield</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td>min</td>
<td>number</td>
<td style="text-align: left">string</td>
</tr>
<tr>
<td>max</td>
<td>number</td>
<td style="text-align: left">string</td>
</tr>
<tr>
<td>resolution</td>
<td>number</td>
<td style="text-align: left">string</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-extrasslider-extrasslider-construct'>ExtrasSlider:construct</h3>

<p>ExtrasSlider constructor</p>

<h4 id='light-v2-extras-interface-library-extrasslider-extrasslider-construct-function-signature'>Function Signature:</h4>

<p><code>ExtrasSlider:construct(objParams, sliderParams)</code></p>

<h4 id='light-v2-extras-interface-library-extrasslider-extrasslider-construct-function-parameters'>Function Parameters:</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters</td>
<td>For initialization of the base class</td>
</tr>
<tr>
<td>sliderParams</td>
<td>table\&lt;string,number\</td>
<td>string\&gt;</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-extrasslider-extrasslider-makesetupxml'>ExtrasSlider:makeSetupXml</h3>

<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to
 GET_EXTRAS_SETUP Proxy message.</p>

<h4 id='light-v2-extras-interface-library-extrasslider-extrasslider-makesetupxml-function-signature'>Function Signature:</h4>

<p><code>ExtrasSlider:makeSetupXml()</code></p>

<h4 id='light-v2-extras-interface-library-extrasslider-extrasslider-makesetupxml-returns'>Returns:</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<p><h2 id='light-v2-extras-interface-library-extrasswitch'>ExtrasSwitch</h2><h3 id='light-v2-extras-interface-library-extrasswitch-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras Switch object. The class interface provides following cations:</p></p>

<ul>
<li>Initialization of an Extras Switch object</li>
<li>Setting Extras Switch object parameters and value</li>
</ul>

<h3 id='light-v2-extras-interface-library-extrasswitch-extrasswitch-extrasobject'>ExtrasSwitch : ExtrasObject</h3>

<p>Class that represent extras switch functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasSwitch = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
</tr>
<tr>
<td>\_\_name</td>
<td>Methafield</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-extrasswitch-extrasswitch-construct'>ExtrasSwitch:construct</h3>

<p>ExtrasSwitch constructor</p>

<h4 id='light-v2-extras-interface-library-extrasswitch-extrasswitch-construct-function-signature'>Function Signature:</h4>

<p><code>ExtrasSwitch:construct(objParams, value)</code></p>

<h4 id='light-v2-extras-interface-library-extrasswitch-extrasswitch-construct-function-parameters'>Function Parameters:</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters</td>
<td>For initialization of the base class</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Switch value (true, false) that will be displayed on the button in the CI</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-extrasswitch-extrasswitch-makesetupxml'>ExtrasSwitch:makeSetupXml</h3>

<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to GET_EXTRAS_SETUP Proxy message.</p>

<h4 id='light-v2-extras-interface-library-extrasswitch-extrasswitch-makesetupxml-function-signature'>Function Signature:</h4>

<p><code>ExtrasSwitch:makeSetupXml()</code></p>

<h4 id='light-v2-extras-interface-library-extrasswitch-extrasswitch-makesetupxml-returns'>Returns:</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<p><h2 id='light-v2-extras-interface-library-extrastext'>ExtrasText</h2><h3 id='light-v2-extras-interface-library-extrastext-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras Text object. The class interface provides following cations:</p></p>

<ul>
<li>Initialization of an Extras Text object</li>
<li>Setting Extras Text object parameters and value</li>
</ul>

<h3 id='light-v2-extras-interface-library-extrastext-extrastext-extrasobject'>ExtrasText : ExtrasObject</h3>

<p>Class that represent extras text functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasText = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
</tr>
<tr>
<td>name</td>
<td>Methafield</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-extrastext-extrastext-construct'>ExtrasText:construct</h3>

<p>ExtrasText constructor</p>

<h4 id='light-v2-extras-interface-library-extrastext-extrastext-construct-function-signature'>Function Signature:</h4>

<p><code>ExtrasText:construct(objParams, value)</code></p>

<h4 id='light-v2-extras-interface-library-extrastext-extrastext-construct-function-parameters'>Function Parameters:</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters</td>
<td>For initialization of the base class</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Text value that will be displayed on the element in the CI</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-extrastext-extrastext-makesetupxml'>ExtrasText:makeSetupXml</h3>

<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to GET_EXTRAS_SETUP Proxy message.</p>

<h4 id='light-v2-extras-interface-library-extrastext-extrastext-makesetupxml-function-signature'>Function Signature:</h4>

<p><code>ExtrasText:makeSetupXml()</code></p>

<h4 id='light-v2-extras-interface-library-extrastext-extrastext-makesetupxml-returns'>Returns:</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<p><h2 id='light-v2-extras-interface-library-extrastextfield'>ExtrasTextField</h2><h3 id='light-v2-extras-interface-library-extrastextfield-overview'>Overview</h3>
<p>This class represents an abstraction of the Extras Text Field object. The class interface provides following cations:</p></p>

<ul>
<li>Initialization of an Extras Text Field object</li>
<li>Setting Extras Text Field object parameters, text field mode and value</li>
</ul>

<h3 id='light-v2-extras-interface-library-extrastextfield-textfieldmode'>TextFieldMode</h3><h5 id='light-v2-extras-interface-library-extrastextfield-textfieldmode-returns-type'>Type</h5>
<table><thead>
<tr>
<th>Name</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>TextFieldMode</td>
<td>&quot;normal&quot;\</td>
</tr>
</tbody></table>
<h3 id='light-v2-extras-interface-library-extrastextfield-extrastextfield-extrasobject'>ExtrasTextField : ExtrasObject</h3>

<p>Class that represent extras checkbox functionality. This class is derived from ExtrasObject. Instance of the class can be created independently but will not be displayed alone, it should be added to the instance of the Extras class.rasTextField = inheritsFrom(ExtrasObject)</p>

<table><thead>
<tr>
<th>Field Name</th>
<th>Field Type</th>
</tr>
</thead><tbody>
<tr>
<td>TYPE</td>
<td>string</td>
</tr>
<tr>
<td>\_\_name</td>
<td>Methafield</td>
</tr>
<tr>
<td>mode</td>
<td>TextFieldMode</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-extrastextfield-extrastextfield-construct'>ExtrasTextField:construct</h3>

<p>ExtrasTextField constructor</p>

<h4 id='light-v2-extras-interface-library-extrastextfield-extrastextfield-construct-function-signature'>Function Signature:</h4>

<p><code>ExtrasTextField:construct(objParams, value, mode)</code></p>

<h4 id='light-v2-extras-interface-library-extrastextfield-extrastextfield-construct-function-parameters'>Function Parameters:</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>objParams</td>
<td>ObjectParameters</td>
<td>For initialization of the base class</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>TextField value that will be displayed on the field in the CI</td>
</tr>
<tr>
<td>mode</td>
<td>TextFieldMode</td>
<td>Text field mode: password, numberic ...</td>
</tr>
</tbody></table>

<h3 id='light-v2-extras-interface-library-extrastextfield-extrastextfield-makesetupxml'>ExtrasTextField:makeSetupXml</h3>

<p>Returns XML string that represents the button setup with all extraparameters</p>

<p>Makes XML that should be integrated in the response to
 GET_EXTRAS_SETUP Proxy message.</p>

<h4 id='light-v2-extras-interface-library-extrastextfield-extrastextfield-makesetupxml-function-signature'>Function Signature:</h4>

<p><code>ExtrasTextField:makeSetupXml()</code></p>

<h4 id='light-v2-extras-interface-library-extrastextfield-extrastextfield-makesetupxml-returns'>Returns:</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xml</td>
<td>string</td>
<td></td>
</tr>
</tbody></table>

<p><h2 id='light-v2-extras-interface-library-extras-library-use-case-examples'>Extras Library Use Case Examples</h2><h3 id='light-v2-extras-interface-library-extras-library-use-case-examples-importing-the-library'>Importing the library</h3>
<p>To use this library, please move all <code>*.lua</code> files to the source directory of your driver, then import <code>Extras.lua</code> file in your <code>driver.lua</code> file. The <code>Extras.lua</code> file includes all other library files needed.</p></p>

<p>This library depends on a driver template. Please, make sure that the driver template files are included in the path.
<strong>NOTE</strong> Make sure paths are setup correctly</p>

<p><h3 id='light-v2-extras-interface-library-extras-library-use-case-examples-how-to-use-the-library'>How to use the library</h3><h4 id='light-v2-extras-interface-library-extras-library-use-case-examples-how-to-use-the-library-set-up'>Set Up</h4>
<p>The code to the right is an example how to setup the extras library:</p>
<div class="highlight"><pre class="highlight lua tab-lua"><code><span class="nb">require</span> <span class="s2">&quot;Extas&quot;</span></p>

<p><span class="k">function</span> <span class="nc">ON_DRIVER_INIT</span><span class="p">.</span><span class="nf">SetupExtras</span><span class="p">()</span>
    <span class="n">extras</span> <span class="o">=</span> <span class="n">Extras</span><span class="p">:</span><span class="n">new</span><span class="p">(</span><span class="n">DEFAULT_PROXY_BINDINGID</span><span class="p">)</span>
    <span class="n">extras</span><span class="p">:</span><span class="n">addSection</span><span class="p">(</span><span class="s2">&quot;ButtonLabel&quot;</span><span class="p">)</span>
    <span class="n">extras</span><span class="p">:</span><span class="n">addSection</span><span class="p">(</span><span class="s2">&quot;CheckboxLabel&quot;</span><span class="p">)</span>
    <span class="kd">local</span> <span class="n">bt1Table</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">id</span> <span class="o">=</span> <span class="s2">&quot;Button1ID&quot;</span><span class="p">,</span>
        <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Button 1 Label&quot;</span><span class="p">,</span>
        <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;Button1Command&quot;</span><span class="p">,</span>
        <span class="n">extraparams</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">Checkbox4ID</span> <span class="o">=</span> <span class="s2">&quot;Extr1&quot;</span><span class="p">,</span>
            <span class="n">Checkbox3ID</span> <span class="o">=</span> <span class="s2">&quot;Extr2&quot;</span><span class="p">,</span>
            <span class="n">Button2ID</span> <span class="o">=</span> <span class="s2">&quot;Extr3&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="n">extras</span><span class="p">:</span><span class="n">addObjects</span><span class="p">({</span><span class="n">ExtrasButton</span><span class="p">:</span><span class="n">new</span><span class="p">(</span><span class="n">bt1Table</span><span class="p">,</span> <span class="s2">&quot;ButtonText1&quot;</span><span class="p">),</span>
           <span class="n">ExtrasButton</span><span class="p">:</span><span class="n">new</span><span class="p">({</span><span class="n">id</span> <span class="o">=</span> <span class="s2">&quot;Button3ID&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Button 3 Label&quot;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;Button1Command&quot;</span><span class="p">},</span> <span class="s2">&quot;ButtonText3&quot;</span><span class="p">),</span>
           <span class="n">ExtrasButton</span><span class="p">:</span><span class="n">new</span><span class="p">({</span><span class="n">id</span> <span class="o">=</span> <span class="s2">&quot;Button2ID&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Button 2 Label&quot;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;Button1Command&quot;</span><span class="p">},</span> <span class="s2">&quot;ButtonText2&quot;</span><span class="p">),</span>
           <span class="n">ExtrasButton</span><span class="p">:</span><span class="n">new</span><span class="p">({</span><span class="n">id</span> <span class="o">=</span> <span class="s2">&quot;Button4ID&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Button 4 Label&quot;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;Button1Command&quot;</span><span class="p">},</span> <span class="s2">&quot;ButtonText4&quot;</span><span class="p">)},</span>
           <span class="s2">&quot;ButtonLabel&quot;</span><span class="p">)</span>
    <span class="n">extras</span><span class="p">:</span><span class="n">addObjects</span><span class="p">({</span><span class="n">ExtrasCheckbox</span><span class="p">:</span><span class="n">new</span><span class="p">({</span><span class="n">id</span> <span class="o">=</span> <span class="s2">&quot;Checkbox1ID&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Checkbox 1 Label&quot;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;Checkbox1Command&quot;</span><span class="p">},</span> <span class="s2">&quot;true&quot;</span><span class="p">),</span>
           <span class="n">ExtrasCheckbox</span><span class="p">:</span><span class="n">new</span><span class="p">({</span><span class="n">id</span> <span class="o">=</span> <span class="s2">&quot;Checkbox2ID&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Checkbox 2 Label&quot;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;Checkbox1Command&quot;</span><span class="p">},</span> <span class="s2">&quot;true&quot;</span><span class="p">),</span>
           <span class="n">ExtrasCheckbox</span><span class="p">:</span><span class="n">new</span><span class="p">({</span><span class="n">id</span> <span class="o">=</span> <span class="s2">&quot;Checkbox3ID&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Checkbox 3 Label&quot;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;Checkbox1Command&quot;</span><span class="p">},</span> <span class="s2">&quot;true&quot;</span><span class="p">),</span>
           <span class="n">ExtrasCheckbox</span><span class="p">:</span><span class="n">new</span><span class="p">({</span><span class="n">id</span> <span class="o">=</span> <span class="s2">&quot;Checkbox4ID&quot;</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;Checkbox 4 Label&quot;</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;Checkbox1Command&quot;</span><span class="p">},</span> <span class="s2">&quot;true&quot;</span><span class="p">)},</span>
           <span class="s2">&quot;CheckboxLabel&quot;</span><span class="p">)</span>
    <span class="n">extras</span><span class="p">:</span><span class="n">sendSetup</span><span class="p">(</span><span class="n">DEFAULT_PROXY_BINDINGID</span><span class="p">)</span>
<span class="k">end</span></p>

<p></code></pre></div>
<ul>
<li>Section order in the CI will be in the same order section were added in the container class instance.</li>
<li>Object order in the CI will be in the same order objects were added in the section.</li>
<li>Remember that object could be added as separated elements or as an array of objects.</li>
<li>This setup can be called in <code>DriverLateInit()</code>. Setting extras in the <code>DriverInit()</code> callback is possible but not recommended.</li>
</ul>
<h4 id='light-v2-extras-interface-library-extras-library-use-case-examples-how-to-use-the-library-handling-proxy-commands'>Handling Proxy Commands</h4>
<p>The next code example shows how to write handlers for proxy commands received when extras change:</p>
<div class="highlight"><pre class="highlight lua tab-lua"><code><span class="c1">-- Proxy Command Handlers</span></p>

<p><span class="n">PRX_CMD</span><span class="p">.</span><span class="n">Button1Command</span><span class="p">(</span><span class="n">proxyId</span><span class="p">,</span> <span class="n">tParams</span><span class="p">)</span>
    <span class="n">C4</span><span class="p">:</span><span class="n">SetVariable</span><span class="p">(</span><span class="s2">&quot;Extras_Button1&quot;</span><span class="p">,</span> <span class="nb">os.date</span><span class="p">())</span>
    <span class="n">LogDebug</span><span class="p">(</span><span class="nb">os.date</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; &quot;</span> <span class="o">..</span> <span class="n">extras</span><span class="p">:</span><span class="n">getObject</span><span class="p">(</span><span class="n">tParams</span><span class="p">.</span><span class="n">id</span><span class="p">).</span><span class="n">label</span> <span class="o">..</span> <span class="s2">&quot; - Extras Button pressed&quot;</span><span class="p">)</span>
<span class="k">end</span></p>

<p><span class="k">function</span> <span class="nc">PRX_CMD</span><span class="p">.</span><span class="nf">Checkbox1Command</span><span class="p">(</span><span class="n">proxyId</span><span class="p">,</span> <span class="n">tParams</span><span class="p">)</span>
    <span class="n">C4</span><span class="p">:</span><span class="n">SetVariable</span><span class="p">(</span><span class="s2">&quot;Extras_Checkbox1&quot;</span><span class="p">,</span> <span class="n">tParams</span><span class="p">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">LogDebug</span><span class="p">(</span><span class="nb">os.date</span><span class="p">()</span> <span class="o">..</span> <span class="s2">&quot; &quot;</span> <span class="o">..</span> <span class="n">extras</span><span class="p">:</span><span class="n">getObject</span><span class="p">(</span><span class="n">tParams</span><span class="p">.</span><span class="n">id</span><span class="p">).</span><span class="n">label</span> <span class="o">..</span> <span class="s2">&quot; - Extras Checkbox switched&quot;</span><span class="p">)</span>
    <span class="n">extras</span><span class="p">:</span><span class="n">updateObject</span><span class="p">(</span><span class="n">proxyId</span><span class="p">,</span> <span class="n">tParams</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">tParams</span><span class="p">.</span><span class="n">value</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div>
<p>To handle changes in extras parameters coming from the device side, the  <code>updateObject</code> method can be used. This method updates extras object instance and sends proxy notification that extras status has been changed. Also, each <code>ExtrasObjectBasedClass</code> class supports the  <code>ExtrasObjectBasedClass:update(value, hidden)</code> method that enables extras update from the class instance directly.</p></p>

<p>It is nice to create a variable for each extras object, to give the partner opportunity to monitor and take action based on extras states. Sample variable definitions are to the right.</p>

<div class="highlight"><pre class="highlight lua tab-lua"><code><span class="c1">--Variable Examples</span>

<span class="n">C4</span><span class="p">:</span><span class="n">AddVariable</span><span class="p">(</span><span class="s2">"Extras_Button1"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"STRING"</span><span class="p">)</span>
<span class="n">C4</span><span class="p">:</span><span class="n">AddVariable</span><span class="p">(</span><span class="s2">"Extras_Checkbox1"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="s2">"BOOL"</span><span class="p">)</span>
</code></pre></div><h4 id='light-v2-extras-interface-library-extras-library-use-case-examples-how-to-use-the-library-sqishy'>Sqishy</h4>
<p>If the Lua Squish is used, the Module code snippet below should be included in the squishy file:</p>
<div class="highlight"><pre class="highlight xml tab-xml"><code>-- Lua Squish Sample

Module "Extras" "extras/Extras.lua"
Module "ExtrasObject" "extras/ExtrasObject.lua"
Module "ExtrasButton" "extras/ExtrasButton.lua"
Module "ExtrasCheckbox" "extras/ExtrasCheckbox.lua"
Module "ExtrasIcon" "extras/ExtrasIcon.lua"
Module "ExtrasList" "extras/ExtrasList.lua"
Module "ExtrasSwitch" "extras/ExtrasSwitch.lua"
Module "ExtrasNumber" "extras/ExtrasNumber.lua"
Module "ExtrasSlider" "extras/ExtrasSlider.lua"
Module "ExtrasText" "extras/ExtrasText.lua"
Module "ExtrasTextField" "extras/ExtrasTextField.lua"
</code></pre></div>

<p>In this case, the library can be used as git submodule.</p>

<h4 id='light-v2-extras-interface-library-extras-library-use-case-examples-how-to-use-the-library-removing'>Removing</h4>

<p>To remove the object or the section please use following methods:</p>

<ul>
<li><code>Extras:removeObject(id)</code></li>
<li><code>Extras:removeSection(sectionLabel)</code></li>
</ul>

<p>This way, you will avoid lost objects (objects that are in section array but will not be displayed because empty index before).
It is strongly recommended to hide rather than remove objects that will be temporary removed form the CI.</p>

<p>Before destroying an Extras class instance, please use the <code>Extras:cleanCapability()</code> method. Also, please pay attention to the Capability section of the documentation.</p>
<h1 id='light-v2-variables'>Light V2 Variables</h1>

<p><strong>Light State:</strong>
ID = 1000. Boolean indicating if the light Brightness is not at the Off preset. If you set this variable to true on a dimmer,  it will go to the On preset. On a switch, only the first variable exists. </p>

<p><strong>Brightness Percent:</strong>
ID = 1001.  An integer indicating the current brightness for a dimmer. The value should be between 0-100. </p>

<p><strong>Brightness Target Ramp Rate in Milliseconds:</strong> 
ID = 1120. Primarily for UI&#39;s who request brightness information during a ramp, as this will allow them to know how far through the ramp the light is. This is updated every 1000ms. This works for only drivers that have enabled the supports_brightness_target capability.</p>

<p><strong>Brightness Target Rate Remaining in Milliseconds:</strong>
ID = 1121. Primarily for UI&#39;s who request brightness information during a ramp, as this will allow them to know how far through the ramp the light is. This is updated every 1000ms. This works for only drivers that have enabled the supports_brightness_target capability.</p>

<p><strong>Click Rate Up: </strong>
ID = 1002. An integer indicating the number of milliseconds. (Used in &quot;On&quot; Preset).</p>

<p><strong>Click Rate Down:</strong>
ID = 1003.  An integer indicating the number of milliseconds. (Used in &quot;Off&quot; Preset).</p>

<p><strong>Hold Rate Up:</strong>
ID = 1004.  An integer indicating the number of milliseconds. (Used in &quot;Slow On&quot; Preset).</p>

<p><strong>Default On Preset Brightness:</strong>
ID = 1006. An integer indicating what the preset &quot;On&quot; brightness is and thus what a light Brightness would go to if the top wall keypad button is clicked, regardless what the light level is at and including even if the current brightness is higher. (Used in &quot;On&quot; Preset).</p>

<p><strong>Max Brightness:</strong>
ID = 1007. An integer indicating how high the light will go with a click. To go passed the max (still capped at 100%),  you need to press and hold.</p>

<p><strong>Min Brightness:</strong>
ID = 1008. An integer on how low the light will go before skipping values between this number and 0/completely off. </p>

<p><strong>Cold Start Brightness:</strong>
ID = 1009. An integer of what level to go to when first turning on before attempting to do a ramp.</p>

<p><strong>Cold Start Time:</strong>
ID = 1010. An integer indicating the amount of time in milliseconds to stay at the cold start level before starting a ramp. </p>

<p><strong>Color Presets</strong>
ID=1300. An XML string containing all of the Color Presets that are configured in the system. For UI use only.</p>

<p><strong>Color Active Presets</strong>
ID=1301. An XML string containing all of the presets that are currently active. For UI use only.</p>

<p><strong> See example to the right</strong>
<code>xml
&lt;active_presets&gt;
   &lt;preset&gt;
      &lt;name&gt;Relax&lt;/name&gt;
      &lt;id&gt;2&lt;/id&gt;
      &lt;origin&gt;2&lt;/origin&gt;
   &lt;/preset&gt;
&lt;/active_presets&gt;
</code></p>

<p>In the example to the right, the origin value indicates if the preset came from a device (1), or the color agent (2).</p>

<p><strong>Light Dynamic Capabilities</strong>
ID=6661. An XML string containing the active dynamic capabilities for this light proxy. For UI use Only.</p>

<p><strong> See example to the right</strong></p>

<div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;DynamicCapabilities&gt;</span>
  <span class="nt">&lt;supports_broadcast_scenes&gt;</span>False<span class="nt">&lt;/supports_broadcast_scenes&gt;</span>
  <span class="nt">&lt;dimmer&gt;</span>False<span class="nt">&lt;/dimmer&gt;</span>
  <span class="nt">&lt;supports_target&gt;</span>False<span class="nt">&lt;/supports_target&gt;</span>
  <span class="nt">&lt;supports_color&gt;</span>False<span class="nt">&lt;/supports_color&gt;</span>
  <span class="nt">&lt;supports_color_correlated_temperature&gt;</span>False<span class="nt">&lt;supports_color_correlated_temperature&gt;</span>
  <span class="nt">&lt;color_correlated_temperature_min&gt;</span>1000<span class="nt">&lt;color_correlated_temperature_min&gt;</span>
  <span class="nt">&lt;color_correlated_temperature_max&gt;</span>20000<span class="nt">&lt;/color_correlated_temperature_max&gt;</span>
  <span class="nt">&lt;color_rate_behavior&gt;</span>0<span class="nt">&lt;/color_rate_behavior&gt;</span>
  <span class="nt">&lt;color_rate_min&gt;</span>0<span class="nt">&lt;/color_rate_min&gt;</span>
  <span class="nt">&lt;color_rate_max&gt;</span>0<span class="nt">&lt;/color_rate_max&gt;</span>
  <span class="nt">&lt;color_trace_tolerance&gt;</span>2<span class="nt">&lt;/color_trace_tolerance&gt;</span>
  <span class="nt">&lt;has_extras&gt;</span>False<span class="nt">&lt;/has_extras&gt;</span>
  <span class="nt">&lt;click_rate_min&gt;</span>0<span class="nt">&lt;/click_rate_min&gt;</span>
  <span class="nt">&lt;click_rate_max&gt;</span>86400000<span class="nt">&lt;/click_rate_max&gt;</span>
  <span class="nt">&lt;hold_rate_min&gt;</span>1000<span class="nt">&lt;/hold_rate_min&gt;</span>
  <span class="nt">&lt;hold_rate_max&gt;</span>86400000<span class="nt">&lt;/hold_rate_max&gt;</span>
<span class="nt">&lt;/DynamicCapabilities&gt;</span>
</code></pre></div>

<p><strong>VAR_C4_NESTING_PARENTS_CHILD_DEVICES</strong>
Set this variable to a comma delimited list of ID values for the secondary device(s) required by the parent driver. This list represents the drivers that will be nested under the parent driver in Composer Pro. This is the associated driver(s) with the nested_driver_is_child capability set to true.</p>

<p><strong>VAR_C4_NESTED_CHILDS_PARENT_DEVICE</strong> 
Set the variable to the ID of primary driver requiring its use. This is the associated driver with the nesting_driver_is_parent capability set to true.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="lua">lua</a>
          </div>
      </div>
    </div>
  </body>
</html>
